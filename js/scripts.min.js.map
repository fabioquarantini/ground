{"version":3,"sources":["console.js","infinite-scroll.pkgd.js","jquery.fancybox.js","owl.carousel.js","main.js"],"names":["method","noop","methods","length","console","window","factory","define","amd","jQuery","module","exports","require","jQueryBridget","arraySlice","Array","prototype","slice","logError","message","error","namespace","PluginClass","$","option","opts","isPlainObject","this","options","extend","fn","arg0","args","call","arguments","pluginMethodStr","methodName","$elems","each","i","elem","instance","data","charAt","value","apply","returnValue","undefined","_init","updateJQuery","bridget","global","EvEmitter","proto","on","eventName","listener","events","_events","listeners","indexOf","push","once","onceEvents","_onceEvents","off","index","splice","emitEvent","onceListeners","allOff","matchesSelector","matchesMethod","ElemProto","Element","matches","prefixes","selector","fizzyUIUtils","utils","a","b","prop","modulo","num","div","makeArray","obj","isArray","removeFrom","ary","getParent","parentNode","document","body","getQueryElement","querySelector","handleEvent","event","type","filterFindElements","elems","ffElems","forEach","HTMLElement","childElems","querySelectorAll","debounceMethod","_class","threshold","timeoutName","timeout","clearTimeout","_this","setTimeout","docReady","callback","readyState","addEventListener","toDashed","str","replace","match","$1","$2","toLowerCase","htmlInit","WidgetClass","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","attr","getAttribute","JSON","parse","className","InfiniteScroll","instances","element","queryElem","infiniteScrollGUID","defaults","$element","create","destroy","GUID","id","guid","pageIndex","loadCount","updateGetPath","getPath","updateGetAbsolutePath","log","callOnInit","onInit","dispatchEvent","emitArgs","$event","jQEvent","Event","trigger","loggers","initialized","request","path","load","response","title","append","items","last","history","origin","debug","logger","updateMeasurements","windowHeight","innerHeight","rect","getBoundingClientRect","top","pageYOffset","updateScroller","elementScroll","scroller","optPath","updateGetPathTemplate","updateGetPathSelector","nextIndex","bind","regexString","templateRe","RegExp","location","href","parseInt","pathRegexes","hrefElem","pathParts","regex","isPathSelector","getAbsolutePath","pathname","directory","substring","lastIndexOf","hideNav","nav","style","display","throttle","now","Date","setJQuery","getItemsFragment","fragment","createDocumentFragment","appendChild","copyAttributes","fromNode","toNode","attrs","attributes","setAttribute","name","loadOnScroll","checkLastPage","responseType","pageLoad","canLoad","onScrollThresholdLoad","outlayer","onAppendOutlayer","loadNextPage","isLoading","url","onLoad","onError","req","onPageLoad","onPageError","XMLHttpRequest","open","setRequestHeader","onload","status","Error","statusText","onerror","send","appendNextPage","optAppend","appendReady","appendItems","appendOutlayerItems","scripts","script","freshScript","createElement","innerHTML","replaceChild","refreshScripts","imagesLoaded","appended","pathOpt","lastPageReached","prefill","isPrefilling","stopPrefill","distance","getPrefillDistance","clientHeight","scrollHeight","scrollThreshold","scrollWatch","pageScrollHandler","onPageScroll","resizeHandler","onResize","enableScrollWatch","disableScrollWatch","isScrollWatching","bindScrollWatchEvents","isBind","addRemove","getBottomDistance","getElementBottomDistance","getWindowBottomDistance","scrollTop","link","protocol","host","createHistoryAppend","createHistoryPageLoad","scrollPages","scrollPageIndex","scrollHistoryHandler","onScrollHistory","unloadHandler","onUnload","onAppendHistory","bindHistoryAppendEvents","onPageLoadHistory","destroyHistory","firstItem","elemScrollY","getElementScrollY","getElementElementScrollY","getElementWindowScrollY","offsetTop","page","scrollViewY","getScrollViewY","scrollPage","setHistory","optHistory","historyTitle","scrollY","scrollTo","InfiniteScrollButton","infScroll","clickHandler","onClick","disable","enable","hide","button","buttonElem","preventDefault","removeAttribute","disabled","removeEventListener","Button","setDisplay","show","statusElem","statusElement","statusEventElements","showRequestStatus","showErrorStatus","showLastStatus","bindHideStatus","bindMethod","hideEvent","hideAllStatus","showStatus","hideStatusEventElements","ImagesLoaded","onAlways","elements","getImages","jqDeferred","Deferred","check","Object","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","nodeType","elementNodeTypes","childImgs","img","children","child","1","9","11","LoadingImage","Background","Image","getComputedStyle","reURL","exec","backgroundImage","addBackground","loadingImage","onProgress","image","progress","progressedCount","hasAnyBroken","complete","isLoaded","notify","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","src","unbindEvents","makeJQueryPlugin","promise","info","stuff","fancybox","loop","gutter","keyboard","arrows","infobar","smallBtn","toolbar","buttons","idleTime","protect","modal","preload","ajax","settings","iframe","tpl","css","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","transitionEnd","t","el","transitions","transition","OTransition","MozTransition","WebkitTransition","forceRedraw","$el","offsetHeight","mergeOpts","opts1","opts2","rez","key","FancyBox","content","self","isMobile","currIndex","prevIndex","prevPos","currPos","firstRun","group","slides","addContent","$lastFocus","activeElement","init","$scrollDiv","$container","buttonStr","firstItemOpts","scrollbarWidth","getInstance","hideScrollbar","addClass","appendTo","offsetWidth","clientWidth","remove","translate","$refs","container","item","find","activate","jumpTo","arr","n","$item","found","srcParts","$orig","videoFormat","contentType","inArray","$trigger","$thumb","caption","split","shift","filter","keys","updateControls","Thumbs","isActive","focus","addEvents","removeEvents","e","stopPropagation","previous","next","isScaledDown","originalEvent","update","stage","isClosing","target","hasClass","is","has","keycode","keyCode","which","ctrlKey","altKey","shiftKey","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","clearInterval","duration","pos","canvasWidth","currentPos","transitionProps","groupLen","isAnimating","createSlide","getTranslate","$slide","isMoved","left","forcedDuration","isNumeric","removeClass","loadSlide","slide","stop","Math","round","width","animate","removeAttr","revealContent","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$content","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","scaleToFit","end","getFitPos","maxWidth","maxHeight","minRatio","margin","aspectRatio","right","bottom","min","floor","ratio","setTranslate","toggleClass","get","centerSlide","opacity","nextWidth","nextHeight","isZoomable","isFunction","fitPos","canPan","abs","ajaxLoad","setImage","setIframe","setContent","setError","showLoading","success","textStatus","jqXHR","one","abort","thumbSrc","temp","pxRatio","windowWidth","srcset","timouts","$img","$image","devicePixelRatio","innerWidth","map","ret","trim","postfix","sort","j","thumb","$ghost","setBigImage","sizes","resolveImageSlideSize","naturalHeight","max","hideLoading","imgWidth","imgHeight","$iframe","getTime","isReady","$body","frameWidth","frameHeight","contents","ignore","ceil","outerWidth","outerHeight","unbind","empty","hasOwnProperty","parent","$placeholder","insertAfter","html","after","$smallBtn","wrap","first","$spinner","prependTo","effect","effectClassName","start","getThumbPos","slidePos","thumbPos","ownerDocument","offset","elementRect","parentRects","parentElement","every","parentRect","visiblePixelX","visiblePixelY","isElementVisible","parseFloat","siblings","prev","isVisible","d","domRect","done","cleanUp","unshift","force","$caption","isHiddenControls","toggleControls","version","command","all","add","createTouch","test","navigator","userAgent","use3d","getPropertyValue","documentMode","props","position","transform","to","leaveAnimationName","final","propertyName","_run","$target","currentTarget","eq","isDefaultPrevented","format","params","param","youtube","matcher","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","p1","s","origSrc","contentSource","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","getPointerXY","result","touches","changedTouches","pageX","pageY","clientX","clientY","point2","point1","what","sqrt","pow","isClickable","onclick","atts","substr","isScrollable","overflowY","overflowX","horizontal","scrollWidth","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","startTime","distanceX","distanceY","contentLastPos","contentStartPos","sliderStartPos","sliderLastPos","stagePos","onscroll","centerPointStartX","scrollLeft","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","ontouchmove","newPoints","onSwipe","onPan","onZoom","ontouchend","angle","swiping","requestId","atan2","PI","inTransition","limitMovement","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","currentOffsetX","currentOffsetY","currentWidth","currentHeight","limitPosition","newWidth","newHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","newPos","dMs","panning","zooming","endPoints","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","len","reset","where","tapX","tapY","process","prefix","action","addBack","tapped","timer","$button","toggle","set","clear","onInit.fb","beforeShow.fb","afterShow.fb","afterKeydown.fb","keypress","beforeClose.fb onDeactivate.fb","hidden","fnMap","val","FullScreen","documentElement","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","beforeClose.fb","fullscreenchange","CLASS","CLASS_ACTIVE","FancyThumbs","$grid","$list","second","list","join","that","share","currentHash","string","entityMap","encodeURIComponent","&","<",">","\"","'","/","`","=","String","text","shareInstance","shareCurrent","click","parseUrl","pop","gallery","triggerFromUrl","escapeSelector","getGalleryID","sel","ch","asCodePoint","charCodeAt","toString","origHash","hashTimer","search","hasCreatedHistory","back","replaceState","fb","reverse","tmp","prevTime","currTime","deltaY","deltaX","wheelDelta","detail","Owl","Defaults","_handlers","_plugins","_supress","_current","_speed","_coordinates","_breakpoint","_width","_items","_clones","_mergers","_widths","_invalidated","_pipe","_drag","time","pointer","direction","_states","tags","initializing","animating","dragging","handler","Plugins","plugin","Workers","priority","worker","run","setup","initialize","center","rewind","checkVisibility","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","startPosition","rtl","smartSpeed","fluidSpeed","dragEndSpeed","responsive","responsiveRefreshRate","responsiveBaseElement","fallbackEasing","slideTransition","nestedItemSelector","itemElement","stageElement","refreshClass","loadedClass","loadingClass","rtlClass","responsiveClass","dragClass","itemClass","stageClass","stageOuterClass","grabClass","Width","Default","Inner","Outer","Type","State","cache","relative","grid","margin-left","margin-right","toFixed","iterator","widths","clones","view","size","repeat","prepend","normalize","outerHTML","coordinates","padding","padding-left","padding-right","minimum","maximum","inner","outer","begin","op","initializeStage","class","initializeItems","$items","refresh","not","invalidate","imgs","nestedSelector","enter","preloadAutoWidthImages","registerEventHandlers","leave","viewport","overwrites","breakpoint","Number","property","optionsLogic","prepare","grep","dimension","onThrottledResize","resizeTimer","support","onTransitionEnd","onDragStart","onDragEnd","delta","difference","onDragMove","pull","closest","coordinate","transform3d","state","part","v","suppress","release","reciprocalItemsWidth","elementWidth","mergers","odd","even","multiplier","newPosition","from","factor","revert","srcElement","originalTarget","warn","before","unwrap","removeData","o","capture","attachEvent","detachEvent","count","camelCase","relatedTarget","onTrigger","register","object","special","owl","_default","tag","number","isNaN","owlCarousel","$this","Constructor","Zepto","AutoRefresh","carousel","_core","_interval","_visible","initialized.owl.carousel","autoRefresh","watch","autoRefreshInterval","getOwnPropertyNames","Lazy","_loaded","initialized.owl.carousel change.owl.carousel resized.owl.carousel","lazyLoad","lazyLoadEager","$elements","background-image","handlers","AutoHeight","_previousHeight","initialized.owl.carousel refreshed.owl.carousel","autoHeight","changed.owl.carousel","loaded.owl.lazy","_intervalId","refThis","resize","autoHeightClass","lazyLoadEnabled","visible","toArray","heights","maxheight","Video","_videos","_playing","resize.owl.carousel","video","isInFullScreen","refreshed.owl.carousel","prepared.owl.carousel","fetch","play","videoHeight","videoWidth","thumbnail","tnLink","dimensions","customTn","srcType","lazyClass","jsonp","dataType","thumbnail_large","framegrab_url","mozFullScreenElement","webkitFullscreenElement","Animate","scope","core","swapping","change.owl.carousel","drag.owl.carousel dragged.owl.carousel translated.owl.carousel","translate.owl.carousel","animateOut","animateIn","swap","animation","incoming","outgoing","Autoplay","_call","_time","_timeout","_paused","play.owl.autoplay","stop.owl.autoplay","mouseover.owl.autoplay","autoplayHoverPause","pause","mouseleave.owl.autoplay","touchstart.owl.core","touchend.owl.core","autoplayTimeout","autoplaySpeed","_next","read","elapsed","Navigation","_initialized","_pages","_controls","_templates","_overrides","dotsData","dotClass","added.owl.carousel","remove.owl.carousel","draw","navText","navSpeed","navElement","navContainer","navContainerClass","navClass","slideBy","dotsClass","dots","dotsEach","dotsSpeed","dotsContainer","override","$relative","$previous","$next","$absolute","control","overides","lower","upper","getPosition","successor","standard","Hash","_hashes","URLhashListener","WebkitAnimation","MozAnimation","OAnimation","tests","prefixed","toUpperCase","currentLanguage","siteUrl","templateUrl","ready","siteInit","slider","infiniteScroll","scroll","matchMedia","0","992","elName","$elCliked","toggleClassName"],"mappings":"AACA,cAEA,WAiCC,IA/BA,IAAIA,EACAC,EAAO,aACPC,EAAU,CACb,SACA,QACA,QACA,QACA,MACA,SACA,QACA,YACA,QACA,iBACA,WACA,OACA,MACA,eACA,UACA,aACA,QACA,OACA,UACA,WACA,cACA,YACA,QACA,QAEGC,EAASD,EAAQC,OACjBC,EAAWC,OAAOD,QAAUC,OAAOD,SAAW,GAE3CD,KAKDC,EAHLJ,EAASE,EAAQC,MAKhBC,EAAQJ,GAAUC,GAxCrB;CCgBE,SAAUI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,gCAAgC,CAAE,UAAY,SAAUE,GAC9D,OAAOH,EAASD,EAAQI,KAEC,iBAAVC,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,WAIVP,EAAOQ,cAAgBP,EACrBD,EACAA,EAAOI,QAlBb,CAsBGJ,OAAQ,SAAkBA,EAAQI,GACrC,aAIA,IAAIK,EAAaC,MAAMC,UAAUC,MAI7Bb,EAAUC,EAAOD,QACjBc,OAA6B,IAAXd,EAAyB,aAC7C,SAAUe,GACRf,EAAQgB,MAAOD,IAKnB,SAASN,EAAeQ,EAAWC,EAAaC,IAC9CA,EAAIA,GAAKd,GAAUJ,EAAOI,UAMpBa,EAAYN,UAAUQ,SAE1BF,EAAYN,UAAUQ,OAAS,SAAUC,GAEjCF,EAAEG,cAAeD,KAGvBE,KAAKC,QAAUL,EAAEM,QAAQ,EAAMF,KAAKC,QAASH,MAKjDF,EAAEO,GAAIT,GAAc,SAAUU,GAC5B,GAAoB,iBAARA,EAAmB,CAG7B,IAAIC,EAAOlB,EAAWmB,KAAMC,UAAW,GACvC,OAQqCF,EARNA,EAU7BG,EAAkB,OAASd,EAAY,MAFhBe,EARAL,GAUoC,MAF5CM,EAREV,MAYdW,KAAM,SAAUC,EAAGC,GAExB,IAAIC,EAAWlB,EAAEmB,KAAMF,EAAMnB,GAC7B,GAAMoB,EAAN,CAMA,IAAIzC,EAASyC,EAAUL,GACvB,GAAMpC,GAAkC,KAAxBoC,EAAWO,OAAO,GAAlC,CAMA,IAAIC,EAAQ5C,EAAO6C,MAAOJ,EAAUT,GAEpCc,OAA8BC,IAAhBD,EAA4BF,EAAQE,OAPhD5B,EAAUiB,EAAkB,+BAP5BjB,EAAUG,EAAY,+CACpBc,UAgBiBY,IAAhBD,EAA4BA,EAAcT,EAzBnD,IAAqBA,EAAQD,EAAYJ,EACnCc,EACAX,EA0BsBP,EAhC1B,OAgC0BA,EAjCTG,EAANJ,KAkCJW,KAAM,SAAUC,EAAGC,GACxB,IAAIC,EAAWlB,EAAEmB,KAAMF,EAAMnB,GACxBoB,GAEHA,EAASjB,OAAQI,GACjBa,EAASO,UAGTP,EAAW,IAAInB,EAAakB,EAAMZ,GAClCL,EAAEmB,KAAMF,EAAMnB,EAAWoB,MA1CtBd,MA+CTsB,EAAc1B,IAOhB,SAAS0B,EAAc1B,IACfA,GAAOA,GAAKA,EAAE2B,UAGpB3B,EAAE2B,QAAUrC,GAOd,OAJAoC,EAAcxC,GAAUJ,EAAOI,QAIxBI,IAYL,SAAUsC,EAAQ7C,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,wBAAwBD,GACL,iBAAVI,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,IAGjB6C,EAAOC,UAAY9C,IAXvB,CAcoB,oBAAVD,OAAwBA,OAASsB,KAAM,WAIjD,SAASyB,KAET,IAAIC,EAAQD,EAAUpC,UAiFtB,OA/EAqC,EAAMC,GAAK,SAAUC,EAAWC,GAC9B,GAAMD,GAAcC,EAApB,CAIA,IAAIC,EAAS9B,KAAK+B,QAAU/B,KAAK+B,SAAW,GAExCC,EAAYF,EAAQF,GAAcE,EAAQF,IAAe,GAM7D,OAJuC,GAAlCI,EAAUC,QAASJ,IACtBG,EAAUE,KAAML,GAGX7B,OAGT0B,EAAMS,KAAO,SAAUP,EAAWC,GAChC,GAAMD,GAAcC,EAApB,CAIA7B,KAAK2B,GAAIC,EAAWC,GAGpB,IAAIO,EAAapC,KAAKqC,YAAcrC,KAAKqC,aAAe,GAMxD,OAJoBD,EAAYR,GAAcQ,EAAYR,IAAe,IAE1DC,IAAa,EAErB7B,OAGT0B,EAAMY,IAAM,SAAUV,EAAWC,GAC/B,IAAIG,EAAYhC,KAAK+B,SAAW/B,KAAK+B,QAASH,GAC9C,GAAMI,GAAcA,EAAUxD,OAA9B,CAGA,IAAI+D,EAAQP,EAAUC,QAASJ,GAK/B,OAJe,GAAVU,GACHP,EAAUQ,OAAQD,EAAO,GAGpBvC,OAGT0B,EAAMe,UAAY,SAAUb,EAAWvB,GACrC,IAAI2B,EAAYhC,KAAK+B,SAAW/B,KAAK+B,QAASH,GAC9C,GAAMI,GAAcA,EAAUxD,OAA9B,CAIAwD,EAAYA,EAAU1C,MAAM,GAC5Be,EAAOA,GAAQ,GAIf,IAFA,IAAIqC,EAAgB1C,KAAKqC,aAAerC,KAAKqC,YAAaT,GAEhDhB,EAAE,EAAGA,EAAIoB,EAAUxD,OAAQoC,IAAM,CACzC,IAAIiB,EAAWG,EAAUpB,GACZ8B,GAAiBA,EAAeb,KAI3C7B,KAAKsC,IAAKV,EAAWC,UAEda,EAAeb,IAGxBA,EAASX,MAAOlB,KAAMK,GAGxB,OAAOL,OAGT0B,EAAMiB,OAAS,kBACN3C,KAAK+B,eACL/B,KAAKqC,aAGPZ,IAYL,SAAU/C,EAAQC,GAElB,aAEsB,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,6CAA6CD,GAC1B,iBAAVI,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,IAGjBD,EAAOkE,gBAAkBjE,IAZ7B,CAeGD,OAAQ,WACT,aAEA,IAAImE,EAAgB,WAClB,IAAIC,EAAYpE,OAAOqE,QAAQ1D,UAE/B,GAAKyD,EAAUE,QACb,MAAO,UAGT,GAAKF,EAAUF,gBACb,MAAO,kBAKT,IAFA,IAAIK,EAAW,CAAE,SAAU,MAAO,KAAM,KAE9BrC,EAAE,EAAGA,EAAIqC,EAASzE,OAAQoC,IAAM,CACxC,IACIvC,EADS4E,EAASrC,GACA,kBACtB,GAAKkC,EAAWzE,GACd,OAAOA,GAjBO,GAsBpB,OAAO,SAA0BwC,EAAMqC,GACrC,OAAOrC,EAAMgC,GAAiBK,MAYhC,SAAUxE,EAAQC,GAII,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,uBAAuB,CAC7B,8CACC,SAAUgE,GACX,OAAOjE,EAASD,EAAQkE,KAEC,iBAAV7D,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,8BAIVP,EAAOyE,aAAexE,EACpBD,EACAA,EAAOkE,iBArBb,CAyBGlE,OAAQ,SAAkBA,EAAQkE,GAIrC,IAAIQ,EAAQ,CAKZlD,OAAe,SAAUmD,EAAGC,GAC1B,IAAM,IAAIC,KAAQD,EAChBD,EAAGE,GAASD,EAAGC,GAEjB,OAAOF,GAKTG,OAAe,SAAUC,EAAKC,GAC5B,OAAWD,EAAMC,EAAQA,GAAQA,IAK/BvE,EAAaC,MAAMC,UAAUC,MAGjC8D,EAAMO,UAAY,SAAUC,GAC1B,OAAKxE,MAAMyE,QAASD,GAEXA,EAGJA,MAAAA,EACI,GAGuB,iBAAPA,GAAwC,iBAAdA,EAAIpF,OAG9CW,EAAWmB,KAAMsD,GAInB,CAAEA,IAKXR,EAAMU,WAAa,SAAUC,EAAKH,GAChC,IAAIrB,EAAQwB,EAAI9B,QAAS2B,IACV,GAAVrB,GACHwB,EAAIvB,OAAQD,EAAO,IAMvBa,EAAMY,UAAY,SAAUnD,EAAMqC,GAChC,KAAQrC,EAAKoD,YAAcpD,GAAQqD,SAASC,MAE1C,GADAtD,EAAOA,EAAKoD,WACPrB,EAAiB/B,EAAMqC,GAC1B,OAAOrC,GAQbuC,EAAMgB,gBAAkB,SAAUvD,GAChC,MAAoB,iBAARA,EACHqD,SAASG,cAAexD,GAE1BA,GAMTuC,EAAMkB,YAAc,SAAUC,GAC5B,IAAIlG,EAAS,KAAOkG,EAAMC,KACrBxE,KAAM3B,IACT2B,KAAM3B,GAAUkG,IAMpBnB,EAAMqB,mBAAqB,SAAUC,EAAOxB,GAE1CwB,EAAQtB,EAAMO,UAAWe,GACzB,IAAIC,EAAU,GAyBd,OAvBAD,EAAME,QAAS,SAAU/D,GAEvB,GAAQA,aAAgBgE,YAIxB,GAAM3B,EAAN,CAMKN,EAAiB/B,EAAMqC,IAC1ByB,EAAQzC,KAAMrB,GAKhB,IAFA,IAAIiE,EAAajE,EAAKkE,iBAAkB7B,GAE9BtC,EAAE,EAAGA,EAAIkE,EAAWtG,OAAQoC,IACpC+D,EAAQzC,KAAM4C,EAAWlE,SAZzB+D,EAAQzC,KAAMrB,KAgBX8D,GAKTvB,EAAM4B,eAAiB,SAAUC,EAAQxE,EAAYyE,GACnDA,EAAYA,GAAa,IAEzB,IAAI7G,EAAS4G,EAAO5F,UAAWoB,GAC3B0E,EAAc1E,EAAa,UAE/BwE,EAAO5F,UAAWoB,GAAe,WAC/B,IAAI2E,EAAUpF,KAAMmF,GACpBE,aAAcD,GAEd,IAAI/E,EAAOE,UACP+E,EAAQtF,KACZA,KAAMmF,GAAgBI,WAAY,WAChClH,EAAO6C,MAAOoE,EAAOjF,UACdiF,EAAOH,IACbD,KAMP9B,EAAMoC,SAAW,SAAUC,GACzB,IAAIC,EAAaxB,SAASwB,WACP,YAAdA,GAA0C,eAAdA,EAE/BH,WAAYE,GAEZvB,SAASyB,iBAAkB,mBAAoBF,IAOnDrC,EAAMwC,SAAW,SAAUC,GACzB,OAAOA,EAAIC,QAAS,cAAe,SAAUC,EAAOC,EAAIC,GACtD,OAAOD,EAAK,IAAMC,IACjBC,eAGL,IAAIzH,EAAUC,EAAOD,QA4CrB,OAtCA2E,EAAM+C,SAAW,SAAUC,EAAa1G,GACtC0D,EAAMoC,SAAU,WACd,IAAIa,EAAkBjD,EAAMwC,SAAUlG,GAClC4G,EAAW,QAAUD,EACrBE,EAAgBrC,SAASa,iBAAkB,IAAMuB,EAAW,KAC5DE,EAActC,SAASa,iBAAkB,OAASsB,GAClD3B,EAAQtB,EAAMO,UAAW4C,GAC1BE,OAAQrD,EAAMO,UAAW6C,IACxBE,EAAkBJ,EAAW,WAC7BxH,EAASJ,EAAOI,OAEpB4F,EAAME,QAAS,SAAU/D,GACvB,IAEIZ,EAFA0G,EAAO9F,EAAK+F,aAAcN,IAC5BzF,EAAK+F,aAAcF,GAErB,IACEzG,EAAU0G,GAAQE,KAAKC,MAAOH,GAC9B,MAAQlH,GAMR,YAJKhB,GACHA,EAAQgB,MAAO,iBAAmB6G,EAAW,OAASzF,EAAKkG,UAC3D,KAAOtH,IAKX,IAAIqB,EAAW,IAAIsF,EAAavF,EAAMZ,GAEjCnB,GACHA,EAAOiC,KAAMF,EAAMnB,EAAWoB,QAS/BsC,IAKL,SAAU1E,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,0BAA0B,CAChC,wBACA,wBACC,SAAU6C,EAAW2B,GACtB,OAAOzE,EAASD,EAAQ+C,EAAW2B,KAEV,iBAAVrE,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,cACRA,QAAQ,mBAIVP,EAAOsI,eAAiBrI,EACtBD,EACAA,EAAO+C,UACP/C,EAAOyE,cAvBb,CA2BGzE,OAAQ,SAAkBA,EAAQ+C,EAAW2B,GAEhD,IAAItE,EAASJ,EAAOI,OAEhBmI,EAAY,GAEhB,SAASD,EAAgBE,EAASjH,GAChC,IAAIkH,EAAY/D,EAAMgB,gBAAiB8C,GAEvC,GAAMC,EAAN,CAMA,IAFAD,EAAUC,GAEGC,mBAAqB,CAChC,IAAItG,EAAWmG,EAAWC,EAAQE,oBAElC,OADAtG,EAASjB,OAAQI,GACVa,EAGTd,KAAKkH,QAAUA,EAEflH,KAAKC,QAAUmD,EAAMlD,OAAQ,GAAI8G,EAAeK,UAChDrH,KAAKH,OAAQI,GAERnB,IACHkB,KAAKsH,SAAWxI,EAAQkB,KAAKkH,UAG/BlH,KAAKuH,cApBH9I,QAAQgB,MAAO,oCAAuC0H,GAAaD,IAwBvEF,EAAeK,SAAW,GAO1BL,EAAeO,OAAS,GACxBP,EAAeQ,QAAU,GAEzB,IAAI9F,EAAQsF,EAAe3H,UAE3B+D,EAAMlD,OAAQwB,EAAOD,EAAUpC,WAK/B,IAAIoI,EAAO,EAEX/F,EAAM6F,OAAS,WAGb,IAAIG,EAAK1H,KAAK2H,OAASF,EASvB,GARAzH,KAAKkH,QAAQE,mBAAqBM,GAClCT,EAAWS,GAAO1H,MAEb4H,UAAY,EACjB5H,KAAK6H,UAAY,EACjB7H,KAAK8H,gBAES9H,KAAK+H,SAAW/H,KAAK+H,UASnC,IAAM,IAAI1J,KAJV2B,KAAKgI,wBACLhI,KAAKiI,IAAK,cAAe,CAAEjI,KAAKkH,QAAQH,YACxC/G,KAAKkI,aAEelB,EAAeO,OACjCP,EAAeO,OAAQlJ,GAASiC,KAAMN,WARtCvB,QAAQgB,MAAM,6BAYlBiC,EAAM7B,OAAS,SAAUC,GACvBsD,EAAMlD,OAAQF,KAAKC,QAASH,IAI9B4B,EAAMwG,WAAa,WACjB,IAAIC,EAASnI,KAAKC,QAAQkI,OACrBA,GACHA,EAAO7H,KAAMN,KAAMA,OAMvB0B,EAAM0G,cAAgB,SAAU5D,EAAMD,EAAOlE,GAC3CL,KAAKiI,IAAKzD,EAAMnE,GAChB,IAAIgI,EAAW9D,EAAQ,CAAEA,GAAQkC,OAAQpG,GAASA,EAGlD,GAFAL,KAAKyC,UAAW+B,EAAM6D,GAEhBvJ,GAAWkB,KAAKsH,SAAtB,CAKA,IAAIgB,EADJ9D,GAAQ,kBAER,GAAKD,EAAQ,CAEX,IAAIgE,EAAUzJ,EAAO0J,MAAOjE,GAC5BgE,EAAQ/D,KAAOA,EACf8D,EAASC,EAEXvI,KAAKsH,SAASmB,QAASH,EAAQjI,KAGjC,IAAIqI,EAAU,CACZC,YAAa,SAAU5B,GACrB,MAAO,MAAQA,GAEjB6B,QAAS,SAAUC,GACjB,MAAO,QAAUA,GAEnBC,KAAM,SAAUC,EAAUF,GACxB,OAASE,EAASC,OAAS,IAAO,UAAYH,GAEhDpJ,MAAO,SAAUA,EAAOoJ,GACtB,OAAOpJ,EAAQ,UAAYoJ,GAE7BI,OAAQ,SAAUF,EAAUF,EAAMK,GAChC,OAAOA,EAAM1K,OAAS,gBAAkBqK,GAE1CM,KAAM,SAAUJ,EAAUF,GACxB,MAAO,QAAUA,GAEnBO,QAAS,SAAUJ,EAAOH,GACxB,MAAO,QAAUA,GAEnBjB,UAAW,SAAUrF,EAAO8G,GAC1B,MAAO,kCAAoC9G,EAAQ,SAAW8G,IAKlE3H,EAAMuG,IAAM,SAAUzD,EAAMnE,GAC1B,GAAML,KAAKC,QAAQqJ,MAAnB,CAGA,IAAI9J,EAAU,oBAAsBgF,EAChC+E,EAASb,EAASlE,GACjB+E,IACH/J,GAAW,KAAO+J,EAAOrI,MAAOlB,KAAMK,IAExC5B,QAAQwJ,IAAKzI,KAKfkC,EAAM8H,mBAAqB,WACzBxJ,KAAKyJ,aAAe/K,EAAOgL,YAC3B,IAAIC,EAAO3J,KAAKkH,QAAQ0C,wBACxB5J,KAAK6J,IAAMF,EAAKE,IAAMnL,EAAOoL,aAG/BpI,EAAMqI,eAAiB,WACrB,IAAIC,EAAgBhK,KAAKC,QAAQ+J,cACjC,GAAMA,GAQN,GAFAhK,KAAKiK,UAA6B,IAAlBD,EAAyBhK,KAAKkH,QAC5C9D,EAAMgB,gBAAiB4F,IACnBhK,KAAKiK,SACT,KAAM,iCAAmCD,OAPzChK,KAAKiK,SAAWvL,GAapBgD,EAAMoG,cAAgB,WACpB,IAAIoC,EAAUlK,KAAKC,QAAQ4I,KAC3B,GAAMqB,EAAN,CAKA,IAAI1F,SAAc0F,EAClB,GAAa,YAAR1F,EAKuB,UAARA,GAAoB0F,EAAQnE,MAAM,SAEpD/F,KAAKmK,sBAAuBD,GAI9BlK,KAAKoK,sBAAuBF,QAV1BlK,KAAK+H,QAAUmC,OANfzL,QAAQgB,MAAO,gDAAkDyK,IAmBrExI,EAAMyI,sBAAwB,SAAUD,GAEtClK,KAAK+H,QAAU,WACb,IAAIsC,EAAYrK,KAAK4H,UAAY,EACjC,OAAOsC,EAAQpE,QAAS,QAASuE,IACjCC,KAAMtK,MAGR,IAAIuK,EAAcL,EAAQpE,QAAS,QAAS,iBACxC0E,EAAa,IAAIC,OAAQF,GACzBxE,EAAQ2E,SAASC,KAAK5E,MAAOyE,GAC5BzE,IACH/F,KAAK4H,UAAYgD,SAAU7E,EAAM,GAAI,IACrC/F,KAAKiI,IAAK,YAAa,CAAEjI,KAAK4H,UAAW,sBAI7C,IAAIiD,EAAc,CAGhB,mCAEA,mCAEA,iCAkIF,OA/HAnJ,EAAM0I,sBAAwB,SAAUF,GAEtC,IAAIY,EAAW5G,SAASG,cAAe6F,GACvC,GAAMY,EAAN,CAQA,IAHA,IAEIC,EAAWC,EAFXL,EAAOG,EAASlE,aAAa,QAGvBhG,EAAE,EAAG+J,GAAQ/J,EAAIiK,EAAYrM,OAAQoC,IAAM,CACnDoK,EAAQH,EAAYjK,GACpB,IAAImF,EAAQ4E,EAAK5E,MAAOiF,GACxB,GAAKjF,EAAQ,CACXgF,EAAYhF,EAAMzG,MAAM,GACxB,OAGEyL,GAIN/K,KAAKiL,gBAAiB,EACtBjL,KAAK+H,QAAU,WACb,IAAIsC,EAAYrK,KAAK4H,UAAY,EACjC,OAAOmD,EAAU,GAAKV,EAAYU,EAAU,IAC5CT,KAAMtK,MAERA,KAAK4H,UAAYgD,SAAUG,EAAU,GAAI,IAAO,EAChD/K,KAAKiI,IAAK,YAAa,CAAEjI,KAAK4H,UAAW,eAVvCnJ,QAAQgB,MAAO,kDAAoDkL,QAhBnElM,QAAQgB,MAAO,wDACbyK,IA4BNxI,EAAMsG,sBAAwB,WAC5B,IAAIa,EAAO7I,KAAK+H,UAGhB,GADiBc,EAAK9C,MAAO,UAAa8C,EAAK9C,MAAO,OAEpD/F,KAAKkL,gBAAkBlL,KAAK+H,YAD9B,CAKA,IAAIoD,EAAWT,SAASS,SAEpBC,EAAYD,EAASE,UAAW,EAAGF,EAASG,YAAY,MAE5DtL,KAAKkL,gBAAkB,WACrB,OAAOE,EAAY,IAAMpL,KAAK+H,aAOlCf,EAAeO,OAAOgE,QAAU,WAC9B,IAAIC,EAAMpI,EAAMgB,gBAAiBpE,KAAKC,QAAQsL,SACxCC,IAGNA,EAAIC,MAAMC,QAAU,OACpB1L,KAAKwL,IAAMA,IAGbxE,EAAeQ,QAAQ+D,QAAU,WAC1BvL,KAAKwL,MACRxL,KAAKwL,IAAIC,MAAMC,QAAU,KAM7BhK,EAAM8F,QAAU,WAGd,IAAM,IAAInJ,KAFV2B,KAAK2C,SAEeqE,EAAeQ,QACjCR,EAAeQ,QAASnJ,GAASiC,KAAMN,aAGlCA,KAAKkH,QAAQE,0BACbH,EAAWjH,KAAK2H,OAMzBX,EAAe2E,SAAW,SAAUxL,EAAI+E,GAEtC,IAAIiE,EAAM/D,EAEV,OAHAF,EAAYA,GAAa,IAGlB,WACL,IAAI0G,GAAO,IAAIC,KACXxL,EAAOE,UACPkI,EAAU,WACZU,EAAOyC,EACPzL,EAAGe,MAAOlB,KAAMK,IAChBiK,KAAMtK,MACHmJ,GAAQyC,EAAMzC,EAAOjE,GAExBG,aAAcD,GACdA,EAAUG,WAAYkD,EAASvD,IAE/BuD,MAKNzB,EAAejG,KAAO,SAAUF,GAE9B,IAAI6G,GADJ7G,EAAOuC,EAAMgB,gBAAiBvD,KACbA,EAAKuG,mBACtB,OAAOM,GAAMT,EAAWS,IAI1BV,EAAe8E,UAAY,SAAUlM,GACnCd,EAASc,GAKXwD,EAAM+C,SAAUa,EAAgB,mBAE3BlI,GAAUA,EAAOyC,SACpBzC,EAAOyC,QAAS,iBAAkByF,GAK7BA,IAKL,SAAUtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,+BAA+B,CACrC,UACC,SAAUoI,GACX,OAAOrI,EAASD,EAAQsI,KAEC,iBAAVjI,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,WAIVN,EACED,EACAA,EAAOsI,gBApBb,CAwBGtI,OAAQ,SAAkBA,EAAQsI,GAErC,IAAItF,EAAQsF,EAAe3H,UA0F3B,SAAS0M,EAAkB7C,GAGzB,IADA,IAAI8C,EAAW9H,SAAS+H,yBACdrL,EAAE,EAAGsI,GAAStI,EAAIsI,EAAM1K,OAAQoC,IACxCoL,EAASE,YAAahD,EAAMtI,IAE9B,OAAOoL,EAkBT,SAASG,EAAgBC,EAAUC,GAEjC,IADA,IAAIC,EAAQF,EAASG,WACX3L,EAAE,EAAGA,EAAI0L,EAAM9N,OAAQoC,IAAM,CACrC,IAAI+F,EAAO2F,EAAM1L,GACjByL,EAAOG,aAAc7F,EAAK8F,KAAM9F,EAAK1F,QAsJzC,OAzQA+F,EAAeK,SAASqF,cAAe,EACvC1F,EAAeK,SAASsF,eAAgB,EACxC3F,EAAeK,SAASuF,aAAe,WAIvC5F,EAAeO,OAAOsF,SAAW,WAC/B7M,KAAK8M,SAAU,EACf9M,KAAK2B,GAAI,kBAAmB3B,KAAK+M,uBACjC/M,KAAK2B,GAAI,OAAQ3B,KAAK2M,eACjB3M,KAAKC,QAAQ+M,UAChBhN,KAAK2B,GAAI,SAAU3B,KAAKiN,mBAI5BvL,EAAMqL,sBAAwB,WACvB/M,KAAKC,QAAQyM,cAChB1M,KAAKkN,gBAITxL,EAAMwL,aAAe,WACnB,IAAKlN,KAAKmN,WAAcnN,KAAK8M,QAA7B,CAIA,IAAIjE,EAAO7I,KAAKkL,kBAChBlL,KAAKmN,WAAY,EAEjB,IA8MgBC,EAAKR,EAAcS,EAAQC,EACvCC,EA/MAF,EAAS,SAAUtE,GACrB/I,KAAKwN,WAAYzE,EAAUF,IAC3ByB,KAAMtK,MAEJsN,EAAU,SAAU7N,GACtBO,KAAKyN,YAAahO,EAAOoJ,IACzByB,KAAMtK,MAwMQoN,EAtMPvE,EAsMY+D,EAtMN5M,KAAKC,QAAQ2M,aAsMOS,EAtMOA,EAsMCC,EAtMOA,GAuM9CC,EAAM,IAAIG,gBACVC,KAAM,MAAOP,GAAK,GAEtBG,EAAIX,aAAeA,GAAgB,GAGnCW,EAAIK,iBAAiB,mBAAoB,kBAEzCL,EAAIM,OAAS,WACX,GAAmB,KAAdN,EAAIO,OACPT,EAAQE,EAAIxE,cACP,CAEL,IAAItJ,EAAQ,IAAIsO,MAAOR,EAAIS,YAC3BV,EAAS7N,KAKb8N,EAAIU,QAAU,WACZ,IAAIxO,EAAQ,IAAIsO,MAAO,4BAA8BX,GACrDE,EAAS7N,IAGX8N,EAAIW,OA9NJlO,KAAKoI,cAAe,UAAW,KAAM,CAAES,MAGzCnH,EAAM8L,WAAa,SAAUzE,EAAUF,GASrC,OAPM7I,KAAKC,QAAQgJ,SACjBjJ,KAAKmN,WAAY,GAEnBnN,KAAK4H,YACL5H,KAAK6H,YACL7H,KAAKoI,cAAe,OAAQ,KAAM,CAAEW,EAAUF,IAC9C7I,KAAKmO,eAAgBpF,EAAUF,GACxBE,GAGTrH,EAAMyM,eAAiB,SAAUpF,EAAUF,GACzC,IAAIuF,EAAYpO,KAAKC,QAAQgJ,OAG7B,GAD8C,YAA7BjJ,KAAKC,QAAQ2M,cACTwB,EAArB,CAIA,IAAIlF,EAAQH,EAAShE,iBAAkBqJ,GACnCpC,EAAWD,EAAkB7C,GAC7BmF,EAAc,WAChBrO,KAAKsO,YAAapF,EAAO8C,GACzBhM,KAAKmN,WAAY,EACjBnN,KAAKoI,cAAe,SAAU,KAAM,CAAEW,EAAUF,EAAMK,KACtDoB,KAAMtK,MAGHA,KAAKC,QAAQ+M,SAChBhN,KAAKuO,oBAAqBvC,EAAUqC,GAEpCA,MAIJ3M,EAAM4M,YAAc,SAAUpF,EAAO8C,GAC7B9C,GAAUA,EAAM1K,SAqBxB,SAAyBwN,GAEvB,IADA,IAAIwC,EAAUxC,EAASjH,iBAAiB,UAC9BnE,EAAE,EAAGA,EAAI4N,EAAQhQ,OAAQoC,IAAM,CACvC,IAAI6N,EAASD,EAAQ5N,GACjB8N,EAAcxK,SAASyK,cAAc,UACzCxC,EAAgBsC,EAAQC,GAExBA,EAAYE,UAAYH,EAAOG,UAC/BH,EAAOxK,WAAW4K,aAAcH,EAAaD,IAxB/CK,CADA9C,EAAWA,GAAYD,EAAkB7C,IAEzClJ,KAAKkH,QAAQgF,YAAaF,KAqC5BtK,EAAM6M,oBAAsB,SAAUvC,EAAUqC,GAC9C,IAAIU,EAAe/H,EAAe+H,cAAgBrQ,EAAOqQ,aACzD,IAAMA,EAGJ,OAFAtQ,QAAQgB,MAAM,mEACdO,KAAKmN,WAAY,GAInB4B,EAAc/C,EAAUqC,IAG1B3M,EAAMuL,iBAAmB,SAAUlE,EAAUF,EAAMK,GACjDlJ,KAAKC,QAAQ+M,SAASgC,SAAU9F,IAMlCxH,EAAMiL,cAAgB,SAAU5D,EAAUF,GACxC,IAAI8D,EAAgB3M,KAAKC,QAAQ0M,cACjC,GAAMA,EAAN,CAIA,IAUIzJ,EAVA+L,EAAUjP,KAAKC,QAAQ4I,KAE3B,GAAuB,mBAAXoG,EAEV,IADejP,KAAK+H,UAGlB,YADA/H,KAAKkP,gBAAiBnG,EAAUF,GAcpC,GAR6B,iBAAjB8D,EACVzJ,EAAWyJ,EACD3M,KAAKiL,iBAEf/H,EAAW+L,GAIP/L,GAAa6F,EAAS1E,cAIb0E,EAAS1E,cAAenB,IAErClD,KAAKkP,gBAAiBnG,EAAUF,KAIpCnH,EAAMwN,gBAAkB,SAAUnG,EAAUF,GAC1C7I,KAAK8M,SAAU,EACf9M,KAAKoI,cAAe,OAAQ,KAAM,CAAEW,EAAUF,KAKhDnH,EAAM+L,YAAc,SAAUhO,EAAOoJ,GAInC,OAHA7I,KAAKmN,WAAY,EACjBnN,KAAK8M,SAAU,EACf9M,KAAKoI,cAAe,QAAS,KAAM,CAAE3I,EAAOoJ,IACrCpJ,GAKTuH,EAAeO,OAAO4H,QAAU,WAC9B,GAAMnP,KAAKC,QAAQkP,QAAnB,CAGA,IAAIlG,EAASjJ,KAAKC,QAAQgJ,OACpBA,GAINjJ,KAAKwJ,qBACLxJ,KAAK+J,iBACL/J,KAAKoP,cAAe,EACpBpP,KAAK2B,GAAI,SAAU3B,KAAKmP,SACxBnP,KAAKmC,KAAM,QAASnC,KAAKqP,aACzBrP,KAAKmC,KAAM,OAAQnC,KAAKqP,aACxBrP,KAAKmP,WATH1Q,QAAQgB,MAAO,+CAAiDwJ,KAYpEvH,EAAMyN,QAAU,WACd,IAAIG,EAAWtP,KAAKuP,qBACpBvP,KAAKoP,aAA2B,GAAZE,EACftP,KAAKoP,cACRpP,KAAKiI,IAAI,WACTjI,KAAKkN,gBAELlN,KAAKqP,eAIT3N,EAAM6N,mBAAqB,WAEzB,OAAKvP,KAAKC,QAAQ+J,cACThK,KAAKiK,SAASuF,aAAexP,KAAKiK,SAASwF,aAG7CzP,KAAKyJ,aAAezJ,KAAKkH,QAAQsI,cAG1C9N,EAAM2N,YAAc,WAClBrP,KAAKiI,IAAI,eACTjI,KAAKsC,IAAK,SAAUtC,KAAKmP,UAmCpBnI,IAKL,SAAUtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,kCAAkC,CACxC,SACA,wBACC,SAAUoI,EAAgB5D,GAC3B,OAAOzE,EAASD,EAAQsI,EAAgB5D,KAEf,iBAAVrE,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,UACRA,QAAQ,mBAIVN,EACED,EACAA,EAAOsI,eACPtI,EAAOyE,cAvBb,CA2BGzE,OAAQ,SAAkBA,EAAQsI,EAAgB5D,GAErD,IAAI1B,EAAQsF,EAAe3H,UAmF3B,OAhFA2H,EAAeK,SAASqI,gBAAkB,IAG1C1I,EAAeO,OAAOoI,YAAc,WAElC3P,KAAK4P,kBAAoB5P,KAAK6P,aAAavF,KAAMtK,MACjDA,KAAK8P,cAAgB9P,KAAK+P,SAASzF,KAAMtK,MAEzC,IAAI0P,EAAkB1P,KAAKC,QAAQyP,iBACpBA,GAAuC,IAApBA,IAEhC1P,KAAKgQ,qBAIThJ,EAAeQ,QAAQmI,YAAc,WACnC3P,KAAKiQ,sBAGPvO,EAAMsO,kBAAoB,WACnBhQ,KAAKkQ,mBAGVlQ,KAAKkQ,kBAAmB,EACxBlQ,KAAKwJ,qBACLxJ,KAAK+J,iBAEL/J,KAAK2B,GAAI,OAAQ3B,KAAKiQ,oBACtBjQ,KAAKmQ,uBAAuB,KAG9BzO,EAAMuO,mBAAqB,WACnBjQ,KAAKkQ,mBAGXlQ,KAAKmQ,uBAAuB,UACrBnQ,KAAKkQ,mBAGdxO,EAAMyO,sBAAwB,SAAUC,GACtC,IAAIC,EAAYD,EAAS,mBAAqB,sBAC9CpQ,KAAKiK,SAAUoG,GAAa,SAAUrQ,KAAK4P,mBAC3ClR,EAAQ2R,GAAa,SAAUrQ,KAAK8P,gBAGtCpO,EAAMmO,aAAe7I,EAAe2E,SAAU,WAC7B3L,KAAKsQ,qBACHtQ,KAAKC,QAAQyP,iBAC5B1P,KAAKoI,cAAc,qBAIvB1G,EAAM4O,kBAAoB,WACxB,OAAKtQ,KAAKC,QAAQ+J,cACThK,KAAKuQ,2BAELvQ,KAAKwQ,2BAIhB9O,EAAM8O,wBAA0B,WAG9B,OAFaxQ,KAAK6J,IAAM7J,KAAKkH,QAAQsI,cACvB9Q,EAAOoL,YAAc9J,KAAKyJ,eAI1C/H,EAAM6O,yBAA2B,WAG/B,OAFavQ,KAAKiK,SAASwF,cACbzP,KAAKiK,SAASwG,UAAYzQ,KAAKiK,SAASuF,eAIxD9N,EAAMqO,SAAW,WACf/P,KAAKwJ,sBAGPpG,EAAM4B,eAAgBgC,EAAgB,WAAY,KAI3CA,IAKL,SAAUtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,6BAA6B,CACnC,SACA,wBACC,SAAUoI,EAAgB5D,GAC3B,OAAOzE,EAASD,EAAQsI,EAAgB5D,KAEf,iBAAVrE,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,UACRA,QAAQ,mBAIVN,EACED,EACAA,EAAOsI,eACPtI,EAAOyE,cAvBb,CA2BGzE,OAAQ,SAAkBA,EAAQsI,EAAgB5D,GAErD,IAAI1B,EAAQsF,EAAe3H,UAE3B2H,EAAeK,SAAS+B,QAAU,UAGlC,IAAIsH,EAAOxM,SAASyK,cAAc,KA6KlC,OAzKA3H,EAAeO,OAAO6B,QAAU,WACxBpJ,KAAKC,QAAQmJ,UAInBsH,EAAK/F,KAAO3K,KAAKkL,mBAEAwF,EAAKrH,QAAUqH,EAAKC,SAAW,KAAOD,EAAKE,OAC3BlG,SAASrB,OASrCrJ,KAAKC,QAAQgJ,OAChBjJ,KAAK6Q,sBAEL7Q,KAAK8Q,wBAVLrS,QAAQgB,MAAO,8DACbiR,EAAKrH,OAAS,OAASqB,SAASrB,OAChC,mCAYN3H,EAAMmP,oBAAsB,WAC1B7Q,KAAKwJ,qBACLxJ,KAAK+J,iBAEL/J,KAAK+Q,YAAc,CACjB,CAEElH,IAAK,EACLhB,KAAM6B,SAASC,KACf3B,MAAO9E,SAAS8E,QAGpBhJ,KAAKgR,gBAAkB,EAEvBhR,KAAKiR,qBAAuBjR,KAAKkR,gBAAgB5G,KAAMtK,MACvDA,KAAKmR,cAAgBnR,KAAKoR,SAAS9G,KAAMtK,MACzCA,KAAKiK,SAAStE,iBAAkB,SAAU3F,KAAKiR,sBAC/CjR,KAAK2B,GAAI,SAAU3B,KAAKqR,iBACxBrR,KAAKsR,yBAAyB,IAGhC5P,EAAM4P,wBAA0B,SAAUlB,GACxC,IAAIC,EAAYD,EAAS,mBAAqB,sBAC9CpQ,KAAKiK,SAAUoG,GAAa,SAAUrQ,KAAKiR,sBAC3CvS,EAAQ2R,GAAa,SAAUrQ,KAAKmR,gBAGtCzP,EAAMoP,sBAAwB,WAC5B9Q,KAAK2B,GAAI,OAAQ3B,KAAKuR,oBAGxBvK,EAAeQ,QAAQ4B,QACvB1H,EAAM8P,eAAiB,WACCxR,KAAKC,QAAQmJ,SAAWpJ,KAAKC,QAAQgJ,QAEzDjJ,KAAKsR,yBAAyB,IAMlC5P,EAAM2P,gBAAkB,SAAUtI,EAAUF,EAAMK,GAEhD,GAAMA,GAAUA,EAAM1K,OAAtB,CAGA,IAAIiT,EAAYvI,EAAM,GAClBwI,EAAc1R,KAAK2R,kBAAmBF,GAE1Cf,EAAK/F,KAAO9B,EAEZ7I,KAAK+Q,YAAY7O,KAAK,CACpB2H,IAAK6H,EACL7I,KAAM6H,EAAK/F,KACX3B,MAAOD,EAASC,UAIpBtH,EAAMiQ,kBAAoB,SAAU9Q,GAClC,OAAKb,KAAKC,QAAQ+J,cACThK,KAAK4R,yBAA0B/Q,GAE/Bb,KAAK6R,wBAAyBhR,IAIzCa,EAAMmQ,wBAA0B,SAAUhR,GAExC,OADWA,EAAK+I,wBACJC,IAAMnL,EAAOoL,aAI3BpI,EAAMkQ,yBAA2B,SAAU/Q,GACzC,OAAOA,EAAKiR,UAAY9R,KAAK6J,KAG/BnI,EAAMwP,gBAAkB,WAItB,IAFA,IACItJ,EAAWmK,EADXC,EAAchS,KAAKiS,iBAEbrR,EAAE,EAAGA,EAAIZ,KAAK+Q,YAAYvS,OAAQoC,IAAM,CAChD,IAAIsR,EAAalS,KAAK+Q,YAAYnQ,GAClC,GAAKsR,EAAWrI,KAAOmI,EACrB,MAEFpK,EAAYhH,EACZmR,EAAOG,EAGJtK,GAAa5H,KAAKgR,kBACrBhR,KAAKgR,gBAAkBpJ,EACvB5H,KAAKmS,WAAYJ,EAAK/I,MAAO+I,EAAKlJ,QAItCzF,EAAM4B,eAAgBgC,EAAgB,kBAAmB,KAEzDtF,EAAMuQ,eAAiB,WACrB,OAAKjS,KAAKC,QAAQ+J,cACThK,KAAKiK,SAASwG,UAAYzQ,KAAKiK,SAASuF,aAAa,EAErD9Q,EAAOoL,YAAc9J,KAAKyJ,aAAa,GAIlD/H,EAAMyQ,WAAa,SAAUnJ,EAAOH,GAClC,IAAIuJ,EAAapS,KAAKC,QAAQmJ,QACVgJ,GAAchJ,QAASgJ,EAAa,WAKxDhJ,QAASgJ,EAAa,SAAW,KAAMpJ,EAAOH,GAEzC7I,KAAKC,QAAQoS,eAChBnO,SAAS8E,MAAQA,GAGnBhJ,KAAKoI,cAAe,UAAW,KAAM,CAAEY,EAAOH,MAKhDnH,EAAM0P,SAAW,WACf,IAAIxJ,EAAY5H,KAAKgR,gBACrB,GAAmB,IAAdpJ,EAAL,CAIA,IAAIsK,EAAalS,KAAK+Q,YAAanJ,GAC/B0K,EAAU5T,EAAOoL,YAAcoI,EAAWrI,IAAM7J,KAAK6J,IAEzD7J,KAAKwR,iBACLe,SAAU,EAAGD,KAMf5Q,EAAM6P,kBAAoB,SAAUxI,EAAUF,GAC5C7I,KAAKmS,WAAYpJ,EAASC,MAAOH,IAK5B7B,IAKL,SAAUtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,4BAA4B,CAClC,SACA,wBACC,SAAUoI,EAAgB5D,GAC3B,OAAOzE,EAASD,EAAQsI,EAAgB5D,KAEf,iBAAVrE,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,UACRA,QAAQ,mBAIVN,EACED,EACAA,EAAOsI,eACPtI,EAAOyE,cAvBb,CA2BGzE,OAAQ,SAAkBA,EAAQsI,EAAgB5D,GAoBrD,SAASoP,EAAsBtL,EAASuL,GACtCzS,KAAKkH,QAAUA,EACflH,KAAKyS,UAAYA,EAEjBzS,KAAK0S,aAAe1S,KAAK2S,QAAQrI,KAAMtK,MACvCA,KAAKkH,QAAQvB,iBAAkB,QAAS3F,KAAK0S,cAC7CD,EAAU9Q,GAAI,UAAW3B,KAAK4S,QAAQtI,KAAMtK,OAC5CyS,EAAU9Q,GAAI,OAAQ3B,KAAK6S,OAAOvI,KAAMtK,OACxCyS,EAAU9Q,GAAI,QAAS3B,KAAK8S,KAAKxI,KAAMtK,OACvCyS,EAAU9Q,GAAI,OAAQ3B,KAAK8S,KAAKxI,KAAMtK,OA4BxC,OArDAgH,EAAeO,OAAOwL,OAAS,WAC7B,IAAIC,EAAa5P,EAAMgB,gBAAiBpE,KAAKC,QAAQ8S,QAChDC,IACHhT,KAAK+S,OAAS,IAAIP,EAAsBQ,EAAYhT,QAKxDgH,EAAeQ,QAAQuL,OAAS,WACzB/S,KAAK+S,QACR/S,KAAK+S,OAAOvL,WAkBhBgL,EAAqBnT,UAAUsT,QAAU,SAAUpO,GACjDA,EAAM0O,iBACNjT,KAAKyS,UAAUvF,gBAGjBsF,EAAqBnT,UAAUwT,OAAS,WACtC7S,KAAKkH,QAAQgM,gBAAgB,aAG/BV,EAAqBnT,UAAUuT,QAAU,WACvC5S,KAAKkH,QAAQiM,SAAW,YAG1BX,EAAqBnT,UAAUyT,KAAO,WACpC9S,KAAKkH,QAAQuE,MAAMC,QAAU,QAG/B8G,EAAqBnT,UAAUmI,QAAU,WACvCxH,KAAKkH,QAAQkM,oBAAqB,QAASpT,KAAK0S,eAKlD1L,EAAeqM,OAASb,EAEjBxL,IAKL,SAAUtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,4BAA4B,CAClC,SACA,wBACC,SAAUoI,EAAgB5D,GAC3B,OAAOzE,EAASD,EAAQsI,EAAgB5D,KAEf,iBAAVrE,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,UACRA,QAAQ,mBAIVN,EACED,EACAA,EAAOsI,eACPtI,EAAOyE,cAvBb,CA2BGzE,OAAQ,SAAkBA,EAAQsI,EAAgB5D,GAErD,IAAI1B,EAAQsF,EAAe3H,UA+D3B,SAASyT,EAAMjS,GACbyS,EAAYzS,EAAM,QAGpB,SAAS0S,EAAM1S,GACbyS,EAAYzS,EAAM,SAGpB,SAASyS,EAAYzS,EAAMI,GACpBJ,IACHA,EAAK4K,MAAMC,QAAUzK,GAMzB,OA3EA+F,EAAeO,OAAOuG,OAAS,WAC7B,IAAI0F,EAAapQ,EAAMgB,gBAAiBpE,KAAKC,QAAQ6N,QAC/C0F,IAINxT,KAAKyT,cAAgBD,EACrBxT,KAAK0T,oBAAsB,CACzB9K,QAAS4K,EAAWnP,cAAc,4BAClC5E,MAAO+T,EAAWnP,cAAc,0BAChC8E,KAAMqK,EAAWnP,cAAc,0BAGjCrE,KAAK2B,GAAI,UAAW3B,KAAK2T,mBACzB3T,KAAK2B,GAAI,QAAS3B,KAAK4T,iBACvB5T,KAAK2B,GAAI,OAAQ3B,KAAK6T,gBACtB7T,KAAK8T,eAAe,QAGtBpS,EAAMoS,eAAiB,SAAUC,GAC/B,IAAIC,EAAYhU,KAAKC,QAAQgJ,OAAS,SAAW,OACjDjJ,KAAM+T,GAAcC,EAAWhU,KAAKiU,gBAGtCvS,EAAMiS,kBAAoB,WACxB3T,KAAKkU,WAAW,YAGlBxS,EAAMkS,gBAAkB,WACtB5T,KAAKkU,WAAW,UAGlBxS,EAAMmS,eAAiB,WACrB7T,KAAKkU,WAAW,QAEhBlU,KAAK8T,eAAe,QAGtBpS,EAAMwS,WAAa,SAAUtS,GAC3B2R,EAAMvT,KAAKyT,eACXzT,KAAKmU,0BAELZ,EADgBvT,KAAK0T,oBAAqB9R,KAI5CF,EAAMuS,cAAgB,WACpBnB,EAAM9S,KAAKyT,eACXzT,KAAKmU,2BAGPzS,EAAMyS,wBAA0B,WAC9B,IAAM,IAAI3P,KAAQxE,KAAK0T,oBAAsB,CAE3CZ,EADgB9S,KAAK0T,oBAAqBlP,MAuBvCwC,IAeP,SAAYtI,EAAQC,GAGI,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,CACN,0BACA,+BACA,kCACA,6BACA,4BACA,6BACCD,GACwB,iBAAVI,QAAsBA,OAAOC,UAE9CD,OAAOC,QAAUL,EACfM,QAAQ,UACRA,QAAQ,eACRA,QAAQ,kBACRA,QAAQ,aACRA,QAAQ,YACRA,QAAQ,cArBd,CAyBIP,OAAQ,SAAkBsI,GAC5B,OAAOA,IAST,SAAYtI,EAAQC,GAAY,aAKR,mBAAVC,QAAwBA,OAAOC,IAEzCD,OAAQ,4BAA4B,CAClC,yBACC,SAAU6C,GACX,OAAO9C,EAASD,EAAQ+C,KAEC,iBAAV1C,QAAsBA,OAAOC,QAE9CD,OAAOC,QAAUL,EACfD,EACAO,QAAQ,eAIVP,EAAOqQ,aAAepQ,EACpBD,EACAA,EAAO+C,WAtBb,CA0BsB,oBAAX/C,OAAyBA,OAASsB,KAI7C,SAAkBtB,EAAQ+C,GAI1B,IAAI7B,EAAIlB,EAAOI,OACXL,EAAUC,EAAOD,QAKrB,SAASyB,EAAQmD,EAAGC,GAClB,IAAM,IAAIC,KAAQD,EAChBD,EAAGE,GAASD,EAAGC,GAEjB,OAAOF,EAGT,IAAIlE,EAAaC,MAAMC,UAAUC,MA0BjC,SAAS8U,EAAcvT,EAAMZ,EAASoU,GAEpC,KAAQrU,gBAAgBoU,GACtB,OAAO,IAAIA,EAAcvT,EAAMZ,EAASoU,GAG1C,IA7BkBzQ,EA6BduD,EAAYtG,GACI,iBAARA,IACVsG,EAAYjD,SAASa,iBAAkBlE,IAGnCsG,IAKNnH,KAAKsU,UAvCa1Q,EAuCSuD,EAtCtB/H,MAAMyE,QAASD,GAEXA,EAGuB,iBAAPA,GAAwC,iBAAdA,EAAIpF,OAG9CW,EAAWmB,KAAMsD,GAInB,CAAEA,IA2BT5D,KAAKC,QAAUC,EAAQ,GAAIF,KAAKC,SAET,mBAAXA,EACVoU,EAAWpU,EAEXC,EAAQF,KAAKC,QAASA,GAGnBoU,GACHrU,KAAK2B,GAAI,SAAU0S,GAGrBrU,KAAKuU,YAEA3U,IAEHI,KAAKwU,WAAa,IAAI5U,EAAE6U,UAI1BlP,WAAYvF,KAAK0U,MAAMpK,KAAMtK,QAzB3BvB,EAAQgB,MAAO,iCAAoC0H,GAAatG,KA4BpEuT,EAAa/U,UAAYsV,OAAOpN,OAAQ9F,EAAUpC,YAE3BY,QAAU,GAEjCmU,EAAa/U,UAAUkV,UAAY,WACjCvU,KAAK4U,OAAS,GAGd5U,KAAKsU,SAAS1P,QAAS5E,KAAK6U,iBAAkB7U,OAMhDoU,EAAa/U,UAAUwV,iBAAmB,SAAUhU,GAE5B,OAAjBA,EAAKiU,UACR9U,KAAK+U,SAAUlU,IAGgB,IAA5Bb,KAAKC,QAAQ+U,YAChBhV,KAAKiV,2BAA4BpU,GAKnC,IAAIqU,EAAWrU,EAAKqU,SACpB,GAAMA,GAAaC,EAAkBD,GAArC,CAKA,IAFA,IAAIE,EAAYvU,EAAKkE,iBAAiB,OAE5BnE,EAAE,EAAGA,EAAIwU,EAAU5W,OAAQoC,IAAM,CACzC,IAAIyU,EAAMD,EAAUxU,GACpBZ,KAAK+U,SAAUM,GAIjB,GAAuC,iBAA3BrV,KAAKC,QAAQ+U,WAAyB,CAChD,IAAIM,EAAWzU,EAAKkE,iBAAkB/E,KAAKC,QAAQ+U,YACnD,IAAMpU,EAAE,EAAGA,EAAI0U,EAAS9W,OAAQoC,IAAM,CACpC,IAAI2U,EAAQD,EAAS1U,GACrBZ,KAAKiV,2BAA4BM,OAKvC,IAAIJ,EAAmB,CACrBK,GAAG,EACHC,GAAG,EACHC,IAAI,GAwFN,SAASC,EAAcN,GACrBrV,KAAKqV,IAAMA,EAiEb,SAASO,EAAYxI,EAAKlG,GACxBlH,KAAKoN,IAAMA,EACXpN,KAAKkH,QAAUA,EACflH,KAAKqV,IAAM,IAAIQ,MAgDjB,OA1MAzB,EAAa/U,UAAU4V,2BAA6B,SAAUpU,GAC5D,IAAI4K,EAAQqK,iBAAkBjV,GAC9B,GAAM4K,EAON,IAFA,IAAIsK,EAAQ,0BACR/S,EAAU+S,EAAMC,KAAMvK,EAAMwK,iBACZ,OAAZjT,GAAmB,CACzB,IAAIoK,EAAMpK,GAAWA,EAAQ,GACxBoK,GACHpN,KAAKkW,cAAe9I,EAAKvM,GAE3BmC,EAAU+S,EAAMC,KAAMvK,EAAMwK,mBAOhC7B,EAAa/U,UAAU0V,SAAW,SAAUM,GAC1C,IAAIc,EAAe,IAAIR,EAAcN,GACrCrV,KAAK4U,OAAO1S,KAAMiU,IAGpB/B,EAAa/U,UAAU6W,cAAgB,SAAU9I,EAAKvM,GACpD,IAAImU,EAAa,IAAIY,EAAYxI,EAAKvM,GACtCb,KAAK4U,OAAO1S,KAAM8S,IAGpBZ,EAAa/U,UAAUqV,MAAQ,WAC7B,IAAIpP,EAAQtF,KASZ,SAASoW,EAAYC,EAAOxV,EAAMrB,GAEhC+F,WAAY,WACVD,EAAMgR,SAAUD,EAAOxV,EAAMrB,KAXjCQ,KAAKuW,gBAAkB,EACvBvW,KAAKwW,cAAe,EAEdxW,KAAK4U,OAAOpW,OAYlBwB,KAAK4U,OAAOhQ,QAAS,SAAUuR,GAC7BA,EAAahU,KAAM,WAAYiU,GAC/BD,EAAazB,UAbb1U,KAAKyW,YAiBTrC,EAAa/U,UAAUiX,SAAW,SAAUD,EAAOxV,EAAMrB,GACvDQ,KAAKuW,kBACLvW,KAAKwW,aAAexW,KAAKwW,eAAiBH,EAAMK,SAEhD1W,KAAKyC,UAAW,WAAY,CAAEzC,KAAMqW,EAAOxV,IACtCb,KAAKwU,YAAcxU,KAAKwU,WAAWmC,QACtC3W,KAAKwU,WAAWmC,OAAQ3W,KAAMqW,GAG3BrW,KAAKuW,iBAAmBvW,KAAK4U,OAAOpW,QACvCwB,KAAKyW,WAGFzW,KAAKC,QAAQqJ,OAAS7K,GACzBA,EAAQwJ,IAAK,aAAezI,EAAS6W,EAAOxV,IAIhDuT,EAAa/U,UAAUoX,SAAW,WAChC,IAAI7U,EAAY5B,KAAKwW,aAAe,OAAS,OAI7C,GAHAxW,KAAK4W,YAAa,EAClB5W,KAAKyC,UAAWb,EAAW,CAAE5B,OAC7BA,KAAKyC,UAAW,SAAU,CAAEzC,OACvBA,KAAKwU,WAAa,CACrB,IAAIqC,EAAW7W,KAAKwW,aAAe,SAAW,UAC9CxW,KAAKwU,WAAYqC,GAAY7W,SAUjC2V,EAAatW,UAAYsV,OAAOpN,OAAQ9F,EAAUpC,YAE3BqV,MAAQ,WAGZ1U,KAAK8W,qBAGpB9W,KAAK+W,QAAmC,IAA1B/W,KAAKqV,IAAI2B,aAAoB,iBAK7ChX,KAAKiX,WAAa,IAAIpB,MACtB7V,KAAKiX,WAAWtR,iBAAkB,OAAQ3F,MAC1CA,KAAKiX,WAAWtR,iBAAkB,QAAS3F,MAE3CA,KAAKqV,IAAI1P,iBAAkB,OAAQ3F,MACnCA,KAAKqV,IAAI1P,iBAAkB,QAAS3F,MACpCA,KAAKiX,WAAWC,IAAMlX,KAAKqV,IAAI6B,MAGjCvB,EAAatW,UAAUyX,mBAAqB,WAG1C,OAAO9W,KAAKqV,IAAIoB,UAAYzW,KAAKqV,IAAI2B,cAGvCrB,EAAatW,UAAU0X,QAAU,SAAUL,EAAUlX,GACnDQ,KAAK0W,SAAWA,EAChB1W,KAAKyC,UAAW,WAAY,CAAEzC,KAAMA,KAAKqV,IAAK7V,KAMhDmW,EAAatW,UAAUiF,YAAc,SAAUC,GAC7C,IAAIlG,EAAS,KAAOkG,EAAMC,KACrBxE,KAAM3B,IACT2B,KAAM3B,GAAUkG,IAIpBoR,EAAatW,UAAUwO,OAAS,WAC9B7N,KAAK+W,SAAS,EAAM,UACpB/W,KAAKmX,gBAGPxB,EAAatW,UAAU4O,QAAU,WAC/BjO,KAAK+W,SAAS,EAAO,WACrB/W,KAAKmX,gBAGPxB,EAAatW,UAAU8X,aAAe,WACpCnX,KAAKiX,WAAW7D,oBAAqB,OAAQpT,MAC7CA,KAAKiX,WAAW7D,oBAAqB,QAASpT,MAC9CA,KAAKqV,IAAIjC,oBAAqB,OAAQpT,MACtCA,KAAKqV,IAAIjC,oBAAqB,QAASpT,QAYzC4V,EAAWvW,UAAYsV,OAAOpN,OAAQoO,EAAatW,YAE9BqV,MAAQ,WAC3B1U,KAAKqV,IAAI1P,iBAAkB,OAAQ3F,MACnCA,KAAKqV,IAAI1P,iBAAkB,QAAS3F,MACpCA,KAAKqV,IAAI6B,IAAMlX,KAAKoN,IAEHpN,KAAK8W,uBAEpB9W,KAAK+W,QAAmC,IAA1B/W,KAAKqV,IAAI2B,aAAoB,gBAC3ChX,KAAKmX,iBAITvB,EAAWvW,UAAU8X,aAAe,WAClCnX,KAAKqV,IAAIjC,oBAAqB,OAAQpT,MACtCA,KAAKqV,IAAIjC,oBAAqB,QAASpT,OAGzC4V,EAAWvW,UAAU0X,QAAU,SAAUL,EAAUlX,GACjDQ,KAAK0W,SAAWA,EAChB1W,KAAKyC,UAAW,WAAY,CAAEzC,KAAMA,KAAKkH,QAAS1H,KAKpD4U,EAAagD,iBAAmB,SAAUtY,IACxCA,EAASA,GAAUJ,EAAOI,WAK1Bc,EAAId,GAEFqB,GAAG4O,aAAe,SAAU9O,EAASwF,GAErC,OADe,IAAI2O,EAAcpU,KAAMC,EAASwF,GAChC+O,WAAW6C,QAASzX,EAAEI,UAI1CoU,EAAagD,mBAINhD;CCvoEP,SAAU1V,EAAQwF,EAAUtE,EAAGwB,GAC7B,aASA,GAPA1C,EAAOD,QAAUC,EAAOD,SAAW,CACjC6Y,KAAM,SAASC,MAMZ3X,EAOL,GAAIA,EAAEO,GAAGqX,SACP/Y,QAAQ6Y,KAAK,oCADf,CASA,IAkuFQ5T,EAluFJ2D,EAAW,CAEboQ,MAAM,EAGNC,OAAQ,GAGRC,UAAU,EAGVC,QAAQ,EAGRC,SAAS,EAKTC,SAAU,OAKVC,QAAS,OAKTC,QAAS,CACP,OAKA,SACA,SAIFC,SAAU,EAGVC,SAAS,EAGTC,OAAO,EAEP9B,MAAO,CAKL+B,SAAS,GAGXC,KAAM,CAEJC,SAAU,CAGRvX,KAAM,CACJyW,UAAU,KAKhBe,OAAQ,CAENC,IACE,+NAKFJ,SAAS,EAITK,IAAK,GAGL9R,KAAM,CACJ+R,UAAW,SAKfC,YAAa,QASbC,gBAAiB,OAGjBC,kBAAmB,IAInBC,YAAa,OAabC,iBAAkB,OAGlBC,mBAAoB,IAGpBC,WAAY,GAGZC,UAAW,GAGXC,QACE,+ZAcFC,WAAY,uCAGZC,SAAU,qDAEVC,OAAQ,CACNC,SACE,8OAMFC,KACE,6MAMFC,MACE,gLAQF3B,SACE,mKAGF4B,UACE,yMAMFC,WACE,2MAQJC,SAAU,OAMVC,WAAW,EAGXC,WAAW,EAGXC,WAAW,EAKXC,WAAY,CACVC,WAAW,GAIbC,MAAO,CACLC,UAAU,EACVC,UAAU,GAKZC,KAAM,KAaNC,MAAO,GAEPC,UAAW,CACTN,WAAW,EACXO,MAAO,KAGTC,OAAQ,CACNR,WAAW,EACXS,aAAa,EACbd,SAAU,sBACVe,KAAM,KAKRC,MAAO,OAcPzS,OAAQvI,EAAEtB,KAEVuc,WAAYjb,EAAEtB,KACdwc,UAAWlb,EAAEtB,KAEbyc,WAAYnb,EAAEtB,KACd0c,UAAWpb,EAAEtB,KAEb2c,YAAarb,EAAEtB,KACf4c,WAAYtb,EAAEtB,KAEd6c,WAAYvb,EAAEtB,KACd8c,aAAcxb,EAAEtB,KAiBhB+c,aAAc,SAASC,EAAS/W,GAC9B,MAAwB,UAAjB+W,EAAQ9W,MAAmB,QAIpC+W,WAAY,QAIZC,aAAc,QAGdC,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,EAKjBC,OAAQ,CACN3D,UAAU,EACVoD,aAAc,SAASC,EAAS/W,GAC9B,MAAwB,UAAjB+W,EAAQ9W,MAAmB,kBAEpC+W,WAAY,SAASD,EAAS/W,GAC5B,MAAwB,UAAjB+W,EAAQ9W,KAAmB,iBAAmB,SAEvDiX,gBAAiB,SAASH,EAAS/W,GACjC,MAAwB,UAAjB+W,EAAQ9W,MAAmB,QAEpCkX,cAAe,SAASJ,EAAS/W,GAC/B,MAAwB,UAAjB+W,EAAQ9W,MAAmB,SAOtCqX,KAAM,KACNC,KAAM,CACJC,GAAI,CACFC,MAAO,QACPC,KAAM,OACNC,KAAM,WACNC,MAAO,wEACPC,WAAY,kBACZC,UAAW,kBACXC,YAAa,cACbC,OAAQ,aACRC,SAAU,WACVC,MAAO,QACPC,KAAM,QAERC,GAAI,CACFX,MAAO,aACPC,KAAM,SACNC,KAAM,SACNC,MAAO,qGACPC,WAAY,mBACZC,UAAW,mBACXC,YAAa,WACbC,OAAQ,iBACRC,SAAU,gBACVC,MAAO,SACPC,KAAM,aAQRE,EAAKhd,EAAElB,GACPme,EAAKjd,EAAEsE,GAEP4Y,EAAS,EAUTC,EAEAre,EAAOse,uBACPte,EAAOue,6BACPve,EAAOwe,0BACPxe,EAAOye,wBAEP,SAAS1X,GACP,OAAO/G,EAAO6G,WAAWE,EAAU,IAAO,KAO5C2X,EAAgB,WAClB,IACEC,EADEC,EAAKpZ,EAASyK,cAAc,eAG5B4O,EAAc,CAChBC,WAAY,gBACZC,YAAa,iBACbC,cAAe,gBACfC,iBAAkB,uBAGpB,IAAKN,KAAKE,EACR,GAAID,EAAG7R,MAAM4R,KAAOjc,EAClB,OAAOmc,EAAYF,GAIvB,MAAO,gBAjBW,GAuBhBO,EAAc,SAASC,GACzB,OAAOA,GAAOA,EAAIrf,QAAUqf,EAAI,GAAGC,cAKjCC,EAAY,SAASC,EAAOC,GAC9B,IAAIC,EAAMte,EAAEM,QAAO,EAAM,GAAI8d,EAAOC,GAQpC,OANAre,EAAEe,KAAKsd,EAAO,SAASE,EAAKld,GACtBrB,EAAEiE,QAAQ5C,KACZid,EAAIC,GAAOld,KAIRid,GAMLE,EAAW,SAASC,EAASve,EAAMyC,GACrC,IAAI+b,EAAOte,KAEXse,EAAKxe,KAAOie,EAAU,CAACxb,MAAOA,GAAQ3C,EAAE4X,SAASnQ,UAE7CzH,EAAEG,cAAcD,KAClBwe,EAAKxe,KAAOie,EAAUO,EAAKxe,KAAMA,IAG/BF,EAAE4X,SAAS+G,WACbD,EAAKxe,KAAOie,EAAUO,EAAKxe,KAAMwe,EAAKxe,KAAK8b,SAG7C0C,EAAK5W,GAAK4W,EAAKxe,KAAK4H,MAAQoV,EAE5BwB,EAAKE,UAAY5T,SAAS0T,EAAKxe,KAAKyC,MAAO,KAAO,EAClD+b,EAAKG,UAAY,KAEjBH,EAAKI,QAAU,KACfJ,EAAKK,QAAU,EAEfL,EAAKM,UAAW,EAGhBN,EAAKO,MAAQ,GAGbP,EAAKQ,OAAS,GAGdR,EAAKS,WAAWV,GAEXC,EAAKO,MAAMrgB,SAKhB8f,EAAKU,WAAapf,EAAEsE,EAAS+a,eAAexW,QAAQ,QAEpD6V,EAAKY,SAGPtf,EAAEM,OAAOke,EAAS/e,UAAW,CAI3B6f,KAAM,WACJ,IAIEC,EACAC,EACAC,EANEf,EAAOte,KAETsf,EADYhB,EAAKO,MAAMP,EAAKE,WACF1e,KAC1Byf,EAAiB3f,EAAE4X,SAAS+H,eAQzB3f,EAAE4X,SAASgI,gBAAiD,IAAhCF,EAAcG,gBAC7C7f,EAAE,QAAQ8f,SAAS,oBAEd9f,EAAE4X,SAAS+G,UAAYra,EAASC,KAAKsL,aAAe/Q,EAAOgL,cAC1D6V,IAAmBne,IACrB+d,EAAavf,EAAE,6DAA6D+f,SAAS,QAErFJ,EAAiB3f,EAAE4X,SAAS+H,eAAiBJ,EAAW,GAAGS,YAAcT,EAAW,GAAGU,YAEvFV,EAAWW,UAGblgB,EAAE,QAAQqJ,OACR,iGACEsW,EACA,iBAGJ3f,EAAE,QAAQ8f,SAAS,8BAQvBL,EAAY,GAEZzf,EAAEe,KAAK2e,EAActH,QAAS,SAASzV,EAAOtB,GAC5Coe,GAAaC,EAAchG,OAAOrY,IAAU,KAK9Cme,EAAaxf,EACX0e,EAAKyB,UACHzB,EACAgB,EAAcnG,QACXrT,QAAQ,cAAeuZ,GACvBvZ,QAAQ,aAAcwZ,EAAchG,OAAOI,UAAY4F,EAAchG,OAAOK,cAGhFhT,KAAK,KAAM,sBAAwB2X,EAAK5W,IACxCgY,SAAS,sBACTA,SAASJ,EAAcpG,WACvBnY,KAAK,WAAYud,GACjBqB,SAASL,EAAc1F,UAG1B0E,EAAK0B,MAAQ,CACXC,UAAWb,GAGb,CAAC,KAAM,QAAS,UAAW,UAAW,QAAS,UAAW,cAAcxa,QAAQ,SAASsb,GACvF5B,EAAK0B,MAAME,GAAQd,EAAWe,KAAK,aAAeD,KAGpD5B,EAAK7V,QAAQ,UAGb6V,EAAK8B,WAGL9B,EAAK+B,OAAO/B,EAAKE,YAOnBuB,UAAW,SAASnc,EAAKiC,GACvB,IAAIya,EAAM1c,EAAI9D,KAAKgc,KAAKlY,EAAI9D,KAAK+b,MAEjC,OAAOhW,EAAIC,QAAQ,iBAAkB,SAASC,EAAOwa,GACnD,IAAItf,EAAQqf,EAAIC,GAEhB,OAAItf,IAAUG,EACL2E,EAGF9E,KAQX8d,WAAY,SAASV,GACnB,IAEE5D,EAFE6D,EAAOte,KACTkJ,EAAQtJ,EAAE+D,UAAU0a,GAGtBze,EAAEe,KAAKuI,EAAO,SAAStI,EAAGsf,GACxB,IAEEM,EACAhc,EACAic,EACAvJ,EACAwJ,EANE9c,EAAM,GACR9D,EAAO,GAULF,EAAEG,cAAcmgB,GAKlBpgB,GADA8D,EAAMsc,GACMpgB,MAAQogB,EACM,WAAjBtgB,EAAE4E,KAAK0b,IAAsBtgB,EAAEsgB,GAAM1hB,QAK9CsB,GAHA0gB,EAAQ5gB,EAAEsgB,IAGGnf,QAAU,IACvBjB,EAAOF,EAAEM,QAAO,EAAM,GAAIJ,EAAMA,EAAKG,UAGhC0gB,MAAQH,EAEb5c,EAAIsT,IAAMoH,EAAKxe,KAAKoX,KAAOpX,EAAKoX,KAAOsJ,EAAM7Z,KAAK,QAI7C/C,EAAIY,MAASZ,EAAIsT,MACpBtT,EAAIY,KAAO,SACXZ,EAAIsT,IAAMgJ,IAKZtc,EAAM,CACJY,KAAM,OACN0S,IAAKgJ,EAAO,IAKhBtc,EAAI9D,KAAOF,EAAEM,QAAO,EAAM,GAAIoe,EAAKxe,KAAMA,GAGrCF,EAAEiE,QAAQ/D,EAAKkY,WACjBpU,EAAI9D,KAAKkY,QAAUlY,EAAKkY,SAM1BxT,EAAOZ,EAAIY,MAAQZ,EAAI9D,KAAK0E,KAC5B0S,EAAMtT,EAAIsT,KAAO,IAEZ1S,GAAQ0S,KACNuJ,EAAQvJ,EAAInR,MAAM,kCACrBvB,EAAO,QAEFZ,EAAI9D,KAAK8gB,cACZhd,EAAI9D,KAAK8gB,YAAc,UAAyB,QAAbH,EAAM,GAAe,MAAQA,EAAM,MAE/DvJ,EAAInR,MAAM,wFACnBvB,EAAO,QACE0S,EAAInR,MAAM,wBACnBvB,EAAO,SACoB,MAAlB0S,EAAIlW,OAAO,KACpBwD,EAAO,WAIPA,EACFZ,EAAIY,KAAOA,EAEX8Z,EAAK7V,QAAQ,kBAAmB7E,GAG7BA,EAAIid,cACPjd,EAAIid,aAAiE,EAAnDjhB,EAAEkhB,QAAQld,EAAIY,KAAM,CAAC,OAAQ,SAAU,SAAgB,OAASZ,EAAIY,MAMxFZ,EAAIrB,MAAQ+b,EAAKO,MAAMrgB,OAEE,QAArBoF,EAAI9D,KAAKgY,WACXlU,EAAI9D,KAAKgY,UAA8D,EAAnDlY,EAAEkhB,QAAQld,EAAIY,KAAM,CAAC,OAAQ,SAAU,UAGpC,SAArBZ,EAAI9D,KAAKiY,UACXnU,EAAI9D,KAAKiY,SAAWnU,EAAI9D,KAAKgY,UAI3BlU,EAAI9D,KAAKihB,UAAYnd,EAAIrB,QAAU+b,EAAKxe,KAAKyC,QAC/CqB,EAAI9D,KAAKkhB,OAASpd,EAAI9D,KAAKihB,SAASZ,KAAK,cAGrCvc,EAAI9D,KAAKkhB,QAAWpd,EAAI9D,KAAKkhB,OAAOxiB,SAAWoF,EAAI9D,KAAK6gB,QAC5D/c,EAAI9D,KAAKkhB,OAASpd,EAAI9D,KAAK6gB,MAAMR,KAAK,cAIP,aAA7BvgB,EAAE4E,KAAKZ,EAAI9D,KAAKmhB,WAClBrd,EAAI9D,KAAKmhB,QAAUrd,EAAI9D,KAAKmhB,QAAQ/f,MAAMgf,EAAM,CAAC5B,EAAM1a,KAGvB,aAA9BhE,EAAE4E,KAAK8Z,EAAKxe,KAAKmhB,WACnBrd,EAAI9D,KAAKmhB,QAAU3C,EAAKxe,KAAKmhB,QAAQ/f,MAAMgf,EAAM,CAAC5B,EAAM1a,KAIpDA,EAAI9D,KAAKmhB,mBAAmBrhB,IAChCgE,EAAI9D,KAAKmhB,QAAUrd,EAAI9D,KAAKmhB,UAAY7f,EAAY,GAAKwC,EAAI9D,KAAKmhB,QAAU,IAK7D,SAAbrd,EAAIY,MAGgB,GAFtBkc,EAAWxJ,EAAIgK,MAAM,MAAO,IAEf1iB,SACXoF,EAAIsT,IAAMwJ,EAASS,QAEnBvd,EAAI9D,KAAKshB,OAASV,EAASS,SAK3Bvd,EAAI9D,KAAKqY,QACXvU,EAAI9D,KAAOF,EAAEM,QAAO,EAAM0D,EAAI9D,KAAM,CAElC+X,QAAS,EACTE,QAAS,EAETD,SAAU,EAGVH,SAAU,EAGV4C,UAAW,EACXP,WAAY,EACZS,OAAQ,EACRP,MAAO,EAGPmB,cAAc,EACdE,YAAY,EACZC,cAAc,EACdC,iBAAiB,EACjBC,eAAe,EACfC,iBAAiB,KAOrB2C,EAAKO,MAAM3c,KAAK0B,KAId+Q,OAAO0M,KAAK/C,EAAKQ,QAAQtgB,SAC3B8f,EAAKgD,kBAGL7G,EAAS6D,EAAKiD,SAEA9G,EAAO+G,WACnB/G,EAAOlT,SAEPkT,EAAOgH,WAabC,UAAW,WACT,IAAIpD,EAAOte,KAEXse,EAAKqD,eAGLrD,EAAK0B,MAAMC,UACRte,GAAG,iBAAkB,wBAAyB,SAASigB,GACtDA,EAAEC,kBACFD,EAAE3O,iBAEFqL,EAAK7E,MAAMmI,KAEZjgB,GAAG,mCAAoC,uBAAwB,SAASigB,GACvEA,EAAEC,kBACFD,EAAE3O,iBAEFqL,EAAKwD,aAENngB,GAAG,mCAAoC,uBAAwB,SAASigB,GACvEA,EAAEC,kBACFD,EAAE3O,iBAEFqL,EAAKyD,SAENpgB,GAAG,WAAY,uBAAwB,SAASigB,GAE/CtD,EAAKA,EAAK0D,eAAiB,gBAAkB,kBAIjDpF,EAAGjb,GAAG,iCAAkC,SAASigB,GAC3CA,GAAKA,EAAEK,eAA0C,WAAzBL,EAAEK,cAAczd,KAC1CuY,EAAc,WACZuB,EAAK4D,YAGP5D,EAAK0B,MAAMmC,MAAMrP,OAEjBvN,WAAW,WACT+Y,EAAK0B,MAAMmC,MAAM5O,OAEjB+K,EAAK4D,UACJtiB,EAAE4X,SAAS+G,SAAW,IAAM,QAMnC1B,EAAGlb,GAAG,aAAc,SAASigB,GAC3B,IAAI9gB,EAAWlB,EAAE4X,SAAW5X,EAAE4X,SAASgI,cAAgB,KAGrD1e,EAASshB,YACRthB,EAASwa,UACTxa,EAASwa,QAAQxb,KAAKia,WACvBna,EAAEgiB,EAAES,QAAQC,SAAS,uBACrB1iB,EAAEgiB,EAAES,QAAQE,GAAGre,IAKbpD,GAA4C,UAAhClB,EAAEgiB,EAAES,QAAQ5J,IAAI,cAA4B3X,EAASkf,MAAMC,UAAUuC,IAAIZ,EAAES,QAAQ7jB,SACjGojB,EAAEC,kBAEF/gB,EAAS2gB,WAKb5E,EAAGlb,GAAG,aAAc,SAASigB,GAC3B,IAAItG,EAAUgD,EAAKhD,QACjBmH,EAAUb,EAAEc,SAAWd,EAAEe,MAE3B,GAAKrH,GAAYA,EAAQxb,KAAK6X,YAI1BiK,EAAEgB,SAAWhB,EAAEiB,QAAUjB,EAAEkB,UAAYljB,EAAEgiB,EAAES,QAAQE,GAAG,UAAY3iB,EAAEgiB,EAAES,QAAQE,GAAG,aAKrF,OAAgB,IAAZE,GAA6B,KAAZA,GACnBb,EAAE3O,sBAEFqL,EAAK7E,MAAMmI,IAMG,KAAZa,GAA8B,KAAZA,GACpBb,EAAE3O,sBAEFqL,EAAKwD,YAMS,KAAZW,GAA8B,KAAZA,GACpBb,EAAE3O,sBAEFqL,EAAKyD,aAKPzD,EAAK7V,QAAQ,eAAgBmZ,EAAGa,KAI9BnE,EAAKO,MAAMP,EAAKE,WAAW1e,KAAKmY,WAClCqG,EAAKyE,mBAAqB,EAE1BlG,EAAGlb,GACD,6HACA,SAASigB,GACPtD,EAAKyE,mBAAqB,EAEtBzE,EAAK0E,QACP1E,EAAK2E,eAGP3E,EAAK0E,QAAS,IAIlB1E,EAAK4E,aAAexkB,EAAOykB,YAAY,WACrC7E,EAAKyE,qBAEDzE,EAAKyE,oBAAsBzE,EAAKO,MAAMP,EAAKE,WAAW1e,KAAKmY,WAAaqG,EAAK8E,aAC/E9E,EAAK0E,QAAS,EACd1E,EAAKyE,mBAAqB,EAE1BzE,EAAK+E,iBAEN,OAOP1B,aAAc,WAGZ/E,EAAGta,IAAI,kCACPua,EAAGva,IAAI,kCAEPtC,KAAKggB,MAAMC,UAAU3d,IAAI,+BALdtC,KAOFkjB,eACPxkB,EAAO4kB,cAREtjB,KAQiBkjB,cARjBljB,KAUJkjB,aAAe,OAOxBpB,SAAU,SAASyB,GACjB,OAAOvjB,KAAKqgB,OAAOrgB,KAAK2e,QAAU,EAAG4E,IAMvCxB,KAAM,SAASwB,GACb,OAAOvjB,KAAKqgB,OAAOrgB,KAAK2e,QAAU,EAAG4E,IAMvClD,OAAQ,SAASmD,EAAKD,GACpB,IAEE3E,EACAnH,EACA6D,EACAwG,EACA2B,EACAC,EACAC,EARErF,EAAOte,KACT4jB,EAAWtF,EAAKO,MAAMrgB,OASxB,KAAI8f,EAAK8E,YAAc9E,EAAK8D,WAAc9D,EAAKuF,aAAevF,EAAKM,UAAnE,CASA,GALA4E,EAAM5Y,SAAS4Y,EAAK,MAGpB/L,EAAO6G,EAAKhD,QAAUgD,EAAKhD,QAAQxb,KAAK2X,KAAO6G,EAAKxe,KAAK2X,QAE3C+L,EAAM,GAAYI,GAAPJ,GACvB,OAAO,EAKT,GAFA5E,EAAWN,EAAKM,UAAYjK,OAAO0M,KAAK/C,EAAKQ,QAAQtgB,SAEjDolB,EAAW,IAAMhF,GAAcN,EAAK8E,YAAxC,CA8CA,GA1CAtB,EAAWxD,EAAKhD,QAEhBgD,EAAKG,UAAYH,EAAKE,UACtBF,EAAKI,QAAUJ,EAAKK,QAGpBrD,EAAUgD,EAAKwF,YAAYN,GAEZ,EAAXI,KACEnM,GAAwB,EAAhB6D,EAAQ/Y,QAClB+b,EAAKwF,YAAYN,EAAM,IAGrB/L,GAAQ6D,EAAQ/Y,MAAQqhB,EAAW,IACrCtF,EAAKwF,YAAYN,EAAM,IAI3BlF,EAAKhD,QAAUA,EACfgD,EAAKE,UAAYlD,EAAQ/Y,MACzB+b,EAAKK,QAAUrD,EAAQkI,IAEvBlF,EAAK7V,QAAQ,aAAcmW,GAE3BN,EAAKgD,iBAELoC,EAAa9jB,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAE7C1I,EAAQ2I,SAA+B,IAApBP,EAAWQ,MAAiC,IAAnBR,EAAW7Z,OAAeyR,EAAQ0I,OAAO1B,SAAS,qBAG9FhH,EAAQ6I,eAAiB/iB,EAErBxB,EAAEwkB,UAAUb,GACdjI,EAAQ6I,eAAiBZ,EAEzBA,EAAWjI,EAAQxb,KAAK8e,EAAW,oBAAsB,sBAG3D2E,EAAW3Y,SAAS2Y,EAAU,IAG1B3E,EAwBF,OAvBItD,EAAQxb,KAAK8Y,iBAAmB2K,GAClCjF,EAAK0B,MAAMC,UAAUxH,IAAI,sBAAuB8K,EAAW,MAG7DjF,EAAK0B,MAAMC,UAAUoE,YAAY,sBAEjCzG,EAAYU,EAAK0B,MAAMC,WAEvB3B,EAAK0B,MAAMC,UAAUP,SAAS,oBAE9B9B,EAAYU,EAAK0B,MAAMC,WAGvB3E,EAAQ0I,OAAOtE,SAAS,4BAIxBpB,EAAKgG,UAAUhJ,GAEfA,EAAQ0I,OAAOK,YAAY,4BAA4B3E,SAAS,gCAEhEpB,EAAKlG,QAAQ,SAMfxY,EAAEe,KAAK2d,EAAKQ,OAAQ,SAASvc,EAAOgiB,GAClC3kB,EAAE4X,SAASgN,KAAKD,EAAMP,UAIxB1I,EAAQ0I,OAAOK,YAAY,iDAAiD3E,SAAS,2BAGjFpE,EAAQ2I,SACVR,EAAcgB,KAAKC,MAAMpJ,EAAQ0I,OAAOW,SAExC/kB,EAAEe,KAAK2d,EAAKQ,OAAQ,SAASvc,EAAOgiB,GAClC,IAAIf,EAAMe,EAAMf,IAAMlI,EAAQkI,IAE9B5jB,EAAE4X,SAASoN,QACTL,EAAMP,OACN,CACEna,IAAK,EACLqa,KAAMV,EAAMC,EAAcD,EAAMe,EAAMzkB,KAAK4X,QAE7C6L,EACA,WACEgB,EAAMP,OAAOa,WAAW,SAASR,YAAY,iDAEzCE,EAAMf,MAAQlF,EAAKK,UACrBrD,EAAQ2I,SAAU,EAElB3F,EAAK7H,iBAMb6H,EAAK0B,MAAMmC,MAAM7M,WAAWuP,WAAW,SAMrCvJ,EAAQ5E,SACV4H,EAAKwG,cAAcxJ,GAEnBgD,EAAKgG,UAAUhJ,GAGjBgD,EAAKlG,QAAQ,SAET0J,EAAS0B,MAAQlI,EAAQkI,MAO7BG,EAAkB,oBAAsB7B,EAAS0B,IAAMlI,EAAQkI,IAAM,OAAS,YAE9E1B,EAASkC,OAAOK,YAAY,kGAE5BvC,EAASlL,YAAa,EAEjB2M,IAAcjI,EAAQ2I,SAAY3I,EAAQxb,KAAKiZ,oBAIhDuC,EAAQ2I,QACVnC,EAASkC,OAAOtE,SAASiE,IAEzBA,EAAkB,qBAAuBA,EAAkB,gBAAkBrI,EAAQxb,KAAKiZ,iBAE1FnZ,EAAE4X,SAASoN,QAAQ9C,EAASkC,OAAQL,EAAiBJ,EAAU,WAC7DzB,EAASkC,OAAOK,YAAYV,GAAiBkB,WAAW,iBAS9Df,YAAa,SAASN,GACpB,IACEQ,EACAzhB,EAFE+b,EAAOte,KAmBX,OAdAuC,GADAA,EAAQihB,EAAMlF,EAAKO,MAAMrgB,QACT,EAAI8f,EAAKO,MAAMrgB,OAAS+D,EAAQA,GAE3C+b,EAAKQ,OAAO0E,IAAQlF,EAAKO,MAAMtc,KAClCyhB,EAASpkB,EAAE,sCAAsC+f,SAASrB,EAAK0B,MAAMmC,OAErE7D,EAAKQ,OAAO0E,GAAO5jB,EAAEM,QAAO,EAAM,GAAIoe,EAAKO,MAAMtc,GAAQ,CACvDihB,IAAKA,EACLQ,OAAQA,EACRtN,UAAU,IAGZ4H,EAAKyG,YAAYzG,EAAKQ,OAAO0E,KAGxBlF,EAAKQ,OAAO0E,IAOrBwB,cAAe,SAASC,EAAGC,EAAG3B,GAC5B,IAOE4B,EACAC,EACAC,EACAC,EACAC,EAXEjH,EAAOte,KACTsb,EAAUgD,EAAKhD,QACfkK,EAAWlK,EAAQkK,SACnB/B,EAAc7jB,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAAQW,MACtDc,EAAe7lB,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAAQ0B,OACvDC,EAAcrK,EAAQqJ,MACtBiB,EAAetK,EAAQoK,QAOrBpH,EAAKuF,aAAgB2B,GAA8B,SAAhBlK,EAAQ9W,MAAmB8W,EAAQ5E,WAAa4E,EAAQuK,WAI/FjmB,EAAE4X,SAASgN,KAAKgB,GAEhBlH,EAAKuF,aAAc,EAEnBoB,EAAIA,IAAM7jB,EAA0B,GAAdqiB,EAAoBwB,EAC1CC,EAAIA,IAAM9jB,EAA2B,GAAfqkB,EAAqBP,GAE3CC,EAASvlB,EAAE4X,SAASuM,aAAayB,IAE1B3b,KAAOjK,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAAQna,IACtDsb,EAAOjB,MAAQtkB,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAAQE,KAEvDoB,EAASK,EAAcR,EAAOR,MAC9BY,EAASK,EAAeT,EAAOO,OAG/BN,EAAqB,GAAd3B,EAAkC,GAAdkC,EAC3BN,EAAsB,GAAfI,EAAoC,GAAfG,EAGVnC,EAAdkC,IAGS,GAFXP,EAAOD,EAAOjB,KAAOoB,GAAUL,EAAIK,EAASL,MAG1CG,EAAO,GAGLA,EAAO3B,EAAckC,IACvBP,EAAO3B,EAAckC,IAINF,EAAfG,IAGS,GAFXP,EAAOF,EAAOtb,IAAM0b,GAAUL,EAAIK,EAASL,MAGzCG,EAAO,GAGLA,EAAOI,EAAeG,IACxBP,EAAOI,EAAeG,IAI1BtH,EAAKwH,aAAaH,EAAaC,GAE/BhmB,EAAE4X,SAASoN,QACTY,EACA,CACE3b,IAAKwb,EACLnB,KAAMkB,EACNE,OAAQA,EACRC,OAAQA,GAEVhC,GAAY,IACZ,WACEjF,EAAKuF,aAAc,IAKnBvF,EAAKyH,WAAazH,EAAKyH,UAAUvE,UACnClD,EAAKyH,UAAUvB,SAOnBwB,WAAY,SAASzC,GACnB,IAGE0C,EAHE3H,EAAOte,KACTsb,EAAUgD,EAAKhD,QACfkK,EAAWlK,EAAQkK,UAGjBlH,EAAKuF,aAAgB2B,GAA8B,SAAhBlK,EAAQ9W,MAAmB8W,EAAQ5E,WAAa4E,EAAQuK,WAI/FjmB,EAAE4X,SAASgN,KAAKgB,GAEhBlH,EAAKuF,aAAc,EAEnBoC,EAAM3H,EAAK4H,UAAU5K,GAErBgD,EAAKwH,aAAaG,EAAItB,MAAOsB,EAAIP,QAEjC9lB,EAAE4X,SAASoN,QACTY,EACA,CACE3b,IAAKoc,EAAIpc,IACTqa,KAAM+B,EAAI/B,KACVoB,OAAQW,EAAItB,MAAQa,EAASb,QAC7BY,OAAQU,EAAIP,OAASF,EAASE,UAEhCnC,GAAY,IACZ,WACEjF,EAAKuF,aAAc,MAQzBqC,UAAW,SAAS3B,GAClB,IAIE4B,EACAC,EACAC,EACAC,EACAC,EAPAf,EAAWjB,EAAMiB,SACjBb,EAAQJ,EAAMI,OAASJ,EAAMzkB,KAAK6kB,MAClCe,EAASnB,EAAMmB,QAAUnB,EAAMzkB,KAAK4lB,OAMpCxH,EAAM,GAER,SAAKqG,EAAM7N,UAAa8O,GAAaA,EAAShnB,UAI9C8nB,EAAS,CACPzc,IAAKe,SAAS2Z,EAAMP,OAAOvL,IAAI,cAAe,IAC9C+N,MAAO5b,SAAS2Z,EAAMP,OAAOvL,IAAI,gBAAiB,IAClDgO,OAAQ7b,SAAS2Z,EAAMP,OAAOvL,IAAI,iBAAkB,IACpDyL,KAAMtZ,SAAS2Z,EAAMP,OAAOvL,IAAI,eAAgB,KAIlD0N,EAAWvb,SAvBA5K,KAuBcggB,MAAMmC,MAAMwC,QAAS,KAAO2B,EAAOpC,KAAOoC,EAAOE,OAC1EJ,EAAYxb,SAxBD5K,KAwBeggB,MAAMmC,MAAMuD,SAAU,KAAOY,EAAOzc,IAAMyc,EAAOG,QAEtE9B,GAAUe,IACbf,EAAQwB,EACRT,EAASU,GAGXC,EAAW5B,KAAKiC,IAAI,EAAGP,EAAWxB,EAAOyB,EAAYV,GAGrDf,EAAQF,KAAKkC,MAAMN,EAAW1B,GAC9Be,EAASjB,KAAKkC,MAAMN,EAAWX,GAEZ,UAAfnB,EAAM/f,MACR0Z,EAAIrU,IAAM4a,KAAKkC,MAA6B,IAAtBP,EAAYV,IAAiBY,EAAOzc,IAC1DqU,EAAIgG,KAAOO,KAAKkC,MAA2B,IAApBR,EAAWxB,IAAgB2B,EAAOpC,MAC1B,UAAtBK,EAAM1D,cAKF8D,GAFb4B,EAAchC,EAAMzkB,KAAK6kB,OAASJ,EAAMzkB,KAAK4lB,OAASf,EAAQe,EAASnB,EAAMzkB,KAAK8mB,OAAS,GAAK,GAE5FlB,EACFA,EAASf,EAAQ4B,EACAb,EAASa,EAAjB5B,IACTA,EAAQe,EAASa,IAIrBrI,EAAIyG,MAAQA,EACZzG,EAAIwH,OAASA,EAENxH,IAMTgE,OAAQ,WACN,IAAI5D,EAAOte,KAEXJ,EAAEe,KAAK2d,EAAKQ,OAAQ,SAASX,EAAKoG,GAChCjG,EAAKyG,YAAYR,MAOrBQ,YAAa,SAASR,EAAOhB,GAC3B,IAAIjF,EAAOte,KACTwlB,EAAWjB,GAASA,EAAMiB,SAC1Bb,EAAQJ,EAAMI,OAASJ,EAAMzkB,KAAK6kB,MAClCe,EAASnB,EAAMmB,QAAUnB,EAAMzkB,KAAK4lB,OAElCF,IAAab,GAASe,GAAgC,UAAtBnB,EAAM1D,eAA6B0D,EAAMsB,WAC3EjmB,EAAE4X,SAASgN,KAAKgB,GAEhB5lB,EAAE4X,SAASqP,aAAarB,EAAUlH,EAAK4H,UAAU3B,IAE7CA,EAAMf,MAAQlF,EAAKK,UACrBL,EAAKuF,aAAc,EAEnBvF,EAAKwH,iBAITvB,EAAMP,OAAOvb,QAAQ,WAErB6V,EAAK0B,MAAMjI,QAAQ+O,YAAY,2BAA4BvC,EAAMP,OAAO+C,IAAI,GAAGtX,aAAe8U,EAAMP,OAAO+C,IAAI,GAAGvX,cAElH8O,EAAK7V,QAAQ,WAAY8b,IAM3ByC,YAAa,SAASzC,EAAOhB,GAC3B,IACEE,EACAD,EAFSxjB,KAIFsb,UACPmI,EAAcgB,KAAKC,MAAMH,EAAMP,OAAOW,SACtCnB,EAAMe,EAAMf,IANHxjB,KAMcsb,QAAQkI,IAE/B5jB,EAAE4X,SAASoN,QACTL,EAAMP,OACN,CACEna,IAAK,EACLqa,KAAMV,EAAMC,EAAcD,EAAMe,EAAMzkB,KAAK4X,OAC3CuP,QAAS,GAEX1D,IAAaniB,EAAY,EAAImiB,EAC7B,MACA,KAQNuC,aAAc,SAASoB,EAAWC,GAChC,IAGEC,EAHE9I,EAAOte,KACTsb,EAAUgD,EAAKhD,QACf8D,EAAad,EAAK0B,MAAMC,UAAUoE,YAAY,mFAG3C/I,IAAWgD,EAAK8D,YAIrBgF,EAAa9I,EAAK8I,aAElBhI,EAAW0H,YAAY,uBAAwBM,GAE/CxnB,EAAE,wBAAwB2D,KAAK,YAAa6jB,GAI1CA,IAC+B,SAA9B9L,EAAQxb,KAAKub,cAA4Bzb,EAAEynB,WAAW/L,EAAQxb,KAAKub,eAAwD,SAAvCC,EAAQxb,KAAKub,aAAaC,IAE3GgD,EAAK0D,aAAakF,EAAWC,GAE/B/H,EAAWM,SAAS,uBAEhBpE,EAAQxb,KAAKoa,MAGfkF,EAAWM,SAAS,qBAEpBN,EAAWM,SAAS,wBAGfpE,EAAQxb,KAAKoa,OAAiC,UAAxBoB,EAAQuF,aACvCzB,EAAWM,SAAS,uBAOxB0H,WAAY,WACV,IAEEE,EADAhM,EADStb,KACMsb,QAMjB,GAAIA,IAPOtb,KAOUoiB,WAA8B,UAAjB9G,EAAQ9W,OAAqB8W,EAAQuK,SAAU,CAC/E,IAAKvK,EAAQ5E,SACX,OAAO,EAKT,GAFA4Q,EAZStnB,KAYKkmB,UAAU5K,GAEpBA,EAAQqJ,MAAQ2C,EAAO3C,OAASrJ,EAAQoK,OAAS4B,EAAO5B,OAC1D,OAAO,EAIX,OAAO,GAMT1D,aAAc,SAASkF,EAAWC,GAChC,IACEjJ,GAAM,EACN5C,EAFStb,KAEMsb,QACfkK,EAAWlK,EAAQkK,SASrB,OAPI0B,IAAc9lB,GAAa+lB,IAAe/lB,EAC5C8c,EAAMgJ,EAAY5L,EAAQqJ,OAASwC,EAAa7L,EAAQoK,OAC/CF,IAETtH,GADAA,EAAMte,EAAE4X,SAASuM,aAAayB,IACpBb,MAAQrJ,EAAQqJ,OAASzG,EAAIwH,OAASpK,EAAQoK,QAGnDxH,GAMTqJ,OAAQ,WACN,IAGE/B,EAFAtH,GAAM,EACN5C,EAFStb,KAEMsb,QAQjB,MALqB,UAAjBA,EAAQ9W,OAAqBghB,EAAWlK,EAAQkK,YAAclK,EAAQuK,WACxE3H,EANSle,KAMEkmB,UAAU5K,GACrB4C,EAA+C,EAAzCuG,KAAK+C,IAAIhC,EAASb,QAAUzG,EAAIyG,QAAyD,EAA3CF,KAAK+C,IAAIhC,EAASE,SAAWxH,EAAIwH,SAGhFxH,GAMToG,UAAW,SAASC,GAClB,IACE/f,EACAwf,EACAyD,EAHEnJ,EAAOte,KAKX,IAAIukB,EAAMpX,YAAaoX,EAAM7N,SAA7B,CAiBA,OAbA6N,EAAMpX,WAAY,EAElBmR,EAAK7V,QAAQ,aAAc8b,GAE3B/f,EAAO+f,EAAM/f,MACbwf,EAASO,EAAMP,QAGZ1hB,IAAI,WACJmG,QAAQ,WACRiX,SAAS6E,EAAMzkB,KAAKmZ,YAGfzU,GACN,IAAK,QACH8Z,EAAKoJ,SAASnD,GAEd,MAEF,IAAK,SACHjG,EAAKqJ,UAAUpD,GAEf,MAEF,IAAK,OACHjG,EAAKsJ,WAAWrD,EAAOA,EAAMrN,KAAOqN,EAAMlG,SAE1C,MAEF,IAAK,QACHC,EAAKsJ,WACHrD,EACA,iFAEEA,EAAMrN,IACN,WACAqN,EAAMzkB,KAAK8gB,YACX,sDAKJ,MAEF,IAAK,SACChhB,EAAE2kB,EAAMrN,KAAK1Y,OACf8f,EAAKsJ,WAAWrD,EAAO3kB,EAAE2kB,EAAMrN,MAE/BoH,EAAKuJ,SAAStD,GAGhB,MAEF,IAAK,OACHjG,EAAKwJ,YAAYvD,GAEjBkD,EAAW7nB,EAAEyY,KACXzY,EAAEM,OAAO,GAAIqkB,EAAMzkB,KAAKuY,KAAKC,SAAU,CACrClL,IAAKmX,EAAMrN,IACX6Q,QAAS,SAAShnB,EAAMinB,GACH,YAAfA,GACF1J,EAAKsJ,WAAWrD,EAAOxjB,IAG3BtB,MAAO,SAASwoB,EAAOD,GACjBC,GAAwB,UAAfD,GACX1J,EAAKuJ,SAAStD,OAMtBP,EAAOkE,IAAI,UAAW,WACpBT,EAASU,UAGX,MAEF,QACE7J,EAAKuJ,SAAStD,GAKlB,OAAO,IAMTmD,SAAU,SAASnD,GACjB,IAEE6D,EACA3H,EACA4H,EACAC,EACAC,EANEjK,EAAOte,KACTwoB,EAASjE,EAAMzkB,KAAK0oB,QAAUjE,EAAMzkB,KAAKuW,MAAMmS,OAmBjD,GAXAjE,EAAMkE,QAAUljB,WAAW,WACzB,IAAImjB,EAAOnE,EAAMoE,QAEbpE,EAAMpX,WAAeub,GAASA,EAAK,GAAGjS,UAAc8N,EAAMsB,UAC5DvH,EAAKwJ,YAAYvD,IAElB,KAKCiE,EAAQ,CACVF,EAAU5pB,EAAOkqB,kBAAoB,EACrCL,EAAc7pB,EAAOmqB,WAAaP,GAElCD,EAAOG,EAAOtH,MAAM,KAAK4H,IAAI,SAASxL,GACpC,IAAIyL,EAAM,GAkBV,OAhBAzL,EACG0L,OACA9H,MAAM,OACNtc,QAAQ,SAAS0Y,EAAI1c,GACpB,IAAIK,EAAQ2J,SAAS0S,EAAGjS,UAAU,EAAGiS,EAAG9e,OAAS,GAAI,IAErD,GAAU,IAANoC,EACF,OAAQmoB,EAAI3b,IAAMkQ,EAGhBrc,IACF8nB,EAAI9nB,MAAQA,EACZ8nB,EAAIE,QAAU3L,EAAGA,EAAG9e,OAAS,MAI5BuqB,KAIJG,KAAK,SAAS7lB,EAAGC,GACpB,OAAOD,EAAEpC,MAAQqC,EAAErC,QAIrB,IAAK,IAAIkoB,EAAI,EAAGA,EAAId,EAAK7pB,OAAQ2qB,IAAK,CACpC,IAAI7L,EAAK+K,EAAKc,GAEd,GAAoB,MAAf7L,EAAG2L,SAAmB3L,EAAGrc,OAASsnB,GAAgC,MAAfjL,EAAG2L,SAAmB3L,EAAGrc,OAASqnB,EAAU,CAClG7H,EAAQnD,EACR,QAKCmD,GAAS4H,EAAK7pB,SACjBiiB,EAAQ4H,EAAKA,EAAK7pB,OAAS,IAGzBiiB,IACF8D,EAAMrN,IAAMuJ,EAAMrT,IAGdmX,EAAMI,OAASJ,EAAMmB,QAA2B,KAAjBjF,EAAMwI,UACvC1E,EAAMmB,OAASnB,EAAMI,MAAQJ,EAAMmB,OAASjF,EAAMxf,MAClDsjB,EAAMI,MAAQlE,EAAMxf,OAGtBsjB,EAAMzkB,KAAK0oB,OAASA,GAKxBjE,EAAMiB,SAAW5lB,EAAE,wCAChB8f,SAAS,sBACTC,SAAS4E,EAAMP,OAAOtE,SAAS,0BAIlC0I,EAAW7D,EAAMzkB,KAAKspB,UAAU7E,EAAMzkB,KAAKkhB,SAAUuD,EAAMzkB,KAAKkhB,OAAOxiB,SAAS+lB,EAAMzkB,KAAKkhB,OAAOra,KAAK,QAE5E,IAAvB4d,EAAMzkB,KAAKsY,SAAqBmM,EAAMzkB,KAAK6kB,OAASJ,EAAMzkB,KAAK4lB,QAAU0C,IAC3E7D,EAAMI,MAAQJ,EAAMzkB,KAAK6kB,MACzBJ,EAAMmB,OAASnB,EAAMzkB,KAAK4lB,OAE1BnB,EAAM8E,OAASzpB,EAAE,WACdsoB,IAAI,QAAS,WACZtoB,EAAEI,MAAM8f,SAERyE,EAAM8E,OAAS,OAEhBnB,IAAI,OAAQ,WACX5J,EAAKxD,UAAUyJ,KAEhB7E,SAAS,kBACTC,SAAS4E,EAAMiB,UACf7e,KAAK,MAAOyhB,IAIjB9J,EAAKgL,YAAY/E,IAMnB+E,YAAa,SAAS/E,GACpB,IAAIjG,EAAOte,KACT0oB,EAAO9oB,EAAE,WAEX2kB,EAAMoE,OAASD,EACZR,IAAI,QAAS,WACZ5J,EAAKuJ,SAAStD,KAEf2D,IAAI,OAAQ,WACX,IAAIqB,EAEChF,EAAM8E,SACT/K,EAAKkL,sBAAsBjF,EAAOvkB,KAAKgX,aAAchX,KAAKypB,eAE1DnL,EAAKxD,UAAUyJ,IAIbA,EAAMkE,UACRpjB,aAAakf,EAAMkE,SACnBlE,EAAMkE,QAAU,MAGdnK,EAAK8D,YAILmC,EAAMzkB,KAAK0oB,UACbe,EAAQhF,EAAMzkB,KAAKypB,QAEK,SAAVA,IACZA,GACgC,EAA7BhF,EAAMI,MAAQJ,EAAMmB,QAAyC,EAA3B9I,EAAG+H,QAAU/H,EAAG8I,SAAe,MAAQjB,KAAKC,MAAMH,EAAMI,MAAQJ,EAAMmB,OAAS,MAClH,MAGJgD,EAAK/hB,KAAK,QAAS4iB,GAAO5iB,KAAK,SAAU4d,EAAMzkB,KAAK0oB,SAIlDjE,EAAM8E,QACR9jB,WAAW,WACLgf,EAAM8E,SAAW/K,EAAK8D,WACxBmC,EAAM8E,OAAOvW,QAEd2R,KAAKiC,IAAI,IAAKjC,KAAKiF,IAAI,IAAMnF,EAAMmB,OAAS,QAGjDpH,EAAKqL,YAAYpF,MAElB7E,SAAS,kBACT/Y,KAAK,MAAO4d,EAAMrN,KAClByI,SAAS4E,EAAMiB,WAEbkD,EAAK,GAAGjS,UAAkC,YAAtBiS,EAAK,GAAGhjB,aAA6BgjB,EAAK,GAAG1R,cAAgB0R,EAAK,GAAGe,cAC5Ff,EAAKjgB,QAAQ,QACJigB,EAAK,GAAGjpB,OACjBipB,EAAKjgB,QAAQ,UAOjB+gB,sBAAuB,SAASjF,EAAOqF,EAAUC,GAC/C,IAAI1D,EAAWvb,SAAS2Z,EAAMzkB,KAAK6kB,MAAO,IACxCyB,EAAYxb,SAAS2Z,EAAMzkB,KAAK4lB,OAAQ,IAG1CnB,EAAMI,MAAQiF,EACdrF,EAAMmB,OAASmE,EAEA,EAAX1D,IACF5B,EAAMI,MAAQwB,EACd5B,EAAMmB,OAASjB,KAAKkC,MAAMR,EAAW0D,EAAYD,IAGnC,EAAZxD,IACF7B,EAAMI,MAAQF,KAAKkC,MAAMP,EAAYwD,EAAWC,GAChDtF,EAAMmB,OAASU,IAOnBuB,UAAW,SAASpD,GAClB,IAGEuF,EAHExL,EAAOte,KACTF,EAAOykB,EAAMzkB,KAAKyY,OAClByL,EAASO,EAAMP,OAGjBO,EAAMiB,SAAW5lB,EAAE,gCAAkCE,EAAKsY,QAAU,sBAAwB,IAAM,YAC/FK,IAAI3Y,EAAK2Y,KACTkH,SAASqE,GAEZA,EAAOtE,SAAS,mBAAqB6E,EAAM1D,aAE3C0D,EAAMuF,QAAUA,EAAUlqB,EAAEE,EAAK0Y,IAAI1S,QAAQ,YAAY,IAAI+F,MAAOke,YACjEpjB,KAAK7G,EAAK6G,MACVgZ,SAAS4E,EAAMiB,UAEd1lB,EAAKsY,SACPkG,EAAKwJ,YAAYvD,GAKjBuF,EAAQnoB,GAAG,mBAAoB,SAASigB,GACtC5hB,KAAKgqB,QAAU,EAEfzF,EAAMP,OAAOvb,QAAQ,WAErB6V,EAAKxD,UAAUyJ,KAMjBP,EAAOriB,GAAG,aAAc,WACtB,IAIEsoB,EAJEzE,EAAWjB,EAAMiB,SACnB0E,EAAapqB,EAAK2Y,IAAIkM,MACtBwF,EAAcrqB,EAAK2Y,IAAIiN,OAIzB,GAA2B,IAAvBoE,EAAQ,GAAGE,QAAf,CAIA,IAEEC,EADYH,EAAQM,WACFjK,KAAK,QACvB,MAAOkK,IAGLJ,GAASA,EAAMzrB,QAAUyrB,EAAM3U,WAAW9W,SAC5CgnB,EAAS/M,IAAI,CACXkM,MAAO,GACPe,OAAQ,KAGNwE,IAAe9oB,IACjB8oB,EAAazF,KAAK6F,KAAK7F,KAAKiF,IAAIO,EAAM,GAAGpK,YAAaoK,EAAMM,YAAW,MAGrEL,GACF1E,EAASb,MAAMuF,GAGbC,IAAgB/oB,IAClB+oB,EAAc1F,KAAK6F,KAAK7F,KAAKiF,IAAIO,EAAM,GAAGza,aAAcya,EAAMO,aAAY,MAGxEL,GACF3E,EAASE,OAAOyE,IAIpB3E,EAASnB,YAAY,0BAGvBrkB,KAAK8a,UAAUyJ,GAGjBuF,EAAQnjB,KAAK,MAAO4d,EAAMrN,KAG1B8M,EAAOkE,IAAI,UAAW,WAEpB,IACEtoB,EAAEI,MACCmgB,KAAK,UACLrN,OACA2X,SACA9jB,KAAK,MAAO,iBACf,MAAO0jB,IAETzqB,EAAEI,MACCsC,IAAI,cACJooB,QAEHnG,EAAM7N,UAAW,KAOrBkR,WAAY,SAASrD,EAAOlG,GAC1B,IA3gDmBza,EA2gDR5D,KAEFoiB,YAFEpiB,KAMN2pB,YAAYpF,GAEbA,EAAMiB,UACR5lB,EAAE4X,SAASgN,KAAKD,EAAMiB,UAGxBjB,EAAMP,OAAO0G,SAvhDM9mB,EA2hDPya,IA1hDAza,EAAI+mB,gBAAkB/mB,aAAehE,GA0hDzBye,EAAQuM,SAASpsB,QAEvC6f,EACGuM,SACAA,OAAO,2BACPniB,QAAQ,WAGX8b,EAAMsG,aAAejrB,EAAE,SACpBkT,OACAgY,YAAYzM,GAGfA,EAAQ5F,IAAI,UAAW,iBACb8L,EAAMsB,WAEQ,WAApBjmB,EAAE4E,KAAK6Z,IAMmB,KAL5BA,EAAUze,EAAE,SACTqJ,OAAOrJ,EAAEopB,KAAK3K,IACd+L,YAGS,GAAGlV,WACbmJ,EAAUze,EAAE,SAASmrB,KAAK1M,IAK1BkG,EAAMzkB,KAAKshB,SACb/C,EAAUze,EAAE,SACTmrB,KAAK1M,GACL8B,KAAKoE,EAAMzkB,KAAKshB,UAIvBmD,EAAMP,OAAOkE,IAAI,UAAW,WAE1BtoB,EAAEI,MACCmgB,KAAK,eACL1X,QAAQ,SAGP8b,EAAMsG,eACRtG,EAAMsG,aAAaG,MAAM3M,EAAQvL,QAAQgN,SAEzCyE,EAAMsG,aAAe,MAInBtG,EAAM0G,YACR1G,EAAM0G,UAAUnL,SAEhByE,EAAM0G,UAAY,MAIf1G,EAAMsB,WACTjmB,EAAEI,MAAM0qB,QAERnG,EAAM7N,UAAW,KAIrB9W,EAAEye,GAASsB,SAAS4E,EAAMP,QAEtBpkB,EAAEye,GAASkE,GAAG,iBAChB3iB,EAAEye,GAASqB,SAAS,kBAEpB9f,EAAEye,GAAS6M,KAAK,eAEhB3G,EAAM1D,YAAc,QAEpB0D,EAAMzkB,KAAK6kB,MAAQJ,EAAMzkB,KAAK6kB,OAAS/kB,EAAEye,GAAS1X,KAAK,SACvD4d,EAAMzkB,KAAK4lB,OAASnB,EAAMzkB,KAAK4lB,QAAU9lB,EAAEye,GAAS1X,KAAK,WAG3D4d,EAAMiB,SAAWjB,EAAMP,OACpB1O,WACA8L,OAAO,6BACP+J,QACAzL,SAAS,oBAEZ6E,EAAMP,OAAOtE,SAAS,mBAAqB6E,EAAM1D,aAEjD7gB,KAAK8a,UAAUyJ,KAMjBsD,SAAU,SAAStD,GACjBA,EAAMsB,UAAW,EAEjBtB,EAAMP,OACHvb,QAAQ,WACR4b,YAAY,mBAAqBE,EAAM1D,aACvCnB,SAAS,yBAEZ6E,EAAM1D,YAAc,OAEpB7gB,KAAK4nB,WAAWrD,EAAOvkB,KAAK+f,UAAUwE,EAAOA,EAAMzkB,KAAKuZ,WAEpDkL,EAAMf,MAAQxjB,KAAK2e,UACrB3e,KAAK6jB,aAAc,IAOvBiE,YAAa,SAASvD,IAGpBA,EAAQA,GAFGvkB,KAEWsb,WAERiJ,EAAM6G,WAClB7G,EAAM6G,SAAWxrB,EALRI,KAKe+f,UALf/f,KAAAA,KAKoCF,KAAKsZ,aAAauG,SAAS4E,EAAMP,UAOlF2F,YAAa,SAASpF,IAGpBA,EAAQA,GAFGvkB,KAEWsb,UAETiJ,EAAM6G,WACjB7G,EAAM6G,SAAStL,gBAERyE,EAAM6G,WAOjBtQ,UAAW,SAASyJ,GAClB,IAAIjG,EAAOte,KAEPse,EAAK8D,YAITmC,EAAMpX,WAAY,EAClBoX,EAAM7N,UAAW,EAEjB4H,EAAK7V,QAAQ,YAAa8b,GAE1BjG,EAAKqL,YAAYpF,GAEbA,EAAMf,MAAQlF,EAAKK,SACrBL,EAAKwH,gBAGHvB,EAAMzkB,KAAKgY,UAAcyM,EAAM0G,WAAc1G,EAAM0G,UAAUzsB,SAC/D+lB,EAAM0G,UAAYrrB,EAAE0e,EAAKyB,UAAUwE,EAAOA,EAAMzkB,KAAKwZ,OAAOxB,WAAWuT,UAAU9G,EAAMiB,WAGrFjB,EAAMzkB,KAAKoY,SAAWqM,EAAMiB,WAAajB,EAAMsB,WAEjDtB,EAAMiB,SAAS7jB,GAAG,iBAAkB,SAASigB,GAK3C,OAJgB,GAAZA,EAAE7O,QACJ6O,EAAE3O,kBAGG,IAKU,UAAfsR,EAAM/f,MACR5E,EAAE,0CAA0C+f,SAAS4E,EAAMiB,WAI/DlH,EAAKwG,cAAcP,KAQrBO,cAAe,SAASP,GACtB,IAIE+G,EACAC,EACAhI,EACA0D,EAPE3I,EAAOte,KACTgkB,EAASO,EAAMP,OACfiC,GAAM,EACNuF,GAAQ,EAmCV,OA7BAF,EAAS/G,EAAMzkB,KAAKwe,EAAKM,SAAW,kBAAoB,oBACxD2E,EAAWgB,EAAMzkB,KAAKwe,EAAKM,SAAW,oBAAsB,sBAE5D2E,EAAW3Y,SAAS2Z,EAAMJ,iBAAmB/iB,EAAYmiB,EAAWgB,EAAMJ,eAAgB,IAGtFI,EAAMf,MAAQlF,EAAKK,UACjB4F,EAAM3N,WACR0U,GAAS,EAEThN,EAAKuF,aAAc,IAInBU,EAAMN,SAAWM,EAAMf,MAAQlF,EAAKK,SAAY4E,IAClD+H,GAAS,GAII,SAAXA,IACE/G,EAAMf,MAAQlF,EAAKK,SAAW4E,GAA2B,UAAfgB,EAAM/f,OAAqB+f,EAAMsB,WAAa2F,EAAQlN,EAAKmN,YAAYlH,IACnH0B,EAAM3H,EAAK4H,UAAU3B,GAErB+G,EAAS,QAME,SAAXA,GACFrF,EAAIX,OAASW,EAAItB,MAAQ6G,EAAM7G,MAC/BsB,EAAIV,OAASU,EAAIP,OAAS8F,EAAM9F,OAKjB,SAFfuB,EAAU1C,EAAMzkB,KAAKgZ,eAGnBmO,EAA8E,GAApExC,KAAK+C,IAAIjD,EAAMI,MAAQJ,EAAMmB,OAAS8F,EAAM7G,MAAQ6G,EAAM9F,SAGlEuB,IACFuE,EAAMvE,QAAU,GAChBhB,EAAIgB,QAAU,GAIhBrnB,EAAE4X,SAASqP,aAAatC,EAAMiB,SAASnB,YAAY,sBAAuBmH,GAE1E5N,EAAY2G,EAAMiB,eAGlB5lB,EAAE4X,SAASoN,QAAQL,EAAMiB,SAAUS,EAAK1C,EAAU,WAChDjF,EAAKuF,aAAc,EAEnBvF,EAAK7H,eAMT6H,EAAKyG,YAAYR,GAKZ+G,GAYL1rB,EAAE4X,SAASgN,KAAKR,GAEhBuH,EAAkB,sCAAwChH,EAAMf,KAAOlF,EAAKI,QAAU,OAAS,YAAc,gBAAkB4M,EAE/HtH,EACGa,WAAW,SACXR,YAAY,yEACZ3E,SAAS6L,GAEZhH,EAAMiB,SAASnB,YAAY,sBAG3BzG,EAAYoG,QAEZpkB,EAAE4X,SAASoN,QACTZ,EACA,0BACAT,EACA,SAAS3B,GACPoC,EAAOK,YAAYkH,GAAiB1G,WAAW,SAE3CN,EAAMf,MAAQlF,EAAKK,SACrBL,EAAK7H,aAGT,KApCAmH,EAAYoG,GAEZO,EAAMiB,SAASnB,YAAY,2BAEvBE,EAAMf,MAAQlF,EAAKK,SACrBL,EAAK7H,eAsCXgV,YAAa,SAASlH,GACpB,IAIEmH,EAHAxN,GAAM,EACN8C,EAASuD,EAAMzkB,KAAKkhB,OACpB2K,EAAW3K,GAAUA,EAAOxiB,QAAUwiB,EAAO,GAAG4K,gBAAkB1nB,EAAW8c,EAAO6K,SAAW,EA+CjG,OAbIF,GA9BmB,SAAS9N,GAM9B,IALA,IAAI3W,EAAU2W,EAAI,GAChBiO,EAAc5kB,EAAQ0C,wBACtBmiB,EAAc,GAGiB,OAA1B7kB,EAAQ8kB,eACoC,WAA7CpsB,EAAEsH,EAAQ8kB,eAAevT,IAAI,aAAyE,SAA7C7Y,EAAEsH,EAAQ8kB,eAAevT,IAAI,aACxFsT,EAAY7pB,KAAKgF,EAAQ8kB,cAAcpiB,yBAGzC1C,EAAUA,EAAQ8kB,cAUpB,OAPsBD,EAAYE,MAAM,SAASC,GAC/C,IAAIC,EAAgB1H,KAAKiC,IAAIoF,EAAYtF,MAAO0F,EAAW1F,OAAS/B,KAAKiF,IAAIoC,EAAY5H,KAAMgI,EAAWhI,MACtGkI,EAAgB3H,KAAKiC,IAAIoF,EAAYrF,OAAQyF,EAAWzF,QAAUhC,KAAKiF,IAAIoC,EAAYjiB,IAAKqiB,EAAWriB,KAE3G,OAAuB,EAAhBsiB,GAAqC,EAAhBC,KAKP,EAArBN,EAAYrF,QACQ,EAApBqF,EAAYtF,OACZsF,EAAY5H,KAAOtkB,EAAElB,GAAQimB,SAC7BmH,EAAYjiB,IAAMjK,EAAElB,GAAQgnB,SAIhB2G,CAAiBrL,KAC/B0K,EAtCS1rB,KAsCOggB,MAAMmC,MAAM0J,SAE5B3N,EAAM,CACJrU,IAAK8hB,EAAS9hB,IAAM6hB,EAAS7hB,IAAMyiB,WAAWtL,EAAOvI,IAAI,qBAAuB,GAChFyL,KAAMyH,EAASzH,KAAOwH,EAASxH,KAAOoI,WAAWtL,EAAOvI,IAAI,sBAAwB,GACpFkM,MAAO3D,EAAO2D,QACde,OAAQ1E,EAAO0E,SACfJ,OAAQ,EACRC,OAAQ,IAILrH,GAOTzH,SAAU,WACR,IAAI6H,EAAOte,KACTsb,EAAUgD,EAAKhD,QACfwD,EAAS,IAEPxD,EAAQ2I,SAAY3I,EAAQ5E,WAI3B4E,EAAQ1E,aACX0E,EAAQ1E,YAAa,EAErB0E,EAAQ0I,OAAOuI,WAAW9jB,QAAQ,WAElC6V,EAAKlG,QAAQ,UAGbwF,EAAYtC,EAAQ0I,QAEpB1I,EAAQ0I,OAAOtE,SAAS,4BAGxB9f,EAAEe,KAAK2d,EAAKQ,OAAQ,SAASX,EAAKoG,GAC5BA,EAAMf,KAAOlF,EAAKK,QAAU,GAAK4F,EAAMf,KAAOlF,EAAKK,QAAU,EAC/DG,EAAOyF,EAAMf,KAAOe,EACXA,IACT3kB,EAAE4X,SAASgN,KAAKD,EAAMP,QAEtBO,EAAMP,OAAO1hB,MAAMwd,YAIvBxB,EAAKQ,OAASA,GAGhBR,EAAKuF,aAAc,EAEnBvF,EAAKwH,eAELxH,EAAK7V,QAAQ,aAGb6S,EAAQ0I,OACL7D,KAAK,eACLiB,OAAO,kBACP3Y,QAAQ,SAIT7I,EAAEsE,EAAS+a,eAAesD,GAAG,eAC5BjH,EAAQxb,KAAK+Z,WAA+B,SAAhByB,EAAQ9W,MAAoC,WAAjB8W,EAAQ9W,OAEhE8Z,EAAKmD,UAOTrJ,QAAS,SAAS5T,GAChB,IAAI8Z,EAAOte,KACT+hB,EAAOzD,EAAKQ,OAAOR,EAAKK,QAAU,GAClC6N,EAAOlO,EAAKQ,OAAOR,EAAKK,QAAU,GAEhCoD,GAAQA,EAAKvd,OAASA,GACxB8Z,EAAKgG,UAAUvC,GAGbyK,GAAQA,EAAKhoB,OAASA,GACxB8Z,EAAKgG,UAAUkI,IAOnB/K,MAAO,WACL,IACE5D,EADEvC,EAAUtb,KAAKsb,QAGftb,KAAKoiB,WAIL9G,GAAWA,EAAQ1E,YAAc0E,EAAQkK,YAE3C3H,EAAMvC,EAAQkK,SAASrF,KAAK,2CAEnB3hB,SACPqf,EAAMvC,EAAQkK,SAASrF,KAAK,8BAA8BiB,OAAO,4BAGnEvD,EAAMA,GAAOA,EAAIrf,OAASqf,EAAMvC,EAAQkK,UAEpC/c,QAAQ,WAQhB2X,SAAU,WACR,IAAI9B,EAAOte,KAGXJ,EAAE,uBAAuBe,KAAK,WAC5B,IAAIG,EAAWlB,EAAEI,MAAMe,KAAK,YAGxBD,GAAYA,EAAS4G,KAAO4W,EAAK5W,KAAO5G,EAASshB,YACnDthB,EAAS2H,QAAQ,gBAEjB3H,EAAS6gB,eAET7gB,EAAS2rB,WAAY,KAIzBnO,EAAKmO,WAAY,GAEbnO,EAAKhD,SAAWgD,EAAK0E,UACvB1E,EAAK4D,SAEL5D,EAAKgD,kBAGPhD,EAAK7V,QAAQ,cAEb6V,EAAKoD,aAOPjI,MAAO,SAASmI,EAAG8K,GACjB,IAEEpB,EACA/H,EACAiC,EACAmH,EACA1F,EACAuE,EACAvF,EARE3H,EAAOte,KACTsb,EAAUgD,EAAKhD,QASbsR,EAAO,WACTtO,EAAKuO,QAAQjL,IAGf,OAAItD,EAAK8D,cAIT9D,EAAK8D,WAAY,KAGb9D,EAAK7V,QAAQ,cAAemZ,IAC9BtD,EAAK8D,WAAY,EAEjBrF,EAAc,WACZuB,EAAK4D,YAGA,IAKT5D,EAAKqD,eAEDrG,EAAQmN,SACVpjB,aAAaiW,EAAQmN,SAGvBjD,EAAWlK,EAAQkK,SACnB8F,EAAShQ,EAAQxb,KAAK8Y,gBACtB2K,EAAW3jB,EAAEwkB,UAAUsI,GAAKA,EAAIpB,EAAShQ,EAAQxb,KAAK+Y,kBAAoB,EAG1EyC,EAAQ0I,OACL1hB,IAAI8a,GACJiH,YAAY,4FAEf/I,EAAQ0I,OACLuI,WACA9jB,QAAQ,WACRqX,SAGCyD,GACFjF,EAAK0B,MAAMC,UAAUoE,YAAY,oBAAoB3E,SAAS,uBAIhEpB,EAAKqL,YAAYrO,GAEjBgD,EAAK+E,eAEL/E,EAAKwH,eAIQ,SAAXwF,IACQ,IAAN1J,GAAc4D,GAAYjC,GAA6B,UAAjBjI,EAAQ9W,OAAqB8W,EAAQuK,WAAaI,EAAM3H,EAAKmN,YAAYnQ,MAEjHgQ,EAAS,QAGI,SAAXA,GACF1rB,EAAE4X,SAASgN,KAAKgB,GAIhBgG,EAAQ,CACN3hB,KAHF8iB,EAAU/sB,EAAE4X,SAASuM,aAAayB,IAGnB3b,IACbqa,KAAMyI,EAAQzI,KACdoB,OAAQqH,EAAQhI,MAAQsB,EAAItB,MAC5BY,OAAQoH,EAAQjH,OAASO,EAAIP,OAC7Bf,MAAOsB,EAAItB,MACXe,OAAQO,EAAIP,QAMC,SAFfuB,EAAU3L,EAAQxb,KAAKgZ,eAGrBmO,EAA8E,GAApExC,KAAK+C,IAAIlM,EAAQqJ,MAAQrJ,EAAQoK,OAASO,EAAItB,MAAQsB,EAAIP,SAGlEuB,IACFhB,EAAIgB,QAAU,GAGhBrnB,EAAE4X,SAASqP,aAAarB,EAAUgG,GAElC5N,EAAY4H,GAEZ5lB,EAAE4X,SAASoN,QAAQY,EAAUS,EAAK1C,EAAUqJ,IAK1CtB,GAAU/H,GAEF,IAAN3B,EACFrc,WAAWqnB,EAAMrJ,GAEjB3jB,EAAE4X,SAASoN,QACTtJ,EAAQ0I,OAAOK,YAAY,2BAC3B,0DAA4DiH,EAC5D/H,EACAqJ,GAIJA,KAhBO,KAyBXC,QAAS,SAASjL,GAChB,IAEE9gB,EAFEwd,EAAOte,KACTiqB,EAAQrqB,EAAE,QAIZ0e,EAAKhD,QAAQ0I,OAAOvb,QAAQ,WAE5B6V,EAAK0B,MAAMC,UAAUyK,QAAQ5K,SAE7BxB,EAAK7V,QAAQ,aAAcmZ,GAGvBtD,EAAKU,YAAgBV,EAAKhD,QAAQxb,KAAKga,WACzCwE,EAAKU,WAAWvW,QAAQ,SAG1B6V,EAAKhD,QAAU,MAGfxa,EAAWlB,EAAE4X,SAASgI,eAGpB1e,EAASsf,YAET6J,EAAM5F,YAAY,4CAElBzkB,EAAE,4BAA4BkgB,WAOlCrX,QAAS,SAASgE,EAAM8X,GACtB,IAGErG,EAHE7d,EAAOjB,MAAMC,UAAUC,MAAMgB,KAAKC,UAAW,GAC/C+d,EAAOte,KACP4D,EAAM2gB,GAASA,EAAMzkB,KAAOykB,EAAQjG,EAAKhD,QAe3C,GAZI1X,EACFvD,EAAKysB,QAAQlpB,GAEbA,EAAM0a,EAGRje,EAAKysB,QAAQxO,GAET1e,EAAEynB,WAAWzjB,EAAI9D,KAAK2M,MACxByR,EAAMta,EAAI9D,KAAK2M,GAAMvL,MAAM0C,EAAKvD,KAGtB,IAAR6d,EACF,OAAOA,EAGI,eAATzR,GAA0B6R,EAAK0B,MAGjC1B,EAAK0B,MAAMC,UAAUxX,QAAQgE,EAAO,MAAOpM,GAF3Cwc,EAAGpU,QAAQgE,EAAO,MAAOpM,IAS7BihB,eAAgB,SAASyL,GACvB,IAAIzO,EAAOte,KACTsb,EAAUgD,EAAKhD,QACf/Y,EAAQ+Y,EAAQ/Y,MAChB0e,EAAU3F,EAAQxb,KAAKmhB,QACvB7B,EAAad,EAAK0B,MAAMC,UACxB+M,EAAW1O,EAAK0B,MAAMiB,QAGxB3F,EAAQ0I,OAAOvb,QAAQ,WAEvB6V,EAAK0O,SAAW/L,GAAWA,EAAQziB,OAASwuB,EAASjC,KAAK9J,GAAW,KAEhE3C,EAAK2O,kBAAqB3O,EAAK0E,QAClC1E,EAAK2E,eAIP7D,EAAWe,KAAK,yBAAyB4K,KAAKzM,EAAKO,MAAMrgB,QACzD4gB,EAAWe,KAAK,yBAAyB4K,KAAKxoB,EAAQ,GAEtD6c,EAAWe,KAAK,wBAAwB2G,YAAY,YAAaxL,EAAQxb,KAAK2X,MAAQlV,GAAS,GAC/F6c,EAAWe,KAAK,wBAAwB2G,YAAY,YAAaxL,EAAQxb,KAAK2X,MAAQlV,GAAS+b,EAAKO,MAAMrgB,OAAS,GAE9F,UAAjB8c,EAAQ9W,KAEV4a,EACGe,KAAK,wBACL5M,OACA0S,MACA9F,KAAK,4BACLxZ,KAAK,OAAQ2U,EAAQxb,KAAKuW,MAAMa,KAAOoE,EAAQpE,KAC/C3D,OACM+H,EAAQxb,KAAKiY,SACtBqH,EAAWe,KAAK,iDAAiDrN,QAOrEuQ,aAAc,WACZrjB,KAAKitB,kBAAmB,EAExBjtB,KAAKggB,MAAMC,UAAUoE,YAAY,wFAGnCpB,aAAc,WACZ,IAAI3E,EAAOte,KACTF,EAAOwe,EAAKhD,QAAUgD,EAAKhD,QAAQxb,KAAOwe,EAAKxe,KAC/Csf,EAAad,EAAK0B,MAAMC,UAE1B3B,EAAK2O,kBAAmB,EACxB3O,EAAKyE,mBAAqB,EAE1B3D,EACG0H,YAAY,2BAA4BhnB,EAAKiY,UAAWjY,EAAKkY,UAC7D8O,YAAY,2BAA4BhnB,EAAK+X,SAA+B,EAApByG,EAAKO,MAAMrgB,SACnEsoB,YAAY,uBAAwBhnB,EAAK8X,QAA8B,EAApB0G,EAAKO,MAAMrgB,SAC9DsoB,YAAY,sBAAuBhnB,EAAKqY,OAEvCmG,EAAK0O,SACP5N,EAAWM,SAAS,0BAEpBN,EAAWiF,YAAY,0BAO3B6I,eAAgB,WACVltB,KAAKitB,iBACPjtB,KAAKijB,eAELjjB,KAAKqjB,kBAKXzjB,EAAE4X,SAAW,CACX2V,QAAS,QACT9lB,SAAUA,EAcVmY,YAAa,SAAS4N,GACpB,IAAItsB,EAAWlB,EAAE,wDAAwDmB,KAAK,YAC5EV,EAAOjB,MAAMC,UAAUC,MAAMgB,KAAKC,UAAW,GAE/C,OAAIO,aAAoBsd,IACE,WAApBxe,EAAE4E,KAAK4oB,GACTtsB,EAASssB,GAASlsB,MAAMJ,EAAUT,GACL,aAApBT,EAAE4E,KAAK4oB,IAChBA,EAAQlsB,MAAMJ,EAAUT,GAGnBS,IASX6M,KAAM,SAASzE,EAAOpJ,EAAMyC,GAC1B,OAAO,IAAI6b,EAASlV,EAAOpJ,EAAMyC,IAMnCkX,MAAO,SAAS4T,GACd,IAAIvsB,EAAWd,KAAKwf,cAEhB1e,IACFA,EAAS2Y,SAIG,IAAR4T,GACFrtB,KAAKyZ,UAQXjS,QAAS,WACPxH,KAAKyZ,OAAM,GAEXoD,EAAGyQ,IAAI,QAAQhrB,IAAI,iBAAkB,OAMvCic,SACEra,EAASqpB,cAAgBnsB,GAAa,iEAAiEosB,KAAKC,UAAUC,WAKxHC,OACMjqB,EAAMQ,EAASyK,cAAc,OAG/BjQ,EAAOoX,kBACPpX,EAAOoX,iBAAiBpS,IACxBhF,EAAOoX,iBAAiBpS,GAAKkqB,iBAAiB,gBAC5C1pB,EAAS2pB,cAAgB3pB,EAAS2pB,aAAe,KAQvD9J,aAAc,SAASlG,GACrB,IAAI8O,EAEJ,SAAK9O,IAAQA,EAAIrf,SAMV,CACLqL,KAHF8iB,EAAU9O,EAAI,GAAGjU,yBAGFC,KAAO,EACpBqa,KAAMyI,EAAQzI,MAAQ,EACtBS,MAAOgI,EAAQhI,MACfe,OAAQiH,EAAQjH,OAChBuB,QAASqF,WAAWzO,EAAIpF,IAAI,cAQhCoO,aAAc,SAAShJ,EAAKiQ,GAC1B,IAAIjoB,EAAM,GACR4S,EAAM,GAER,GAAKoF,GAAQiQ,EAsCb,OAlCIA,EAAM5J,OAAS9iB,GAAa0sB,EAAMjkB,MAAQzI,IAC5CyE,GACGioB,EAAM5J,OAAS9iB,EAAYyc,EAAIkQ,WAAW7J,KAAO4J,EAAM5J,MACxD,QACC4J,EAAMjkB,MAAQzI,EAAYyc,EAAIkQ,WAAWlkB,IAAMikB,EAAMjkB,KACtD,KAGAhE,EADE7F,KAAK2tB,MACD,eAAiB9nB,EAAM,SAEvB,aAAeA,EAAM,KAI3BioB,EAAMxI,SAAWlkB,GAAa0sB,EAAMvI,SAAWnkB,IACjDyE,GAAOA,EAAIrH,OAASqH,EAAM,IAAM,IAAM,SAAWioB,EAAMxI,OAAS,KAAOwI,EAAMvI,OAAS,KAGpF1f,EAAIrH,SACNia,EAAIuV,UAAYnoB,GAGdioB,EAAM7G,UAAY7lB,IACpBqX,EAAIwO,QAAU6G,EAAM7G,SAGlB6G,EAAMnJ,QAAUvjB,IAClBqX,EAAIkM,MAAQmJ,EAAMnJ,OAGhBmJ,EAAMpI,SAAWtkB,IACnBqX,EAAIiN,OAASoI,EAAMpI,QAGd7H,EAAIpF,IAAIA,IAMjBmM,QAAS,SAAS/G,EAAKoQ,EAAI1K,EAAU9d,EAAUyoB,GAC7C,IAAIC,GAAQ,EAERvuB,EAAEynB,WAAW9D,KACf9d,EAAW8d,EACXA,EAAW,MAGR3jB,EAAEG,cAAckuB,IACnBpQ,EAAIgH,WAAW,SAGjBjlB,EAAE4X,SAASgN,KAAK3G,GAEhBA,EAAIlc,GAAGyb,EAAe,SAASwE,KAEzBA,IAAKA,EAAEK,eAAmBpE,EAAI0E,GAAGX,EAAEK,cAAcI,SAA2C,WAAhCT,EAAEK,cAAcmM,gBAIhFxuB,EAAE4X,SAASgN,KAAK3G,GAEZsQ,GACFvuB,EAAE4X,SAASqP,aAAahJ,EAAKsQ,GAG3BvuB,EAAEG,cAAckuB,IACS,IAAvBC,GACFrQ,EAAIgH,WAAW,UAEe,IAAvBqJ,GACTrQ,EAAIwG,YAAY4J,GAGdruB,EAAEynB,WAAW5hB,IACfA,EAASmc,MAIThiB,EAAEwkB,UAAUb,IACd1F,EAAIpF,IAAI,sBAAuB8K,EAAW,MAIxC3jB,EAAEG,cAAckuB,IACdA,EAAG3I,SAAWlkB,GAAa6sB,EAAG1I,SAAWnkB,IAC3C+sB,EAAQvuB,EAAEM,OAAO,GAAI+tB,EAAI,CACvBtJ,MAAO9G,EAAI8G,QAAUsJ,EAAG3I,OACxBI,OAAQ7H,EAAI6H,SAAWuI,EAAG1I,OAC1BD,OAAQ,EACRC,OAAQ,WAGH0I,EAAGtJ,aACHsJ,EAAGvI,OAEN7H,EAAI+M,SAAStI,SAAS,0BACxBzE,EAAI+M,SAASlL,SAAS,wBAI1B9f,EAAE4X,SAASqP,aAAahJ,EAAKoQ,IAE7BpQ,EAAI6B,SAASuO,GAIfpQ,EAAI9c,KACF,QACAwE,WAAW,WACTsY,EAAIpV,QAAQ,kBACX8a,EAAW,MAIlBiB,KAAM,SAAS3G,GACTA,GAAOA,EAAIrf,SACb6G,aAAawY,EAAI9c,KAAK,UAEtB8c,EAAIvb,IAAI,iBAAiBmW,IAAI,sBAAuB,IAEpDoF,EAAI+M,SAASvG,YAAY,0BA+C/BzkB,EAAEO,GAAGqX,SAAW,SAASvX,GACvB,IAAIiD,EAqBJ,OAlBAA,GADAjD,EAAUA,GAAW,IACFiD,WAAY,GAI7BtD,EAAE,QACC0C,IAAI,iBAAkBY,GACtBvB,GAAG,iBAAkBuB,EAAU,CAACjD,QAASA,GAAUouB,GAEtDruB,KAAKsC,IAAI,kBAAkBX,GACzB,iBACA,CACEuH,MAAOlJ,KACPC,QAASA,GAEXouB,GAIGruB,MAMT6c,EAAGlb,GAAG,iBAAkB,kBAAmB0sB,GAK3CxR,EAAGlb,GAAG,iBAAkB,iBAAkB,SAASigB,GACjDyM,EAAKzM,EAAG,CACN0M,QAAS1uB,EAAE,mBAAqBA,EAAEgiB,EAAE2M,eAAe5nB,KAAK,gBAAkB,MAAM6nB,GAAG5uB,EAAEgiB,EAAE2M,eAAe5nB,KAAK,eAAiB,GAC5Hoa,SAAUnhB,EAAEI,UA3EhB,SAASquB,EAAKzM,EAAG9hB,GACf,IAEEwuB,EACArtB,EAHEiI,EAAQ,GACV3G,EAAQ,EAKNqf,GAAKA,EAAE6M,uBAIX7M,EAAE3O,kBAKFhS,GADAqtB,GAFAxuB,EAAO8hB,GAAKA,EAAE7gB,KAAO6gB,EAAE7gB,KAAKd,QAAUH,GAAQ,IAE/BwuB,SAAW1uB,EAAEgiB,EAAE2M,gBACd5nB,KAAK,kBAAoB,KAOvCpE,GAFA2G,GADAA,EAAQpJ,EAAKoD,SAAWtD,EAAEE,EAAKoD,UAAY0e,EAAE7gB,KAAO6gB,EAAE7gB,KAAKmI,MAAQ,IACrD1K,OAAS0K,EAAMkY,OAAO,mBAAqBngB,EAAQ,MAAQrB,EAAE,mBAAqBqB,EAAQ,OAE1FsB,MAAM+rB,IAGR,IACV/rB,EAAQ,GAGV2G,EAAQ,CAAColB,GAGX1uB,EAAE4X,SAAS7J,KAAKzE,EAAOpJ,EAAMyC,KA18FjC,CAu/FG7D,OAAQwF,SAAUxF,OAAOI,QAAUA,QAQtC,SAAUc,GACR,aAIA,IAAI8uB,EAAS,SAASthB,EAAK8Q,EAAKyQ,GAC9B,GAAKvhB,EAkBL,OAdAuhB,EAASA,GAAU,GAEI,WAAnB/uB,EAAE4E,KAAKmqB,KACTA,EAAS/uB,EAAEgvB,MAAMD,GAAQ,IAG3B/uB,EAAEe,KAAKud,EAAK,SAASC,EAAKld,GACxBmM,EAAMA,EAAItH,QAAQ,IAAMqY,EAAKld,GAAS,MAGpC0tB,EAAOnwB,SACT4O,IAA2B,EAAnBA,EAAInL,QAAQ,KAAW,IAAM,KAAO0sB,GAGvCvhB,GAKL/F,EAAW,CACbwnB,QAAS,CACPC,QAAS,wJACTH,OAAQ,CACNI,SAAU,EACVC,SAAU,EACVC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,MAAO,cACPC,YAAa,EACbC,MAAO,GAETC,WAAY,EACZ/qB,KAAM,SACN4I,IAAK,6BACLgc,MAAO,yCAGToG,MAAO,CACLV,QAAS,oCACTH,OAAQ,CACNI,SAAU,EACVI,GAAI,EACJM,WAAY,EACZC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,IAAK,GAEPN,WAAY,EACZ/qB,KAAM,SACN4I,IAAK,+BAGP0iB,UAAW,CACThB,QAAS,yDACTtqB,KAAM,QACN4I,IAAK,2BAQP2iB,WAAY,CACVjB,QAAS,4GACTtqB,KAAM,SACN4I,IAAK,SAAS8Q,GACZ,MACE,iBACAA,EAAI,GACJ,SACCA,EAAI,GAAKA,EAAI,GAAK,MAAQuG,KAAKkC,MAAMzI,EAAI,MAAQA,EAAI,IAAMA,EAAI,IAAIpY,QAAQ,MAAO,KAAO,IAAMoY,EAAI,IAAM,IAAIpY,QAAQ,KAAM,KAC5H,YACCoY,EAAI,KAAoC,EAA7BA,EAAI,IAAIjc,QAAQ,WAAiB,UAAY,WAS/D+tB,YAAa,CACXlB,QAAS,oEACTtqB,KAAM,SACN4I,IAAK,SAAS8Q,GACZ,MAAO,iBAAmBA,EAAI,GAAK,WAAaA,EAAI,GAAGpY,QAAQ,SAAU,MAAMA,QAAQ,QAAS,IAAM,mBAK5GlG,EAAEsE,UAAUvC,GAAG,qBAAsB,SAASigB,EAAG9gB,EAAUof,GACzD,IAEE5F,EACA8O,EACAlL,EACAyQ,EACAsB,EACAC,EACAC,EARE/iB,EAAM8S,EAAKhJ,KAAO,GACpB1S,GAAO,EAST8V,EAAQ1a,EAAEM,QAAO,EAAM,GAAImH,EAAU6Y,EAAKpgB,KAAKwa,OAG/C1a,EAAEe,KAAK2Z,EAAO,SAAS8V,EAAcC,GAGnC,GAFAnS,EAAM9Q,EAAIrH,MAAMsqB,EAAavB,SAE7B,CAQA,GAJAtqB,EAAO6rB,EAAa7rB,KACpB2rB,EAAWC,EACXF,EAAW,GAEPG,EAAad,YAAcrR,EAAImS,EAAad,YAAa,CAGvC,MAFpBU,EAAY/R,EAAImS,EAAad,aAEf,KACZU,EAAYA,EAAU5kB,UAAU,IAGlC4kB,EAAYA,EAAU/O,MAAM,KAE5B,IAAK,IAAIoP,EAAI,EAAGA,EAAIL,EAAUzxB,SAAU8xB,EAAG,CACzC,IAAIC,EAAIN,EAAUK,GAAGpP,MAAM,IAAK,GAEhB,GAAZqP,EAAE/xB,SACJ0xB,EAASK,EAAE,IAAMC,mBAAmBD,EAAE,GAAGzqB,QAAQ,MAAO,QAqB9D,OAhBA6oB,EAAS/uB,EAAEM,QAAO,EAAM,GAAImwB,EAAa1B,OAAQzO,EAAKpgB,KAAKswB,GAAeF,GAE1E9iB,EAC+B,aAA7BxN,EAAE4E,KAAK6rB,EAAajjB,KAAsBijB,EAAajjB,IAAI9M,KAAKN,KAAMke,EAAKyQ,EAAQzO,GAAQwO,EAAO2B,EAAajjB,IAAK8Q,EAAKyQ,GAE3HvF,EACiC,aAA/BxpB,EAAE4E,KAAK6rB,EAAajH,OAAwBiH,EAAajH,MAAM9oB,KAAKN,KAAMke,EAAKyQ,EAAQzO,GAAQwO,EAAO2B,EAAajH,MAAOlL,GAEvG,YAAjBkS,EACFhjB,EAAMA,EAAItH,QAAQ,qBAAsB,SAASC,EAAO0qB,EAAIH,EAAGI,GAC7D,MAAO,YAAcJ,EAAsB,GAAlB1lB,SAAS0lB,EAAG,IAAW,GAAK1lB,SAAS8lB,EAAG,OAEzC,UAAjBN,IACThjB,EAAMA,EAAItH,QAAQ,OAAQ,OAGrB,KAKLtB,GACG0b,EAAKpgB,KAAKspB,OAAWlJ,EAAKpgB,KAAKkhB,QAAUd,EAAKpgB,KAAKkhB,OAAOxiB,SAC7D0hB,EAAKpgB,KAAKspB,MAAQA,GAGP,WAAT5kB,IACF0b,EAAKpgB,KAAOF,EAAEM,QAAO,EAAMggB,EAAKpgB,KAAM,CACpCyY,OAAQ,CACNH,SAAS,EACTzR,KAAM,CACJ+R,UAAW,UAMnB9Y,EAAEM,OAAOggB,EAAM,CACb1b,KAAMA,EACN0S,IAAK9J,EACLujB,QAASzQ,EAAKhJ,IACd0Z,cAAeT,EACftP,YAAsB,UAATrc,EAAmB,QAAsB,cAAZ2rB,GAAwC,eAAZA,EAA4B,MAAQ,WAEnG/iB,IACT8S,EAAK1b,KAAO0b,EAAKpgB,KAAK6Y,eA/L5B,CAkMGja,OAAOI,QAAUA,QAQpB,SAAUJ,EAAQwF,EAAUtE,GAC1B,aAEA,IAAImd,EAEAre,EAAOse,uBACPte,EAAOue,6BACPve,EAAOwe,0BACPxe,EAAOye,wBAEP,SAAS1X,GACP,OAAO/G,EAAO6G,WAAWE,EAAU,IAAO,KAK5CorB,EAEAnyB,EAAOoyB,sBACPpyB,EAAOqyB,4BACPryB,EAAOsyB,yBACPtyB,EAAOuyB,uBACP,SAASvpB,GACPhJ,EAAO2G,aAAaqC,IAKtBwpB,EAAe,SAAStP,GAC1B,IAAIuP,EAAS,GAKb,IAAK,IAAIhT,KAFTyD,GADAA,EAAIA,EAAEK,eAAiBL,GAAKljB,EAAOkjB,GAC7BwP,SAAWxP,EAAEwP,QAAQ5yB,OAASojB,EAAEwP,QAAUxP,EAAEyP,gBAAkBzP,EAAEyP,eAAe7yB,OAASojB,EAAEyP,eAAiB,CAACzP,GAG5GA,EAAEzD,GAAKmT,MACTH,EAAOjvB,KAAK,CACV+iB,EAAGrD,EAAEzD,GAAKmT,MACVpM,EAAGtD,EAAEzD,GAAKoT,QAEH3P,EAAEzD,GAAKqT,SAChBL,EAAOjvB,KAAK,CACV+iB,EAAGrD,EAAEzD,GAAKqT,QACVtM,EAAGtD,EAAEzD,GAAKsT,UAKhB,OAAON,GAGL7hB,EAAW,SAASoiB,EAAQC,EAAQC,GACtC,OAAKD,GAAWD,EAIH,MAATE,EACKF,EAAOzM,EAAI0M,EAAO1M,EACP,MAAT2M,EACFF,EAAOxM,EAAIyM,EAAOzM,EAGpBT,KAAKoN,KAAKpN,KAAKqN,IAAIJ,EAAOzM,EAAI0M,EAAO1M,EAAG,GAAKR,KAAKqN,IAAIJ,EAAOxM,EAAIyM,EAAOzM,EAAG,IATzE,GAYP6M,EAAc,SAASlU,GACzB,GACEA,EAAI0E,GAAG,kFACP3iB,EAAEynB,WAAWxJ,EAAIkJ,IAAI,GAAGiL,UACxBnU,EAAI9c,KAAK,cAET,OAAO,EAIT,IAAK,IAAIH,EAAI,EAAGqxB,EAAOpU,EAAI,GAAGtR,WAAYgU,EAAI0R,EAAKzzB,OAAQoC,EAAI2f,EAAG3f,IAChE,GAAuC,mBAAnCqxB,EAAKrxB,GAAGkU,SAASod,OAAO,EAAG,IAC7B,OAAO,EAIX,OAAO,GAYLC,EAAe,SAAStU,GAG1B,IAFA,IAV2BP,EACvB8U,EACFC,EACAlY,EACAmY,EAMEpU,GAAM,EAViBZ,EAaLO,EAAIkJ,IAAI,QAZ1BqL,EAAAA,EAAY1zB,EAAOoX,iBAAiBwH,GAAI,cAC1C+U,EAAY3zB,EAAOoX,iBAAiBwH,GAAI,cACxCnD,GAA0B,WAAdiY,GAAwC,SAAdA,IAAyB9U,EAAG7N,aAAe6N,EAAG9N,aACpF8iB,GAA4B,WAAdD,GAAwC,SAAdA,IAAyB/U,EAAGiV,YAAcjV,EAAGuC,cASrF3B,EAPK/D,GAAYmY,KAajBzU,EAAMA,EAAI+M,UAEDpsB,SAAUqf,EAAIyE,SAAS,oBAAqBzE,EAAI0E,GAAG,UAK9D,OAAOrE,GAGLsU,EAAY,SAAS1xB,GACvB,IAAIwd,EAAOte,KAEXse,EAAKxd,SAAWA,EAEhBwd,EAAKmU,IAAM3xB,EAASkf,MAAM0S,GAC1BpU,EAAKqU,OAAS7xB,EAASkf,MAAMmC,MAC7B7D,EAAKc,WAAate,EAASkf,MAAMC,UAEjC3B,EAAK9W,UAEL8W,EAAKc,WAAWzd,GAAG,yCAA0C/B,EAAEgzB,MAAMtU,EAAM,kBAG7EkU,EAAUnzB,UAAUmI,QAAU,WAC5BxH,KAAKof,WAAW9c,IAAI,cAGtBkwB,EAAUnzB,UAAUwzB,aAAe,SAASjR,GAC1C,IAAItD,EAAOte,KACTsuB,EAAU1uB,EAAEgiB,EAAES,QACdvhB,EAAWwd,EAAKxd,SAChBwa,EAAUxa,EAASwa,QACnBkK,EAAWlK,EAAQkK,SACnBsN,EAA0B,cAAVlR,EAAEpd,KAQpB,GALIsuB,GACFxU,EAAKc,WAAW9c,IAAI,wBAIlBsf,EAAEK,eAA2C,GAA1BL,EAAEK,cAAclP,SAKlCub,EAAQ9vB,SAAUuzB,EAAYzD,KAAYyD,EAAYzD,EAAQ1D,YAK9D0D,EAAQ/L,GAAG,UAAUX,EAAEK,cAAcuP,QAAUlD,EAAQ,GAAGzO,YAAcyO,EAAQzC,SAAS3H,OAA9F,CAKA,IAAK5I,GAAWxa,EAAS+iB,aAAe/iB,EAASshB,UAI/C,OAHAR,EAAEC,uBACFD,EAAE3O,iBAKJqL,EAAKyU,WAAazU,EAAK0U,YAAc9B,EAAatP,GAE7CtD,EAAK0U,YAAYx0B,SAItBojB,EAAEC,kBAEFvD,EAAK2U,WAAarR,EAElBtD,EAAK4U,QAAS,EACd5U,EAAKgQ,QAAUA,EACfhQ,EAAKkH,SAAWA,EAChBlH,EAAKxe,KAAOwb,EAAQxb,KAAKoa,MAEzBoE,EAAK6U,WAAY,EACjB7U,EAAK8U,WAAY,EACjB9U,EAAK+U,WAAY,EACjB/U,EAAKgV,aAAc,EAEnBhV,EAAKiV,WAAY,IAAI1nB,MAAOke,UAC5BzL,EAAKkV,UAAYlV,EAAKmV,UAAYnV,EAAKhP,SAAW,EAElDgP,EAAKmF,YAAcgB,KAAKC,MAAMpJ,EAAQ0I,OAAO,GAAGnE,aAChDvB,EAAKmH,aAAehB,KAAKC,MAAMpJ,EAAQ0I,OAAO,GAAGxU,cAEjD8O,EAAKoV,eAAiB,KACtBpV,EAAKqV,gBAAkB/zB,EAAE4X,SAASuM,aAAazF,EAAKkH,WAAa,CAAC3b,IAAK,EAAGqa,KAAM,GAChF5F,EAAKsV,eAAiBtV,EAAKuV,eAAiBj0B,EAAE4X,SAASuM,aAAazI,EAAQ0I,QAG5E1F,EAAKwV,SAAWl0B,EAAE4X,SAASuM,aAAajjB,EAASkf,MAAMmC,OAEvD7D,EAAKsV,eAAe/pB,KAAOyU,EAAKwV,SAASjqB,IACzCyU,EAAKsV,eAAe1P,MAAQ5F,EAAKwV,SAAS5P,KAE1C5F,EAAKqV,gBAAgB9pB,KAAOyU,EAAKwV,SAASjqB,IAC1CyU,EAAKqV,gBAAgBzP,MAAQ5F,EAAKwV,SAAS5P,KAE3CtkB,EAAEsE,GACC5B,IAAI,aACJX,GAAGmxB,EAAgB,yCAA2C,uCAAwClzB,EAAEgzB,MAAMtU,EAAM,eACpH3c,GAAGmxB,EAAgB,qBAAuB,qBAAsBlzB,EAAEgzB,MAAMtU,EAAM,gBAE7E1e,EAAE4X,SAAS+G,UACbra,EAASyB,iBAAiB,SAAU2Y,EAAKyV,UAAU,IAG/CzV,EAAKxe,MAAQgB,EAASymB,YAAe+G,EAAQ/L,GAAGjE,EAAKqU,SAAWrU,EAAKqU,OAAOxS,KAAKmO,GAAS9vB,SAQ1FoB,EAAE4X,SAAS+G,WAAa4T,EAAa7D,IAAY6D,EAAa7D,EAAQ1D,YAC1EhJ,EAAE3O,kBAG4B,IAA5BqL,EAAK0U,YAAYx0B,QAAgB8c,EAAQuK,YACvCvH,EAAKxd,SAASymB,UAChB3nB,EAAE4X,SAASgN,KAAKlG,EAAKkH,UAErBlH,EAAKkH,SAAS/M,IAAI,sBAAuB,IAEzC6F,EAAK6U,WAAY,GAEjB7U,EAAK8U,WAAY,EAGnB9U,EAAKc,WAAWM,SAAS,kCAGK,IAA5BpB,EAAK0U,YAAYx0B,QAAiC,UAAjB8c,EAAQ9W,OAAqB8W,EAAQ5E,UAAY4E,EAAQ+N,UAC5F/K,EAAK4U,QAAS,EACd5U,EAAK8U,WAAY,EACjB9U,EAAK6U,WAAY,EAEjB7U,EAAK+U,WAAY,EAEjBzzB,EAAE4X,SAASgN,KAAKlG,EAAKkH,UAErBlH,EAAKkH,SAAS/M,IAAI,sBAAuB,IAEzC6F,EAAK0V,kBAAsE,IAAjD1V,EAAK0U,YAAY,GAAG/N,EAAI3G,EAAK0U,YAAY,GAAG/N,GAAWrlB,EAAElB,GAAQu1B,aAC3F3V,EAAK4V,kBAAsE,IAAjD5V,EAAK0U,YAAY,GAAG9N,EAAI5G,EAAK0U,YAAY,GAAG9N,GAAWtlB,EAAElB,GAAQ+R,YAE3F6N,EAAK6V,gCAAkC7V,EAAK0V,kBAAoB1V,EAAKqV,gBAAgBzP,MAAQ5F,EAAKqV,gBAAgBhP,MAClHrG,EAAK8V,gCAAkC9V,EAAK4V,kBAAoB5V,EAAKqV,gBAAgB9pB,KAAOyU,EAAKqV,gBAAgBjO,OAEjHpH,EAAK+V,4BAA8B/kB,EAASgP,EAAK0U,YAAY,GAAI1U,EAAK0U,YAAY,MA1C9E1E,EAAQ/L,GAAG,oBACbX,EAAE3O,oBA6CRuf,EAAUnzB,UAAU00B,SAAW,SAASnS,GAC3B5hB,KAENszB,aAAc,EAEnBpvB,EAASkP,oBAAoB,SAJlBpT,KAIiC+zB,UAAU,IAGxDvB,EAAUnzB,UAAUi1B,YAAc,SAAS1S,GACzC,IAAItD,EAAOte,KACTsuB,EAAU1uB,EAAEgiB,EAAES,aAGgBjhB,IAA5BwgB,EAAEK,cAAcjK,SAAqD,IAA5B4J,EAAEK,cAAcjK,QAKzDsG,EAAKgV,cAAiBhF,EAAQ/L,GAAGjE,EAAKqU,UAAWrU,EAAKqU,OAAOxS,KAAKmO,GAAS9vB,OAC7E8f,EAAK4U,QAAS,GAKhB5U,EAAKiW,UAAYrD,EAAatP,IAExBtD,EAAKxe,MAAQwe,EAAKxd,SAASymB,WAAcjJ,EAAKiW,UAAU/1B,QAAW8f,EAAKiW,UAAU/1B,SAIlF8f,EAAK8U,YAAgC,IAAnB9U,EAAK8U,WAC3BxR,EAAE3O,iBAGJqL,EAAKkV,UAAYlkB,EAASgP,EAAKiW,UAAU,GAAIjW,EAAK0U,YAAY,GAAI,KAClE1U,EAAKmV,UAAYnkB,EAASgP,EAAKiW,UAAU,GAAIjW,EAAK0U,YAAY,GAAI,KAElE1U,EAAKhP,SAAWA,EAASgP,EAAKiW,UAAU,GAAIjW,EAAK0U,YAAY,IAGzC,EAAhB1U,EAAKhP,WACHgP,EAAK8U,UACP9U,EAAKkW,QAAQ5S,GACJtD,EAAK6U,UACd7U,EAAKmW,QACInW,EAAK+U,WACd/U,EAAKoW,YAhCPpW,EAAKqW,WAAW/S,IAqCpB4Q,EAAUnzB,UAAUm1B,QAAU,SAAS5S,GACrC,IAGEgT,EAHEtW,EAAOte,KACT60B,EAAUvW,EAAK8U,UACflP,EAAO5F,EAAKsV,eAAe1P,MAAQ,EAIrC,IAAgB,IAAZ2Q,EAkDW,KAAXA,IAEiB,EAAjBvW,EAAKkV,YACJlV,EAAKxd,SAAS+d,MAAMrgB,OAAS,GAAsC,IAAhC8f,EAAKxd,SAASwa,QAAQ/Y,QAAgB+b,EAAKxd,SAASwa,QAAQxb,KAAK2X,MAErGyM,GAAcO,KAAKqN,IAAIxT,EAAKkV,UAAW,IAEvClV,EAAKkV,UAAY,IAChBlV,EAAKxd,SAAS+d,MAAMrgB,OAAS,GAC3B8f,EAAKxd,SAASwa,QAAQ/Y,QAAU+b,EAAKxd,SAAS+d,MAAMrgB,OAAS,IAAM8f,EAAKxd,SAASwa,QAAQxb,KAAK2X,MAEjGyM,GAAcO,KAAKqN,KAAKxT,EAAKkV,UAAW,IAExCtP,GAAc5F,EAAKkV,WAIvBlV,EAAKuV,cAAgB,CACnBhqB,IAAgB,KAAXgrB,EAAiB,EAAIvW,EAAKsV,eAAe/pB,IAAMyU,EAAKmV,UACzDvP,KAAMA,GAGJ5F,EAAKwW,YACPjE,EAAavS,EAAKwW,WAElBxW,EAAKwW,UAAY,MAGnBxW,EAAKwW,UAAY/X,EAAc,WACzBuB,EAAKuV,gBACPj0B,EAAEe,KAAK2d,EAAKxd,SAASge,OAAQ,SAASvc,EAAOgiB,GAC3C,IAAIf,EAAMe,EAAMf,IAAMlF,EAAKxd,SAAS6d,QAEpC/e,EAAE4X,SAASqP,aAAatC,EAAMP,OAAQ,CACpCna,IAAKyU,EAAKuV,cAAchqB,IACxBqa,KAAM5F,EAAKuV,cAAc3P,KAAOV,EAAMlF,EAAKmF,YAAcD,EAAMe,EAAMzkB,KAAK4X,WAI9E4G,EAAKc,WAAWM,SAAS,+BAvF3B,GAA8B,GAA1B+E,KAAK+C,IAAIlJ,EAAKhP,UAAgB,CAehC,GAdAgP,EAAK4U,QAAS,EAEV5U,EAAKxd,SAAS+d,MAAMrgB,OAAS,GAAK8f,EAAKxe,KAAKqa,SAC9CmE,EAAK8U,UAAY,IACR9U,EAAKxd,SAASsiB,aAAqC,IAAvB9E,EAAKxe,KAAKqa,UAA8C,SAAvBmE,EAAKxe,KAAKqa,UAA2C,IAApBva,EAAElB,GAAQimB,QACjHrG,EAAK8U,UAAY,KAEjBwB,EAAQnQ,KAAK+C,IAAiD,IAA7C/C,KAAKsQ,MAAMzW,EAAKmV,UAAWnV,EAAKkV,WAAmB/O,KAAKuQ,IAEzE1W,EAAK8U,UAAoB,GAARwB,GAAcA,EAAQ,IAAM,IAAM,KAGrDtW,EAAK4U,QAAS,EAES,MAAnB5U,EAAK8U,WAAqBxzB,EAAE4X,SAAS+G,WAAa4T,EAAa7T,EAAKgQ,UAAY6D,EAAa7T,EAAKgQ,QAAQ1D,WAG5G,YAFAtM,EAAKgV,aAAc,GAKrBhV,EAAKxd,SAASsiB,WAAa9E,EAAK8U,UAGhC9U,EAAK0U,YAAc1U,EAAKiW,UAExB30B,EAAEe,KAAK2d,EAAKxd,SAASge,OAAQ,SAASvc,EAAOgiB,GAC3C3kB,EAAE4X,SAASgN,KAAKD,EAAMP,QAEtBO,EAAMP,OAAOvL,IAAI,sBAAuB,IAExC8L,EAAM0Q,cAAe,EAEjB1Q,EAAMf,MAAQlF,EAAKxd,SAASwa,QAAQkI,MACtClF,EAAKsV,eAAe1P,KAAOtkB,EAAE4X,SAASuM,aAAaQ,EAAMP,QAAQE,KAAOtkB,EAAE4X,SAASuM,aAAazF,EAAKxd,SAASkf,MAAMmC,OAAO+B,QAK3H5F,EAAKxd,SAASilB,WAAazH,EAAKxd,SAASilB,UAAUvE,UACrDlD,EAAKxd,SAASilB,UAAUvB,SAoDhCgO,EAAUnzB,UAAUo1B,MAAQ,WAC1B,IAAInW,EAAOte,KAGPsP,EAASgP,EAAKiW,UAAU,GAAIjW,EAAKyU,WAAW,KAAOnzB,EAAE4X,SAAS+G,SAAW,GAAK,GAChFD,EAAK0U,YAAc1U,EAAKiW,WAI1BjW,EAAK4U,QAAS,EAEd5U,EAAKoV,eAAiBpV,EAAK4W,gBAEvB5W,EAAKwW,YACPjE,EAAavS,EAAKwW,WAElBxW,EAAKwW,UAAY,MAGnBxW,EAAKwW,UAAY/X,EAAc,WAC7Bnd,EAAE4X,SAASqP,aAAavI,EAAKkH,SAAUlH,EAAKoV,oBAKhDlB,EAAUnzB,UAAU61B,cAAgB,WAClC,IAgBIC,EAAeC,EAAeC,EAAeC,EAAeC,EAAYC,EAhBxElX,EAAOte,KAEPyjB,EAAcnF,EAAKmF,YACnBgC,EAAenH,EAAKmH,aAEpB+N,EAAYlV,EAAKkV,UACjBC,EAAYnV,EAAKmV,UAEjBE,EAAkBrV,EAAKqV,gBAEvB8B,EAAiB9B,EAAgBzP,KACjCwR,EAAiB/B,EAAgB9pB,IAEjC8rB,EAAehC,EAAgBhP,MAC/BiR,EAAgBjC,EAAgBjO,OAuCpC,OAlCE6P,EADiB9R,EAAfkS,EACWF,EAAiBjC,EAEjBiC,EAGfD,EAAaE,EAAiBjC,EAG9B0B,EAAgB1Q,KAAKiF,IAAI,EAAiB,GAAdjG,EAAmC,GAAfkS,GAChDP,EAAgB3Q,KAAKiF,IAAI,EAAkB,GAAfjE,EAAqC,GAAhBmQ,GAEjDP,EAAgB5Q,KAAKiC,IAAIjD,EAAckS,EAA4B,GAAdlS,EAAmC,GAAfkS,GACzEL,EAAgB7Q,KAAKiC,IAAIjB,EAAemQ,EAA8B,GAAfnQ,EAAqC,GAAhBmQ,GAG5D,EAAZpC,GAA8B2B,EAAbI,IACnBA,EAAaJ,EAAgB,EAAI1Q,KAAKqN,KAAKqD,EAAgBM,EAAiBjC,EAAW,KAAQ,GAI7FA,EAAY,GAAK+B,EAAaF,IAChCE,EAAaF,EAAgB,EAAI5Q,KAAKqN,IAAIuD,EAAgBI,EAAiBjC,EAAW,KAAQ,GAIhF,EAAZC,GAA8B2B,EAAbI,IACnBA,EAAaJ,EAAgB,EAAI3Q,KAAKqN,KAAKsD,EAAgBM,EAAiBjC,EAAW,KAAQ,GAI7FA,EAAY,GAAK+B,EAAaF,IAChCE,EAAaF,EAAgB,EAAI7Q,KAAKqN,IAAIwD,EAAgBI,EAAiBjC,EAAW,KAAQ,GAGzF,CACL5pB,IAAK2rB,EACLtR,KAAMqR,IAIV/C,EAAUnzB,UAAUw2B,cAAgB,SAASN,EAAYC,EAAYM,EAAUC,GAC7E,IAEItS,EAFOzjB,KAEYyjB,YACnBgC,EAHOzlB,KAGaylB,aAkBxB,OAdE8P,EAFa9R,EAAXqS,GACFP,EAA0B,EAAbA,EAAiB,EAAIA,GACR9R,EAAcqS,EAAWrS,EAAcqS,EAAWP,EAG/D9Q,KAAKiF,IAAI,EAAGjG,EAAc,EAAIqS,EAAW,GAWjD,CACLjsB,IAPA2rB,EAFc/P,EAAZsQ,GACFP,EAA0B,EAAbA,EAAiB,EAAIA,GACR/P,EAAesQ,EAAYtQ,EAAesQ,EAAYP,EAGnE/Q,KAAKiF,IAAI,EAAGjE,EAAe,EAAIsQ,EAAY,GAKxD7R,KAAMqR,IAIV/C,EAAUnzB,UAAUq1B,OAAS,WAC3B,IAAIpW,EAAOte,KAGP2zB,EAAkBrV,EAAKqV,gBAEvBgC,EAAehC,EAAgBhP,MAC/BiR,EAAgBjC,EAAgBjO,OAEhC+P,EAAiB9B,EAAgBzP,KACjCwR,EAAiB/B,EAAgB9pB,IAIjCmsB,EAF4B1mB,EAASgP,EAAKiW,UAAU,GAAIjW,EAAKiW,UAAU,IAE9BjW,EAAK+V,4BAE9CyB,EAAWrR,KAAKkC,MAAMgP,EAAeK,GACrCD,EAAYtR,KAAKkC,MAAMiP,EAAgBI,GAGvCC,GAAyBN,EAAeG,GAAYxX,EAAK6V,+BACzD+B,GAAyBN,EAAgBG,GAAazX,EAAK8V,+BAG3D+B,GAAmB7X,EAAKiW,UAAU,GAAGtP,EAAI3G,EAAKiW,UAAU,GAAGtP,GAAK,EAAIrlB,EAAElB,GAAQu1B,aAC9EmC,GAAmB9X,EAAKiW,UAAU,GAAGrP,EAAI5G,EAAKiW,UAAU,GAAGrP,GAAK,EAAItlB,EAAElB,GAAQ+R,YAI9E4lB,EAA4BF,EAAkB7X,EAAK0V,kBAOnDsC,EAAS,CACXzsB,IAHe6rB,GAAkBQ,GAJHE,EAAkB9X,EAAK4V,oBAQrDhQ,KALeuR,GAAkBQ,EAAwBI,GAMzD/Q,OAAQ0Q,EACRzQ,OAAQyQ,GAGV1X,EAAK4U,QAAS,EAEd5U,EAAKwX,SAAWA,EAChBxX,EAAKyX,UAAYA,EAEjBzX,EAAKoV,eAAiB4C,EAElBhY,EAAKwW,YACPjE,EAAavS,EAAKwW,WAElBxW,EAAKwW,UAAY,MAGnBxW,EAAKwW,UAAY/X,EAAc,WAC7Bnd,EAAE4X,SAASqP,aAAavI,EAAKkH,SAAUlH,EAAKoV,mBAIhDlB,EAAUnzB,UAAUs1B,WAAa,SAAS/S,GACxC,IAAItD,EAAOte,KACPu2B,EAAM9R,KAAKiF,KAAI,IAAI7d,MAAOke,UAAYzL,EAAKiV,UAAW,GAEtDsB,EAAUvW,EAAK8U,UACfoD,EAAUlY,EAAK6U,UACfsD,EAAUnY,EAAK+U,UACf3a,EAAY4F,EAAKgV,YAuBrB,GArBAhV,EAAKoY,UAAYxF,EAAatP,GAE9BtD,EAAKc,WAAWiF,YAAY,iCAE5BzkB,EAAEsE,GAAU5B,IAAI,aAEhB4B,EAASkP,oBAAoB,SAAUkL,EAAKyV,UAAU,GAElDzV,EAAKwW,YACPjE,EAAavS,EAAKwW,WAElBxW,EAAKwW,UAAY,MAGnBxW,EAAK8U,WAAY,EACjB9U,EAAK6U,WAAY,EACjB7U,EAAK+U,WAAY,EACjB/U,EAAKgV,aAAc,EAEnBhV,EAAKxd,SAASsiB,YAAa,EAEvB9E,EAAK4U,OACP,OAAO5U,EAAKqY,MAAM/U,GAGpBtD,EAAK9D,MAAQ,IAGb8D,EAAKsY,UAAYtY,EAAKkV,UAAY+C,EAAM,GACxCjY,EAAKuY,UAAYvY,EAAKmV,UAAY8C,EAAM,GAExCjY,EAAKwY,OAASrS,KAAKiF,IAAiB,GAAbpL,EAAK9D,MAAaiK,KAAKiC,IAAiB,IAAbpI,EAAK9D,MAAa,EAAIiK,KAAK+C,IAAIlJ,EAAKsY,WAAatY,EAAK9D,QAEpGgc,EACFlY,EAAKyY,aACIN,EACTnY,EAAK0Y,aAEL1Y,EAAK2Y,WAAWpC,EAASnc,IAM7B8Z,EAAUnzB,UAAU43B,WAAa,SAASpC,EAASnc,GACjD,IAAI4F,EAAOte,KACT+oB,GAAM,EACNmO,EAAM5Y,EAAKxd,SAAS+d,MAAMrgB,OAE5B8f,EAAKuV,cAAgB,KAGN,KAAXgB,IAAmBnc,GAAwC,GAA3B+L,KAAK+C,IAAIlJ,EAAKmV,YAEhD7zB,EAAE4X,SAASoN,QACTtG,EAAKxd,SAASwa,QAAQ0I,OACtB,CACEna,IAAKyU,EAAKsV,eAAe/pB,IAAMyU,EAAKmV,UAA6B,IAAjBnV,EAAKuY,UACrD5P,QAAS,GAEX,KAGF8B,EAAMzK,EAAKxd,SAAS2Y,OAAM,EAAM,MACZ,KAAXob,GAAmC,GAAjBvW,EAAKkV,WAAwB,EAAN0D,EAClDnO,EAAMzK,EAAKxd,SAASghB,SAASxD,EAAKwY,QACd,KAAXjC,GAAkBvW,EAAKkV,WAAa,IAAY,EAAN0D,IACnDnO,EAAMzK,EAAKxd,SAASihB,KAAKzD,EAAKwY,UAGpB,IAAR/N,GAA6B,KAAX8L,GAA6B,KAAXA,IAClCnc,GAAawe,EAAM,EACrB5Y,EAAKxd,SAASkmB,YAAY1I,EAAKxd,SAASwa,QAAS,KAEjDgD,EAAKxd,SAASuf,OAAO/B,EAAKxd,SAASwa,QAAQ/Y,QAI/C+b,EAAKc,WAAWiF,YAAY,wBAK9BmO,EAAUnzB,UAAU03B,WAAa,WAC/B,IACIxB,EAAYC,EAAYc,EADxBhY,EAAOte,KAGNse,EAAKoV,kBAIiB,IAAvBpV,EAAKxe,KAAKsa,UACZmb,EAAajX,EAAKoV,eAAexP,KACjCsR,EAAalX,EAAKoV,eAAe7pB,MAGjC0rB,EAAajX,EAAKoV,eAAexP,KAAO5F,EAAKsY,UAAYtY,EAAK9D,MAC9Dgb,EAAalX,EAAKoV,eAAe7pB,IAAMyU,EAAKuY,UAAYvY,EAAK9D,QAG/D8b,EAAShY,EAAKuX,cAAcN,EAAYC,EAAYlX,EAAKqV,gBAAgBhP,MAAOrG,EAAKqV,gBAAgBjO,SAE9Ff,MAAQrG,EAAKqV,gBAAgBhP,MACpC2R,EAAO5Q,OAASpH,EAAKqV,gBAAgBjO,OAErC9lB,EAAE4X,SAASoN,QAAQtG,EAAKkH,SAAU8Q,EAAQ,OAG5C9D,EAAUnzB,UAAU23B,WAAa,WAC/B,IAIIzB,EAAYC,EAAYc,EAAQa,EAJhC7Y,EAAOte,KAEPsb,EAAUgD,EAAKxd,SAASwa,QAIxBwa,EAAWxX,EAAKwX,SAChBC,EAAYzX,EAAKyX,UAEhBzX,EAAKoV,iBAIV6B,EAAajX,EAAKoV,eAAexP,KAGjCiT,EAAQ,CACNttB,IAHF2rB,EAAalX,EAAKoV,eAAe7pB,IAI/Bqa,KAAMqR,EACN5Q,MAAOmR,EACPpQ,OAAQqQ,EACRzQ,OAAQ,EACRC,OAAQ,GAIV3lB,EAAE4X,SAASqP,aAAavI,EAAKkH,SAAU2R,GAEnCrB,EAAWxX,EAAKmF,aAAesS,EAAYzX,EAAKmH,aAClDnH,EAAKxd,SAASklB,WAAW,KAChB8P,EAAWxa,EAAQqJ,OAASoR,EAAYza,EAAQoK,OACzDpH,EAAKxd,SAASkkB,cAAc1G,EAAK0V,kBAAmB1V,EAAK4V,kBAAmB,MAE5EoC,EAAShY,EAAKuX,cAAcN,EAAYC,EAAYM,EAAUC,GAG9Dn2B,EAAE4X,SAASqP,aAAavI,EAAKkH,SAAU5lB,EAAE4X,SAASuM,aAAazF,EAAKkH,WAEpE5lB,EAAE4X,SAASoN,QAAQtG,EAAKkH,SAAU8Q,EAAQ,QAI9C9D,EAAUnzB,UAAUs3B,MAAQ,SAAS/U,GACnC,IAWIwV,EAXA9Y,EAAOte,KACPsuB,EAAU1uB,EAAEgiB,EAAES,QAEdvhB,EAAWwd,EAAKxd,SAChBwa,EAAUxa,EAASwa,QAEnBob,EAAa9U,GAAKsP,EAAatP,IAAOtD,EAAK0U,YAE3CqE,EAAOX,EAAU,GAAKA,EAAU,GAAGzR,EAAIrlB,EAAElB,GAAQu1B,aAAe3V,EAAKwV,SAAS5P,KAAO,EACrFoT,EAAOZ,EAAU,GAAKA,EAAU,GAAGxR,EAAItlB,EAAElB,GAAQ+R,YAAc6N,EAAKwV,SAASjqB,IAAM,EAInF0tB,EAAU,SAASC,GACrB,IAAIC,EAASnc,EAAQxb,KAAK03B,GAM1B,GAJI53B,EAAEynB,WAAWoQ,KACfA,EAASA,EAAOv2B,MAAMJ,EAAU,CAACwa,EAASsG,KAGvC6V,EAIL,OAAQA,GACN,IAAK,QACH32B,EAAS2Y,MAAM6E,EAAK2U,YAEpB,MAEF,IAAK,iBACHnyB,EAASosB,gBAAe,GAExB,MAEF,IAAK,OACHpsB,EAASihB,OAET,MAEF,IAAK,cACyB,EAAxBjhB,EAAS+d,MAAMrgB,OACjBsC,EAASihB,OAETjhB,EAAS2Y,MAAM6E,EAAK2U,YAGtB,MAEF,IAAK,OACiB,SAAhB3X,EAAQ9W,OAAoB8W,EAAQ5E,UAAY4E,EAAQ+N,UACtDvoB,EAASymB,SACXzmB,EAASklB,aACAllB,EAASkhB,eAClBlhB,EAASkkB,cAAcqS,EAAMC,GACpBx2B,EAAS+d,MAAMrgB,OAAS,GACjCsC,EAAS2Y,MAAM6E,EAAK2U,eAS9B,KAAIrR,EAAEK,eAA2C,GAA1BL,EAAEK,cAAclP,UAKlCub,EAAQ/L,GAAG,UAAU8U,EAAO/I,EAAQ,GAAGzO,YAAcyO,EAAQzC,SAAS3H,OAA3E,CAKA,GAAIoK,EAAQ/L,GAAG,oEACb6U,EAAQ,eACH,GAAI9I,EAAQ/L,GAAG,mBACpB6U,EAAQ,YACH,CAAA,IACLt2B,EAASwa,QAAQkK,WACjB1kB,EAASwa,QAAQkK,SACdrF,KAAKmO,GACLoJ,UACAtW,OAAOkN,GAAS9vB,OAInB,OAFA44B,EAAQ,UAMV,GAAI9Y,EAAKqZ,OAAQ,CAMf,GAJAtyB,aAAaiZ,EAAKqZ,QAClBrZ,EAAKqZ,OAAS,KAGmB,GAA7BlT,KAAK+C,IAAI6P,EAAO/Y,EAAK+Y,OAA2C,GAA7B5S,KAAK+C,IAAI8P,EAAOhZ,EAAKgZ,MAC1D,OAAOt3B,KAITu3B,EAAQ,WAAaH,QAIrB9Y,EAAK+Y,KAAOA,EACZ/Y,EAAKgZ,KAAOA,EAERhc,EAAQxb,KAAK,WAAas3B,IAAU9b,EAAQxb,KAAK,WAAas3B,KAAW9b,EAAQxb,KAAK,QAAUs3B,GAClG9Y,EAAKqZ,OAASpyB,WAAW,WACvB+Y,EAAKqZ,OAAS,KAEdJ,EAAQ,QAAUH,IACjB,KAEHG,EAAQ,QAAUH,GAItB,OAAOp3B,OAGTJ,EAAEsE,GAAUvC,GAAG,gBAAiB,SAASigB,EAAG9gB,GACtCA,IAAaA,EAAS0xB,YACxB1xB,EAAS0xB,UAAY,IAAIA,EAAU1xB,MA32BzC,CA82BGpC,OAAQwF,SAAUxF,OAAOI,QAAUA,QAWtC,SAAUoF,EAAUtE,GAClB,aAEAA,EAAEM,QAAO,EAAMN,EAAE4X,SAASnQ,SAAU,CAClCiS,OAAQ,CACNiB,UACE,iNAOJA,UAAW,CACTN,WAAW,EACXO,MAAO,OAIX,IAAIuL,EAAY,SAASjlB,GACvBd,KAAKc,SAAWA,EAChBd,KAAKkf,QAGPtf,EAAEM,OAAO6lB,EAAU1mB,UAAW,CAC5Bu4B,MAAO,KACPpW,UAAU,EACVqW,QAAS,KAET3Y,KAAM,WACJ,IAAIZ,EAAOte,KAEXse,EAAKuZ,QAAUvZ,EAAKxd,SAASkf,MAAMjI,QAAQoI,KAAK,wBAAwBxe,GAAG,QAAS,WAClF2c,EAAKwZ,YAGHxZ,EAAKxd,SAAS+d,MAAMrgB,OAAS,IAAM8f,EAAKxd,SAAS+d,MAAMP,EAAKxd,SAAS0d,WAAW1e,KAAKya,YACvF+D,EAAKuZ,QAAQ/kB,QAIjBilB,IAAK,SAAShL,GACZ,IAAIzO,EAAOte,KAITse,EAAKxd,UACLwd,EAAKxd,SAASwa,WACH,IAAVyR,GAAkBzO,EAAKxd,SAASwa,QAAQxb,KAAK2X,MAAQ6G,EAAKxd,SAAS0d,UAAYF,EAAKxd,SAAS+d,MAAMrgB,OAAS,GAE7G8f,EAAKsZ,MAAQryB,WAAW,WAClB+Y,EAAKkD,UACPlD,EAAKxd,SAASuf,QAAQ/B,EAAKxd,SAAS0d,UAAY,GAAKF,EAAKxd,SAAS+d,MAAMrgB,SAE1E8f,EAAKxd,SAASwa,QAAQxb,KAAKya,UAAUC,QAExC8D,EAAKkG,OACLlG,EAAKxd,SAASiiB,mBAAqB,EACnCzE,EAAKxd,SAASmiB,iBAIlB+U,MAAO,WAGL3yB,aAFWrF,KAEO43B,OAFP53B,KAIN43B,MAAQ,MAGfpM,MAAO,WACL,IACIlQ,EADOtb,KACQc,SAASwa,QAExBA,IAHOtb,KAIJwhB,UAAW,EAJPxhB,KAMJ63B,QACFlxB,KAAK,QAAS2U,EAAQxb,KAAKgc,KAAKR,EAAQxb,KAAK+b,MAAMQ,WACnDgI,YAAY,yBACZ3E,SAAS,0BATH1f,KAWJ+3B,KAAI,KAIbvT,KAAM,WACJ,IACIlJ,EADOtb,KACQc,SAASwa,QADjBtb,KAGNg4B,QAHMh4B,KAKN63B,QACFlxB,KAAK,QAAS2U,EAAQxb,KAAKgc,KAAKR,EAAQxb,KAAK+b,MAAMO,YACnDiI,YAAY,0BACZ3E,SAAS,yBARD1f,KAUNwhB,UAAW,GAGlBsW,OAAQ,WACK93B,KAEFwhB,SAFExhB,KAGJwkB,OAHIxkB,KAKJwrB,WAKX5rB,EAAEsE,GAAUvC,GAAG,CACbs2B,YAAa,SAASrW,EAAG9gB,GACnBA,IAAaA,EAASilB,YACxBjlB,EAASilB,UAAY,IAAIA,EAAUjlB,KAIvCo3B,gBAAiB,SAAStW,EAAG9gB,EAAUwa,EAASsD,GAC9C,IAAImH,EAAYjlB,GAAYA,EAASilB,UAEjCnH,EACEmH,GAAazK,EAAQxb,KAAKya,UAAUN,WACtC8L,EAAUyF,QAEHzF,GAAaA,EAAUvE,UAChCuE,EAAUiS,SAIdG,eAAgB,SAASvW,EAAG9gB,EAAUwa,GACpC,IAAIyK,EAAYjlB,GAAYA,EAASilB,UAEjCA,GAAaA,EAAUvE,UACzBuE,EAAUgS,OAIdK,kBAAmB,SAASxW,EAAG9gB,EAAUwa,EAAS+c,EAAU5V,GAC1D,IAAIsD,EAAYjlB,GAAYA,EAASilB,WAGjCA,IAAazK,EAAQxb,KAAKya,WAA0B,KAAZkI,GAA8B,KAAZA,GAAoB7iB,EAAEsE,EAAS+a,eAAesD,GAAG,oBAC7G8V,EAASplB,iBAET8S,EAAU+R,WAIdQ,iCAAkC,SAAS1W,EAAG9gB,GAC5C,IAAIilB,EAAYjlB,GAAYA,EAASilB,UAEjCA,GACFA,EAAUvB,UAMhB5kB,EAAEsE,GAAUvC,GAAG,mBAAoB,WACjC,IAAIb,EAAWlB,EAAE4X,SAASgI,cACtBuG,EAAYjlB,GAAYA,EAASilB,UAEjCA,GAAaA,EAAUvE,WACrBtd,EAASq0B,OACXxS,EAAUiS,QAEVjS,EAAUgS,SAvKlB,CA2KG7zB,SAAUxF,OAAOI,QAAUA,QAQ9B,SAAUoF,EAAUtE,GAClB,aAGA,IAAIO,EAAK,WAkCP,IAjCA,IAAIq4B,EAAQ,CACV,CAAC,oBAAqB,iBAAkB,oBAAqB,oBAAqB,mBAAoB,mBAEtG,CACE,0BACA,uBACA,0BACA,0BACA,yBACA,yBAGF,CACE,0BACA,yBACA,iCACA,yBACA,yBACA,yBAEF,CACE,uBACA,sBACA,uBACA,uBACA,sBACA,sBAEF,CAAC,sBAAuB,mBAAoB,sBAAuB,sBAAuB,qBAAsB,sBAG9GzP,EAAM,GAEDnoB,EAAI,EAAGA,EAAI43B,EAAMh6B,OAAQoC,IAAK,CACrC,IAAI63B,EAAMD,EAAM53B,GAEhB,GAAI63B,GAAOA,EAAI,KAAMv0B,EAAU,CAC7B,IAAK,IAAIilB,EAAI,EAAGA,EAAIsP,EAAIj6B,OAAQ2qB,IAC9BJ,EAAIyP,EAAM,GAAGrP,IAAMsP,EAAItP,GAGzB,OAAOJ,GAIX,OAAO,EA9CA,GAkDT,GAAK5oB,EAAL,CAQA,IAAIu4B,EAAa,CACf9vB,QAAS,SAAS/H,IAChBA,EAAOA,GAAQqD,EAASy0B,iBAEnBx4B,EAAGy4B,mBAAmB/3B,EAAKg4B,uBAElCC,KAAM,WACJ50B,EAAS/D,EAAG44B,mBAEdjB,OAAQ,SAASj3B,GACfA,EAAOA,GAAQqD,EAASy0B,gBAEpB34B,KAAKg5B,eACPh5B,KAAK84B,OAEL94B,KAAK4I,QAAQ/H,IAGjBm4B,aAAc,WACZ,OAAOC,QAAQ/0B,EAAS/D,EAAG+4B,qBAE7BC,QAAS,WACP,OAAOF,QAAQ/0B,EAAS/D,EAAGi5B,sBAI/Bx5B,EAAEM,QAAO,EAAMN,EAAE4X,SAASnQ,SAAU,CAClCiS,OAAQ,CACNU,WACE,gMAMJA,WAAY,CACVC,WAAW,KAIfra,EAAEsE,GAAUvC,GAAG,CACbs2B,YAAa,SAASrW,EAAG9gB,GAGnBA,GAAYA,EAAS+d,MAAM/d,EAAS0d,WAAW1e,KAAKka,YACzClZ,EAASkf,MAAMC,UAEjBte,GAAG,sBAAuB,6BAA8B,SAASigB,GAC1EA,EAAEC,kBACFD,EAAE3O,iBAEFylB,EAAWZ,WAGTh3B,EAAShB,KAAKka,aAAqD,IAAvClZ,EAAShB,KAAKka,WAAWC,WACvDye,EAAW9vB,UAIb9H,EAAS43B,WAAaA,GACb53B,GACTA,EAASkf,MAAMjI,QAAQoI,KAAK,8BAA8BrN,QAI9DslB,kBAAmB,SAASxW,EAAG9gB,EAAUwa,EAAS+c,EAAU5V,GAEtD3hB,GAAYA,EAAS43B,YAA0B,KAAZjW,IACrC4V,EAASplB,iBAETnS,EAAS43B,WAAWZ,WAIxBuB,iBAAkB,SAASzX,EAAG9gB,GACxBA,GAAYA,EAAS43B,YAAc53B,EAASkf,MAAMC,UAAUqC,SAAS,2BACvEoW,EAAWI,UAKjBl5B,EAAEsE,GAAUvC,GAAGxB,EAAGm5B,iBAAkB,WAClC,IAAIN,EAAeN,EAAWM,eAC5Bl4B,EAAWlB,EAAE4X,SAASgI,cAEpB1e,IAEEA,EAASwa,SAAqC,UAA1Bxa,EAASwa,QAAQ9W,MAAoB1D,EAAS+iB,cACpE/iB,EAASwa,QAAQkK,SAAS/M,IAAI,aAAc,QAE5C3X,EAAS+iB,aAAc,EAEvB/iB,EAASohB,QAAO,GAAM,EAAM,IAG9BphB,EAAS2H,QAAQ,qBAAsBuwB,GAEvCl4B,EAASkf,MAAMC,UAAU6G,YAAY,yBAA0BkS,WAxG7Dp5B,GAAKA,EAAE4X,WACT5X,EAAE4X,SAASnQ,SAASiS,OAAOU,YAAa,GAxD9C,CAkKG9V,SAAUxF,OAAOI,QAAUA,QAQ9B,SAAUoF,EAAUtE,GAClB,aAEA,IAAI25B,EAAQ,kBACVC,EAAeD,EAAQ,UAIzB35B,EAAE4X,SAASnQ,SAAWzH,EAAEM,QACtB,EACA,CACEoZ,OAAQ,CACNmB,OACE,gWAMJA,OAAQ,CACNR,WAAW,EACXS,aAAa,EACbd,SAAU,sBACVe,KAAM,MAGV/a,EAAE4X,SAASnQ,UAGb,IAAIoyB,EAAc,SAAS34B,GACzBd,KAAKkf,KAAKpe,IAGZlB,EAAEM,OAAOu5B,EAAYp6B,UAAW,CAC9Bw4B,QAAS,KACT6B,MAAO,KACPC,MAAO,KACPlN,WAAW,EACXjL,UAAU,EAEVtC,KAAM,SAASpe,GACb,IACEqqB,EACAyO,EAFEtb,EAAOte,OAIXse,EAAKxd,SAAWA,GAEPygB,OAASjD,GAEbxe,KAAOgB,EAAS+d,MAAM/d,EAAS0d,WAAW1e,KAAK2a,OAIpD0Q,GADAA,EAAQrqB,EAAS+d,MAAM,IACT/e,KAAKspB,UAAU+B,EAAMrrB,KAAKkhB,SAAUmK,EAAMrrB,KAAKkhB,OAAOxiB,SAAS2sB,EAAMrrB,KAAKkhB,OAAOra,KAAK,OAExE,EAAxB7F,EAAS+d,MAAMrgB,SAEjBo7B,GADAA,EAAS94B,EAAS+d,MAAM,IACR/e,KAAKspB,UAAUwQ,EAAO95B,KAAKkhB,SAAU4Y,EAAO95B,KAAKkhB,OAAOxiB,SAASo7B,EAAO95B,KAAKkhB,OAAOra,KAAK,QAG3G2X,EAAKuZ,QAAU/2B,EAASkf,MAAMjI,QAAQoI,KAAK,0BAEvC7B,EAAKxe,MAAQqrB,GAASyO,GAAUzO,GAASyO,GAC3Ctb,EAAKuZ,QAAQtkB,OAAO5R,GAAG,QAAS,WAC9B2c,EAAKwZ,WAGPxZ,EAAKkD,UAAW,GAEhBlD,EAAKuZ,QAAQ/kB,QAIjBvL,OAAQ,WACN,IAIE2P,EAJEoH,EAAOte,KACTc,EAAWwd,EAAKxd,SAChB8Y,EAAW0E,EAAKxe,KAAK8Z,SACrBigB,EAAO,GAGJvb,EAAKob,QAERpb,EAAKob,MAAQ95B,EAAE,eAAiB25B,EAAQ,IAAMA,EAAQ,IAAMjb,EAAKxe,KAAK6a,KAAO,YAAYgF,SACvF7e,EAASkf,MAAMC,UACZE,KAAKvG,GACL8d,UACAtW,OAAOxH,IAIZ0E,EAAKob,MAAM/3B,GAAG,QAAS,KAAM,WAC3Bb,EAASuf,OAAOzgB,EAAEI,MAAM2G,KAAK,kBAK5B2X,EAAKqb,QACRrb,EAAKqb,MAAQ/5B,EAAE,QAAQ+f,SAASrB,EAAKob,QAGvC95B,EAAEe,KAAKG,EAAS+d,MAAO,SAASje,EAAGsf,IACjChJ,EAAMgJ,EAAKpgB,KAAKspB,QAAUlJ,EAAKpgB,KAAKkhB,OAASd,EAAKpgB,KAAKkhB,OAAOra,KAAK,OAAS,QAElD,UAAduZ,EAAK1b,OACf0S,EAAMgJ,EAAKhJ,KAGb2iB,EAAK33B,KACH,mBACEtB,EACA,kDAGCsW,GAAOA,EAAI1Y,OAAS,gCAAkC0Y,EAAM,QAAU,IACvE,YAINoH,EAAKqb,MAAM,GAAG/qB,UAAYirB,EAAKC,KAAK,IAEb,MAAnBxb,EAAKxe,KAAK6a,MAEZ2D,EAAKqb,MAAMhV,MACT/Z,SAAS0T,EAAKob,MAAMjhB,IAAI,iBAAkB,IACxC3X,EAAS+d,MAAMrgB,OACb8f,EAAKqb,MACFrkB,WACAkZ,GAAG,GACHjE,YAAW,KAKxB9I,MAAO,SAAS8B,GACd,IAGE6F,EACAuC,EAJErN,EAAOte,KACT25B,EAAQrb,EAAKqb,MACbD,EAAQpb,EAAKob,MAIVpb,EAAKxd,SAASwa,UAUnBqQ,GANAvC,EAAQuQ,EACLrkB,WACA+O,YAAYmV,GACZpY,OAAO,gBAAkB9C,EAAKxd,SAASwa,QAAQ/Y,MAAQ,MACvDmd,SAAS8Z,IAEKzL,WAGM,MAAnBzP,EAAKxe,KAAK6a,OAAiBgR,EAAS9hB,IAAM,GAAK8hB,EAAS9hB,IAAM8vB,EAAMjU,SAAW0D,EAAMoB,eACvFmP,EAAMnV,OAAOI,QACX,CACEnU,UAAWkpB,EAAMlpB,YAAckb,EAAS9hB,KAE1C0Z,GAGiB,MAAnBjF,EAAKxe,KAAK6a,OACTgR,EAASzH,KAAOwV,EAAMzF,cAAgBtI,EAASzH,KAAOwV,EAAMzF,cAAgByF,EAAM/U,QAAUyE,EAAMmB,gBAEnGoP,EACG/O,SACApG,OACAI,QACC,CACEqP,WAAYtI,EAASzH,MAEvBX,KAKRrB,OAAQ,WACN,IAAI6X,EAAO/5B,KACX+5B,EAAKj5B,SAASkf,MAAMC,UAAU6G,YAAY,uBAAwB9mB,KAAKysB,WAEnEsN,EAAKtN,WACFsN,EAAKL,OACRK,EAAKxyB,SAGPwyB,EAAKj5B,SAAS2H,QAAQ,gBAEtBsxB,EAAKtY,MAAM,IACFsY,EAAKL,OACdK,EAAKj5B,SAAS2H,QAAQ,gBAIxBsxB,EAAKj5B,SAASohB,UAGhBpP,KAAM,WACJ9S,KAAKysB,WAAY,EACjBzsB,KAAKkiB,UAGP3O,KAAM,WACJvT,KAAKysB,WAAY,EACjBzsB,KAAKkiB,UAGP4V,OAAQ,WACN93B,KAAKysB,WAAazsB,KAAKysB,UACvBzsB,KAAKkiB,YAITtiB,EAAEsE,GAAUvC,GAAG,CACbs2B,YAAa,SAASrW,EAAG9gB,GACvB,IAAIygB,EAEAzgB,IAAaA,EAASygB,SACxBA,EAAS,IAAIkY,EAAY34B,IAEd0gB,WAAsC,IAA1BD,EAAOzhB,KAAKma,WACjCsH,EAAOhO,QAKb2kB,gBAAiB,SAAStW,EAAG9gB,EAAUof,EAAMtB,GAC3C,IAAI2C,EAASzgB,GAAYA,EAASygB,OAE9BA,GAAUA,EAAOkL,WACnBlL,EAAOE,MAAM7C,EAAW,EAAI,MAIhCwZ,kBAAmB,SAASxW,EAAG9gB,EAAUwa,EAAS+c,EAAU5V,GAC1D,IAAIlB,EAASzgB,GAAYA,EAASygB,OAG9BA,GAAUA,EAAOC,UAAwB,KAAZiB,IAC/B4V,EAASplB,iBAETsO,EAAOuW,WAIXuB,iBAAkB,SAASzX,EAAG9gB,GAC5B,IAAIygB,EAASzgB,GAAYA,EAASygB,OAE9BA,GAAUA,EAAOkL,YAAyC,IAA5BlL,EAAOzhB,KAAK4a,aAC5C6G,EAAOmY,MAAM5mB,UAxPrB,CA4PG5O,SAAUxF,OAAOI,QAAUA,QAQ9B,SAAUoF,EAAUtE,GAClB,aAEAA,EAAEM,QAAO,EAAMN,EAAE4X,SAASnQ,SAAU,CAClCiS,OAAQ,CACN0gB,MACE,iOAMJA,MAAO,CACL5sB,IAAK,SAAStM,EAAUof,GACtB,OACIpf,EAASm5B,aAA+B,WAAd/Z,EAAK1b,MAAmC,SAAd0b,EAAK1b,OAAmB0b,EAAKyQ,SAAWzQ,EAAKhJ,MAAgBxY,OAAOgM,UAG9H8N,IACE,miDAsCN5Y,EAAEsE,GAAUvC,GAAG,QAAS,wBAAyB,WAC/C,IAEEyL,EACAoL,EArBgB0hB,EACdC,EAiBAr5B,EAAWlB,EAAE4X,SAASgI,cACxBlE,EAAUxa,EAASwa,SAAW,KAI3BA,IAIkC,aAAnC1b,EAAE4E,KAAK8W,EAAQxb,KAAKk6B,MAAM5sB,OAC5BA,EAAMkO,EAAQxb,KAAKk6B,MAAM5sB,IAAIlM,MAAMoa,EAAS,CAACxa,EAAUwa,KAGzD9C,EAAM8C,EAAQxb,KAAKk6B,MAAMxhB,IACtB1S,QAAQ,iBAAmC,UAAjBwV,EAAQ9W,KAAmB41B,mBAAmB9e,EAAQpE,KAAO,IACvFpR,QAAQ,eAAgBs0B,mBAAmBhtB,IAC3CtH,QAAQ,oBAlCOo0B,EAkCwB9sB,EAjCtC+sB,EAAY,CACdE,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SACLC,IAAK,SACLC,IAAK,UAGAC,OAAOX,GAAQp0B,QAAQ,eAAgB,SAAS4qB,GACrD,OAAOyJ,EAAUzJ,OAsBhB5qB,QAAQ,iBAAkBhF,EAASksB,SAAWoN,mBAAmBt5B,EAASksB,SAAS8N,QAAU,IAEhGl7B,EAAE4X,SAAS7J,KAAK,CACduJ,IAAKpW,EAASif,UAAUjf,EAAU0X,GAClChU,KAAM,OACN1E,KAAM,CACJ8Y,iBAAiB,EACjBkC,UAAW,SAASigB,EAAeC,GAEjCl6B,EAASkf,MAAMC,UAAUiI,IAAI,iBAAkB,WAC7C6S,EAActhB,MAAM,KAAM,KAI5BuhB,EAAaxV,SAASrF,KAAK,4BAA4B8a,MAAM,WAE3D,OADAv8B,OAAOiP,KAAK3N,KAAK2K,KAAM,QAAS,0BACzB,WA3FnB,CAiGGzG,SAAUxF,OAAOI,QAAUA,QAQ9B,SAAUoF,EAAUxF,EAAQkB,GAC1B,aA0BA,SAASs7B,IACP,IAAI7gB,EAAO3b,EAAOgM,SAAS2P,KAAK6X,OAAO,GACrChU,EAAM7D,EAAK6G,MAAM,KACjB3e,EAAqB,EAAb2b,EAAI1f,QAAc,WAAWgvB,KAAKtP,EAAIA,EAAI1f,OAAS,KAAMoM,SAASsT,EAAIid,KAAK,GAAI,KAAW,EAGpG,MAAO,CACL9gB,KAAMA,EAEN9X,MAAOA,EAAQ,EAAI,EAAIA,EACvB64B,QANUld,EAAI4b,KAAK,MAWvB,SAASuB,EAAejuB,GAGF,KAAhBA,EAAIguB,SAGAx7B,EAAE,mBAAqBA,EAAE07B,eAAeluB,EAAIguB,SAAW,MAC1D5M,GAAGphB,EAAI7K,MAAQ,GACfkG,QAAQ,kBAKf,SAAS8yB,EAAaz6B,GACpB,IAAIhB,EAAMipB,EAEV,QAAKjoB,IAOU,MAFfioB,GADAjpB,EAAOgB,EAASwa,QAAUxa,EAASwa,QAAQxb,KAAOgB,EAAShB,MAChDua,OAASva,EAAK6gB,MAAQ7gB,EAAK6gB,MAAM5f,KAAK,YAAc,MAEnCgoB,GA7DzBnpB,EAAE07B,iBACL17B,EAAE07B,eAAiB,SAASE,GAiB1B,OAAQA,EAAM,IAAI11B,QAhBD,+CACA,SAAS21B,EAAIC,GAC5B,OAAIA,EAES,OAAPD,EACK,IAIFA,EAAGn8B,MAAM,GAAI,GAAK,KAAOm8B,EAAGE,WAAWF,EAAGj9B,OAAS,GAAGo9B,SAAS,IAAM,IAIvE,KAAOH,MAkDpB77B,EAAE,YAEiC,IAA7BA,EAAE4X,SAASnQ,SAASgT,OAKxBza,EAAEsE,GAAUvC,GAAG,CACbs2B,YAAa,SAASrW,EAAG9gB,GACvB,IAAIsM,EAAKguB,GAE4C,IAAjDt6B,EAAS+d,MAAM/d,EAAS0d,WAAW1e,KAAKua,OAI5CjN,EAAM8tB,KACNE,EAAUG,EAAaz6B,KAGRsM,EAAIguB,SAAWA,GAAWhuB,EAAIguB,UAC3Ct6B,EAAS0d,UAAYpR,EAAI7K,MAAQ,KAIrC21B,gBAAiB,SAAStW,EAAG9gB,EAAUwa,EAASsD,GAC9C,IAAIwc,EAEC9f,IAAiC,IAAtBA,EAAQxb,KAAKua,OAK7B+gB,EAAUG,EAAaz6B,MAQvBA,EAASm5B,YAAcmB,GAAmC,EAAxBt6B,EAAS+d,MAAMrgB,OAAa,KAAO8c,EAAQ/Y,MAAQ,GAAK,IAGtF7D,EAAOgM,SAAS2P,OAAS,IAAMvZ,EAASm5B,cAIvCn5B,EAAS+6B,WACZ/6B,EAAS+6B,SAAWn9B,EAAOgM,SAAS2P,MAGlCvZ,EAASg7B,WACXz2B,aAAavE,EAASg7B,WAIxBh7B,EAASg7B,UAAYv2B,WAAW,WAC1B,iBAAkB7G,EAAO0K,SAC3B1K,EAAO0K,QAAQwV,EAAW,YAAc,gBACtC,GACA1a,EAAS8E,MACTtK,EAAOgM,SAASS,SAAWzM,EAAOgM,SAASqxB,OAAS,IAAMj7B,EAASm5B,aAGjErb,IACF9d,EAASk7B,mBAAoB,IAG/Bt9B,EAAOgM,SAAS2P,KAAOvZ,EAASm5B,YAGlCn5B,EAASg7B,UAAY,MACpB,QAGLzC,iBAAkB,SAASzX,EAAG9gB,EAAUwa,IAGZ,IAAtBA,EAAQxb,KAAKua,OAIPkhB,EAAaz6B,GAGnBA,EAASm5B,aAAen5B,EAASk7B,kBACnCt9B,EAAO0K,QAAQ6yB,OACNn7B,EAASm5B,cACd,iBAAkBv7B,EAAO0K,QAC3B1K,EAAO0K,QAAQ8yB,aAAa,GAAIh4B,EAAS8E,MAAOtK,EAAOgM,SAASS,SAAWzM,EAAOgM,SAASqxB,QAAUj7B,EAAS+6B,UAAY,KAE1Hn9B,EAAOgM,SAAS2P,KAAOvZ,EAAS+6B,UAIpC/6B,EAASm5B,YAAc,KAEvB50B,aAAavE,EAASg7B,eAK1Bl8B,EAAElB,GAAQiD,GAAG,gBAAiB,WAC5B,IACEw6B,EADE/uB,EAAM8tB,IAIVt7B,EAAEe,KACAf,EAAE,uBACCmnB,MACAqV,UACH,SAAS75B,EAAOtB,GACd,IAAIo7B,EAAMz8B,EAAEqB,GAAOF,KAAK,YAExB,GAAIs7B,EAAIpC,YAEN,OADAkC,EAAKE,GACE,IAKTF,GAEEA,EAAGlC,aAAekC,EAAGlC,cAAgB7sB,EAAIguB,QAAU,IAAMhuB,EAAI7K,OAAyB,IAAd6K,EAAI7K,OAAe45B,EAAGlC,aAAe7sB,EAAIguB,UACnHe,EAAGlC,YAAc,KAEjBkC,EAAG1iB,SAEoB,KAAhBrM,EAAIguB,SACbC,EAAejuB,KAKnB7H,WAAW,WACJ3F,EAAE4X,SAASgI,eACd6b,EAAeH,MAEhB,OA/MP,CAiNGh3B,SAAUxF,OAAQA,OAAOI,QAAUA,QAQtC,SAAUoF,EAAUtE,GAClB,aAEA,IAAI08B,GAAW,IAAIzwB,MAAOke,UAE1BnqB,EAAEsE,GAAUvC,GAAG,CACbs2B,YAAa,SAASrW,EAAG9gB,EAAUwa,GACjCxa,EAASkf,MAAMmC,MAAMxgB,GAAG,sDAAuD,SAASigB,GACtF,IAAItG,EAAUxa,EAASwa,QACrBihB,GAAW,IAAI1wB,MAAOke,UAEpBjpB,EAAS+d,MAAMrgB,OAAS,IAA4B,IAAvB8c,EAAQxb,KAAK8a,OAA2C,SAAvBU,EAAQxb,KAAK8a,OAAqC,UAAjBU,EAAQ9W,OAI3God,EAAE3O,iBACF2O,EAAEC,kBAEEvG,EAAQ0I,OAAO1B,SAAS,uBAI5BV,EAAIA,EAAEK,eAAiBL,EAEnB2a,EAAWD,EAAW,MAI1BA,EAAWC,EAEXz7B,IAAW8gB,EAAE4a,SAAW5a,EAAE6a,QAAU7a,EAAE8a,aAAe9a,EAAE+a,QAAU,EAAI,OAAS,sBA9BtF,CAkCGz4B,SAAUxF,OAAOI,QAAUA;CChgK7B,SAAUc,EAAGlB,EAAQwF,EAAU9C,GAS/B,SAASw7B,EAAI11B,EAASjH,GAMrBD,KAAKsY,SAAW,KAMhBtY,KAAKC,QAAUL,EAAEM,OAAO,GAAI08B,EAAIC,SAAU58B,GAM1CD,KAAKsH,SAAW1H,EAAEsH,GAMlBlH,KAAK88B,UAAY,GAMjB98B,KAAK+8B,SAAW,GAMhB/8B,KAAKg9B,SAAW,GAMhBh9B,KAAKi9B,SAAW,KAMhBj9B,KAAKk9B,OAAS,KAOdl9B,KAAKm9B,aAAe,GAOpBn9B,KAAKo9B,YAAc,KAKnBp9B,KAAKq9B,OAAS,KAMdr9B,KAAKs9B,OAAS,GAMdt9B,KAAKu9B,QAAU,GAOfv9B,KAAKw9B,SAAW,GAKhBx9B,KAAKy9B,QAAU,GAMfz9B,KAAK09B,aAAe,GAMpB19B,KAAK29B,MAAQ,GAOb39B,KAAK49B,MAAQ,CACZC,KAAM,KACNxb,OAAQ,KACRyb,QAAS,KACT3b,MAAO,CACNqJ,MAAO,KACPlQ,QAAS,MAEVyiB,UAAW,MAQZ/9B,KAAKg+B,QAAU,CACd1iB,QAAS,GACT2iB,KAAM,CACLC,aAAgB,CAAE,QAClBC,UAAa,CAAE,QACfC,SAAY,CAAE,iBAIhBx+B,EAAEe,KAAK,CAAE,WAAY,qBAAuBf,EAAEgzB,MAAM,SAAShyB,EAAGy9B,GAC/Dr+B,KAAK88B,UAAUuB,GAAWz+B,EAAEgzB,MAAM5yB,KAAKq+B,GAAUr+B,OAC/CA,OAEHJ,EAAEe,KAAKi8B,EAAI0B,QAAS1+B,EAAEgzB,MAAM,SAASzU,EAAKogB,GACzCv+B,KAAK+8B,SAAS5e,EAAInd,OAAO,GAAGkF,cAAgBiY,EAAI7e,MAAM,IACnD,IAAIi/B,EAAOv+B,OACZA,OAEHJ,EAAEe,KAAKi8B,EAAI4B,QAAS5+B,EAAEgzB,MAAM,SAAS6L,EAAUC,GAC9C1+B,KAAK29B,MAAMz7B,KAAK,CACfkf,OAAUsd,EAAOtd,OACjBud,IAAO/+B,EAAEgzB,MAAM8L,EAAOC,IAAK3+B,SAE1BA,OAEHA,KAAK4+B,QACL5+B,KAAK6+B,aAONjC,EAAIC,SAAW,CACd3zB,MAAO,EACPuO,MAAM,EACNqnB,QAAQ,EACRC,QAAQ,EACRC,iBAAiB,EAEjBC,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,UAAU,EAEV9Y,OAAQ,EACR+Y,aAAc,EAEdC,OAAO,EACPC,UAAU,EACVC,WAAW,EAEXC,cAAe,EACfC,KAAK,EAELC,WAAY,IACZC,YAAY,EACZC,cAAc,EAEdC,WAAY,GACZC,sBAAuB,IACvBC,sBAAuBthC,EAEvBuhC,eAAgB,QAChBC,gBAAiB,GAEjB5oB,MAAM,EAEN6oB,oBAAoB,EACpBC,YAAa,MACbC,aAAc,MAEdC,aAAc,cACdC,YAAa,aACbC,aAAc,cACdC,SAAU,UACVC,gBAAiB,iBACjBC,UAAW,WACXC,UAAW,WACXC,WAAY,YACZC,gBAAiB,kBACjBC,UAAW,YASZnE,EAAIoE,MAAQ,CACXC,QAAS,UACTC,MAAO,QACPC,MAAO,SASRvE,EAAIwE,KAAO,CACV54B,MAAO,QACP64B,MAAO,SAORzE,EAAI0B,QAAU,GAKd1B,EAAI4B,QAAU,CAAE,CACfpd,OAAQ,CAAE,QAAS,YACnBud,IAAK,WACJ3+B,KAAKq9B,OAASr9B,KAAKsH,SAASqd,UAE3B,CACFvD,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,SAAS2C,GACbA,EAAMhmB,QAAUtb,KAAKs9B,QAAUt9B,KAAKs9B,OAAOt9B,KAAKuhC,SAASvhC,KAAKi9B,aAE7D,CACF7b,OAAQ,CAAE,QAAS,YACnBud,IAAK,WACJ3+B,KAAK2yB,OAAOrd,SAAS,WAAWwK,WAE/B,CACFsB,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,SAAS2C,GACb,IAAIhb,EAAStmB,KAAKsY,SAASgO,QAAU,GACpCkb,GAAQxhC,KAAKsY,SAASknB,UACtBE,EAAM1/B,KAAKsY,SAASonB,IACpBjnB,EAAM,CACLkM,MAAS,OACT8c,cAAe/B,EAAMpZ,EAAS,GAC9Bob,eAAgBhC,EAAM,GAAKpZ,IAG5Bkb,GAAQxhC,KAAK2yB,OAAOrd,WAAWmD,IAAIA,GAEpC6oB,EAAM7oB,IAAMA,IAEX,CACF2I,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,SAAS2C,GACb,IAAI3c,GAAS3kB,KAAK2kB,QAAU3kB,KAAKsY,SAASpP,OAAOy4B,QAAQ,GAAK3hC,KAAKsY,SAASgO,OAC3EgZ,EAAQ,KACRsC,EAAW5hC,KAAKs9B,OAAO9+B,OACvBgjC,GAAQxhC,KAAKsY,SAASknB,UACtBqC,EAAS,GAOV,IALAP,EAAMp4B,MAAQ,CACbo2B,OAAO,EACP3a,MAAOA,GAGDid,KACNtC,EAAQt/B,KAAKw9B,SAASoE,GACtBtC,EAAQt/B,KAAKsY,SAASinB,UAAY9a,KAAKiC,IAAI4Y,EAAOt/B,KAAKsY,SAASpP,QAAUo2B,EAE1EgC,EAAMp4B,MAAMo2B,MAAgB,EAARA,GAAagC,EAAMp4B,MAAMo2B,MAE7CuC,EAAOD,GAAaJ,EAAuC7c,EAAQ2a,EAAxCt/B,KAAKs9B,OAAOsE,GAAUjd,QAGlD3kB,KAAKy9B,QAAUoE,IAEd,CACFzgB,OAAQ,CAAE,QAAS,YACnBud,IAAK,WACJ,IAAImD,EAAS,GACZ54B,EAAQlJ,KAAKs9B,OACbhlB,EAAWtY,KAAKsY,SAEhBypB,EAAOtd,KAAKiF,IAAqB,EAAjBpR,EAASpP,MAAW,GACpC84B,EAAqC,EAA9Bvd,KAAK6F,KAAKphB,EAAM1K,OAAS,GAChCyjC,EAAS3pB,EAASb,MAAQvO,EAAM1K,OAAS8Z,EAASymB,OAASgD,EAAOtd,KAAKiF,IAAIqY,EAAMC,GAAQ,EACzF/4B,EAAS,GACTi5B,EAAU,GAIX,IAFAD,GAAU,EAEM,EAATA,GAENH,EAAO5/B,KAAKlC,KAAKmiC,UAAUL,EAAOtjC,OAAS,GAAG,IAC9CyK,GAAkBC,EAAM44B,EAAOA,EAAOtjC,OAAS,IAAI,GAAG4jC,UACtDN,EAAO5/B,KAAKlC,KAAKmiC,UAAUj5B,EAAM1K,OAAS,GAAKsjC,EAAOtjC,OAAS,GAAK,GAAG,IACvE0jC,EAAUh5B,EAAM44B,EAAOA,EAAOtjC,OAAS,IAAI,GAAG4jC,UAAYF,EAC1DD,GAAU,EAGXjiC,KAAKu9B,QAAUuE,EAEfliC,EAAEqJ,GAAQyW,SAAS,UAAUC,SAAS3f,KAAK2yB,QAC3C/yB,EAAEsiC,GAASxiB,SAAS,UAAU2L,UAAUrrB,KAAK2yB,UAE5C,CACFvR,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,WAQJ,IAPA,IAAIe,EAAM1/B,KAAKsY,SAASonB,IAAM,GAAK,EAClCsC,EAAOhiC,KAAKu9B,QAAQ/+B,OAASwB,KAAKs9B,OAAO9+B,OACzCojC,GAAY,EACZ9f,EAAW,EACXxG,EAAU,EACV+mB,EAAc,KAENT,EAAWI,GACnBlgB,EAAWugB,EAAYT,EAAW,IAAM,EACxCtmB,EAAUtb,KAAKy9B,QAAQz9B,KAAKuhC,SAASK,IAAa5hC,KAAKsY,SAASgO,OAChE+b,EAAYngC,KAAK4f,EAAWxG,EAAUokB,GAGvC1/B,KAAKm9B,aAAekF,IAEnB,CACFjhB,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,WACJ,IAAI2D,EAAUtiC,KAAKsY,SAAS+mB,aAC3BgD,EAAcriC,KAAKm9B,aACnB1kB,EAAM,CACLkM,MAASF,KAAK6F,KAAK7F,KAAK+C,IAAI6a,EAAYA,EAAY7jC,OAAS,KAAiB,EAAV8jC,EACpEC,eAAgBD,GAAW,GAC3BE,gBAAiBF,GAAW,IAG9BtiC,KAAK2yB,OAAOla,IAAIA,KAEf,CACF2I,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,SAAS2C,GACb,IAAIM,EAAW5hC,KAAKm9B,aAAa3+B,OAChCgjC,GAAQxhC,KAAKsY,SAASknB,UACtBt2B,EAAQlJ,KAAK2yB,OAAOrd,WAErB,GAAIksB,GAAQF,EAAMp4B,MAAMo2B,MACvB,KAAOsC,KACNN,EAAM7oB,IAAIkM,MAAQ3kB,KAAKy9B,QAAQz9B,KAAKuhC,SAASK,IAC7C14B,EAAMslB,GAAGoT,GAAUnpB,IAAI6oB,EAAM7oB,UAEpB+oB,IACVF,EAAM7oB,IAAIkM,MAAQ2c,EAAMp4B,MAAMyb,MAC9Bzb,EAAMuP,IAAI6oB,EAAM7oB,QAGhB,CACF2I,OAAQ,CAAE,SACVud,IAAK,WACJ3+B,KAAKm9B,aAAa3+B,OAAS,GAAKwB,KAAK2yB,OAAO9N,WAAW,WAEtD,CACFzD,OAAQ,CAAE,QAAS,QAAS,YAC5Bud,IAAK,SAAS2C,GACbA,EAAMhmB,QAAUgmB,EAAMhmB,QAAUtb,KAAK2yB,OAAOrd,WAAW/S,MAAM++B,EAAMhmB,SAAW,EAC9EgmB,EAAMhmB,QAAUmJ,KAAKiF,IAAI1pB,KAAKyiC,UAAWhe,KAAKiC,IAAI1mB,KAAK0iC,UAAWpB,EAAMhmB,UACxEtb,KAAKm3B,MAAMmK,EAAMhmB,WAEhB,CACF8F,OAAQ,CAAE,YACVud,IAAK,WACJ3+B,KAAK4kB,QAAQ5kB,KAAKqiC,YAAYriC,KAAKi9B,aAElC,CACF7b,OAAQ,CAAE,QAAS,WAAY,QAAS,YACxCud,IAAK,WACJ,IAICgE,EAAOC,EAAqBhiC,EAAG2f,EAJ5Bmf,EAAM1/B,KAAKsY,SAASonB,IAAM,GAAK,EAClC4C,EAAuC,EAA7BtiC,KAAKsY,SAAS+mB,aACxBwD,EAAQ7iC,KAAKqiC,YAAYriC,KAAKsb,WAAagnB,EAC3Crc,EAAM4c,EAAQ7iC,KAAK2kB,QAAU+a,EACf18B,EAAU,GAEzB,IAAKpC,EAAI,EAAG2f,EAAIvgB,KAAKm9B,aAAa3+B,OAAQoC,EAAI2f,EAAG3f,IAChD+hC,EAAQ3iC,KAAKm9B,aAAav8B,EAAI,IAAM,EACpCgiC,EAAQne,KAAK+C,IAAIxnB,KAAKm9B,aAAav8B,IAAM0hC,EAAU5C,GAE9C1/B,KAAK8iC,GAAGH,EAAO,KAAME,IAAW7iC,KAAK8iC,GAAGH,EAAO,IAAK1c,IACpDjmB,KAAK8iC,GAAGF,EAAO,IAAKC,IAAU7iC,KAAK8iC,GAAGF,EAAO,IAAK3c,KACtDjjB,EAAQd,KAAKtB,GAIfZ,KAAK2yB,OAAOrd,SAAS,WAAW+O,YAAY,UAC5CrkB,KAAK2yB,OAAOrd,SAAS,OAAStS,EAAQ82B,KAAK,WAAa,KAAKpa,SAAS,UAEtE1f,KAAK2yB,OAAOrd,SAAS,WAAW+O,YAAY,UACxCrkB,KAAKsY,SAASwmB,QACjB9+B,KAAK2yB,OAAOrd,WAAWkZ,GAAGxuB,KAAKsb,WAAWoE,SAAS,aAQtDkd,EAAIv9B,UAAU0jC,gBAAkB,WAC/B/iC,KAAK2yB,OAAS3yB,KAAKsH,SAAS6Y,KAAK,IAAMngB,KAAKsY,SAASuoB,YAGjD7gC,KAAK2yB,OAAOn0B,SAIhBwB,KAAKsH,SAASoY,SAAS1f,KAAKC,QAAQugC,cAGpCxgC,KAAK2yB,OAAS/yB,EAAE,IAAMI,KAAKsY,SAAS+nB,aAAe,IAAK,CACvD2C,MAAShjC,KAAKsY,SAASuoB,aACrB3V,KAAMtrB,EAAG,SAAU,CACrBojC,MAAShjC,KAAKsY,SAASwoB,mBAIxB9gC,KAAKsH,SAAS2B,OAAOjJ,KAAK2yB,OAAO/H,YAMlCgS,EAAIv9B,UAAU4jC,gBAAkB,WAC/B,IAAIC,EAASljC,KAAKsH,SAAS6Y,KAAK,aAGhC,GAAI+iB,EAAO1kC,OAWV,OAVAwB,KAAKs9B,OAAS4F,EAAOnc,MAAM+B,IAAI,SAAS5I,GACvC,OAAOtgB,EAAEsgB,KAGVlgB,KAAKw9B,SAAWx9B,KAAKs9B,OAAOxU,IAAI,WAC/B,OAAO,SAGR9oB,KAAKmjC,UAMNnjC,KAAK8F,QAAQ9F,KAAKsH,SAASgO,WAAW8tB,IAAIpjC,KAAK2yB,OAAO/H,WAGlD5qB,KAAKysB,YAERzsB,KAAKmjC,UAGLnjC,KAAKqjC,WAAW,SAGjBrjC,KAAKsH,SACH+c,YAAYrkB,KAAKC,QAAQugC,cACzB9gB,SAAS1f,KAAKC,QAAQsgC,cAOzB3D,EAAIv9B,UAAUw/B,WAAa,WAOzB,IAAIyE,EAAMC,EAAgB5e,GAN3B3kB,KAAKwjC,MAAM,gBACXxjC,KAAKyI,QAAQ,cAEbzI,KAAKsH,SAASwf,YAAY9mB,KAAKsY,SAASmoB,SAAUzgC,KAAKsY,SAASonB,KAE5D1/B,KAAKsY,SAASknB,YAAcx/B,KAAKuiB,GAAG,kBAEvC+gB,EAAOtjC,KAAKsH,SAAS6Y,KAAK,OAC1BojB,EAAiBvjC,KAAKsY,SAAS6nB,mBAAqB,IAAMngC,KAAKsY,SAAS6nB,mBAAqB/+B,EAC7FujB,EAAQ3kB,KAAKsH,SAASgO,SAASiuB,GAAgB5e,QAE3C2e,EAAK9kC,QAAUmmB,GAAS,GAC3B3kB,KAAKyjC,uBAAuBH,IAI9BtjC,KAAK+iC,kBACL/iC,KAAKijC,kBAGLjjC,KAAK0jC,wBAEL1jC,KAAK2jC,MAAM,gBACX3jC,KAAKyI,QAAQ,gBAQdm0B,EAAIv9B,UAAUotB,UAAY,WACzB,OAAOzsB,KAAKsY,SAAS0mB,iBAClBh/B,KAAKsH,SAASib,GAAG,aAUrBqa,EAAIv9B,UAAUu/B,MAAQ,WACrB,IAAIgF,EAAW5jC,KAAK4jC,WACnBC,EAAa7jC,KAAKC,QAAQ6/B,WAC1B/5B,GAAS,EACTuS,EAAW,KAEPurB,GAGJjkC,EAAEe,KAAKkjC,EAAY,SAASC,GACvBA,GAAcF,GAAyB79B,EAAb+9B,IAC7B/9B,EAAQg+B,OAAOD,MAKoB,mBADrCxrB,EAAW1Y,EAAEM,OAAO,GAAIF,KAAKC,QAAS4jC,EAAW99B,KAC7Bs5B,eACnB/mB,EAAS+mB,aAAe/mB,EAAS+mB,uBAE3B/mB,EAASwnB,WAGZxnB,EAASooB,iBACZ1gC,KAAKsH,SAASX,KAAK,QAClB3G,KAAKsH,SAASX,KAAK,SAASb,QAAQ,IAAI2E,OAAO,IAAMzK,KAAKC,QAAQygC,gBAAkB,YAAa,KAAM,KAAO36B,KAjBhHuS,EAAW1Y,EAAEM,OAAO,GAAIF,KAAKC,SAsB9BD,KAAKyI,QAAQ,SAAU,CAAEu7B,SAAU,CAAEv3B,KAAM,WAAYxL,MAAOqX,KAC9DtY,KAAKo9B,YAAcr3B,EACnB/F,KAAKsY,SAAWA,EAChBtY,KAAKqjC,WAAW,YAChBrjC,KAAKyI,QAAQ,UAAW,CAAEu7B,SAAU,CAAEv3B,KAAM,WAAYxL,MAAOjB,KAAKsY,aAOrEskB,EAAIv9B,UAAU4kC,aAAe,WACxBjkC,KAAKsY,SAASknB,YACjBx/B,KAAKsY,SAAS+mB,cAAe,EAC7Br/B,KAAKsY,SAASgnB,OAAQ,IAUxB1C,EAAIv9B,UAAU6kC,QAAU,SAAShkB,GAChC,IAAI3b,EAAQvE,KAAKyI,QAAQ,UAAW,CAAE4V,QAAS6B,IAS/C,OAPK3b,EAAMxD,OACVwD,EAAMxD,KAAOnB,EAAE,IAAMI,KAAKsY,SAAS8nB,YAAc,MAC/C1gB,SAAS1f,KAAKC,QAAQ2gC,WAAW33B,OAAOiX,IAG3ClgB,KAAKyI,QAAQ,WAAY,CAAE4V,QAAS9Z,EAAMxD,OAEnCwD,EAAMxD,MAOd67B,EAAIv9B,UAAU6iB,OAAS,WAMtB,IALA,IAAIthB,EAAI,EACP2f,EAAIvgB,KAAK29B,MAAMn/B,OACf4iB,EAASxhB,EAAEgzB,MAAM,SAASrC,GAAK,OAAOvwB,KAAKuwB,IAAMvwB,KAAK09B,cACtD4D,EAAQ,GAEF1gC,EAAI2f,IACNvgB,KAAK09B,aAAarQ,KAAqD,EAA9CztB,EAAEukC,KAAKnkC,KAAK29B,MAAM/8B,GAAGwgB,OAAQA,GAAQ5iB,SACjEwB,KAAK29B,MAAM/8B,GAAG+9B,IAAI2C,GAEnB1gC,IAGDZ,KAAK09B,aAAe,IAEnB19B,KAAKuiB,GAAG,UAAYviB,KAAKwjC,MAAM,UASjC5G,EAAIv9B,UAAUslB,MAAQ,SAASyf,GAE9B,OADAA,EAAYA,GAAaxH,EAAIoE,MAAMC,SAElC,KAAKrE,EAAIoE,MAAME,MACf,KAAKtE,EAAIoE,MAAMG,MACd,OAAOnhC,KAAKq9B,OACb,QACC,OAAOr9B,KAAKq9B,OAAsC,EAA7Br9B,KAAKsY,SAAS+mB,aAAmBr/B,KAAKsY,SAASgO,SAQvEsW,EAAIv9B,UAAU8jC,QAAU,WACvBnjC,KAAKwjC,MAAM,cACXxjC,KAAKyI,QAAQ,WAEbzI,KAAK4+B,QAEL5+B,KAAKikC,eAELjkC,KAAKsH,SAASoY,SAAS1f,KAAKC,QAAQqgC,cAEpCtgC,KAAKkiB,SAELliB,KAAKsH,SAAS+c,YAAYrkB,KAAKC,QAAQqgC,cAEvCtgC,KAAK2jC,MAAM,cACX3jC,KAAKyI,QAAQ,cAOdm0B,EAAIv9B,UAAUglC,kBAAoB,WACjC3lC,EAAO2G,aAAarF,KAAKskC,aACzBtkC,KAAKskC,YAAc5lC,EAAO6G,WAAWvF,KAAK88B,UAAU/sB,SAAU/P,KAAKsY,SAASynB,wBAO7EnD,EAAIv9B,UAAU0Q,SAAW,WACxB,QAAK/P,KAAKs9B,OAAO9+B,SAIbwB,KAAKq9B,SAAWr9B,KAAKsH,SAASqd,YAI7B3kB,KAAKysB,cAIVzsB,KAAKwjC,MAAM,YAEPxjC,KAAKyI,QAAQ,UAAUgmB,sBAC1BzuB,KAAK2jC,MAAM,aACJ,IAGR3jC,KAAKqjC,WAAW,SAEhBrjC,KAAKmjC,UAELnjC,KAAK2jC,MAAM,iBACX3jC,KAAKyI,QAAQ,gBASdm0B,EAAIv9B,UAAUqkC,sBAAwB,WACjC9jC,EAAE2kC,QAAQ/mB,YACbxd,KAAK2yB,OAAOhxB,GAAG/B,EAAE2kC,QAAQ/mB,WAAWyI,IAAM,YAAarmB,EAAEgzB,MAAM5yB,KAAKwkC,gBAAiBxkC,QAGrD,IAA7BA,KAAKsY,SAASwnB,YACjB9/B,KAAK2B,GAAGjD,EAAQ,SAAUsB,KAAK88B,UAAUuH,mBAGtCrkC,KAAKsY,SAAS2mB,YACjBj/B,KAAKsH,SAASoY,SAAS1f,KAAKC,QAAQ0gC,WACpC3gC,KAAK2yB,OAAOhxB,GAAG,qBAAsB/B,EAAEgzB,MAAM5yB,KAAKykC,YAAazkC,OAC/DA,KAAK2yB,OAAOhxB,GAAG,0CAA2C,WAAa,OAAO,KAG3E3B,KAAKsY,SAAS4mB,YACjBl/B,KAAK2yB,OAAOhxB,GAAG,sBAAuB/B,EAAEgzB,MAAM5yB,KAAKykC,YAAazkC,OAChEA,KAAK2yB,OAAOhxB,GAAG,uBAAwB/B,EAAEgzB,MAAM5yB,KAAK0kC,UAAW1kC,SAWjE48B,EAAIv9B,UAAUolC,YAAc,SAASlgC,GACpC,IAAI4d,EAAQ,KAEQ,IAAhB5d,EAAMoe,QAIN/iB,EAAE2kC,QAAQvW,UAEb7L,EAAQ,CACP8C,GAFD9C,EAAQniB,KAAK2yB,OAAOla,IAAI,aAAa3S,QAAQ,aAAc,IAAIob,MAAM,MAE1C,KAAjBiB,EAAM3jB,OAAgB,GAAK,GACpC0mB,EAAG/C,EAAuB,KAAjBA,EAAM3jB,OAAgB,GAAK,KAGrC2jB,EAAQniB,KAAK2yB,OAAO5E,WACpB5L,EAAQ,CACP8C,EAAGjlB,KAAKsY,SAASonB,IAChBvd,EAAM+B,KAAOlkB,KAAK2yB,OAAOhO,QAAU3kB,KAAK2kB,QAAU3kB,KAAKsY,SAASgO,OAChEnE,EAAM+B,KACPgB,EAAG/C,EAAMtY,MAIP7J,KAAKuiB,GAAG,eACX3iB,EAAE2kC,QAAQvW,UAAYhuB,KAAK4kB,QAAQzC,EAAM8C,GAAKjlB,KAAK2yB,OAAOnO,OAC1DxkB,KAAKqjC,WAAW,aAGjBrjC,KAAKsH,SAASwf,YAAY9mB,KAAKC,QAAQ8gC,UAA0B,cAAfx8B,EAAMC,MAExDxE,KAAKwa,MAAM,GAEXxa,KAAK49B,MAAMC,MAAO,IAAIhyB,MAAOke,UAC7B/pB,KAAK49B,MAAMvb,OAASziB,EAAE2E,EAAM8d,QAC5BriB,KAAK49B,MAAMzb,MAAMqJ,MAAQrJ,EACzBniB,KAAK49B,MAAMzb,MAAM7G,QAAU6G,EAC3BniB,KAAK49B,MAAME,QAAU99B,KAAK89B,QAAQv5B,GAElC3E,EAAEsE,GAAUvC,GAAG,qCAAsC/B,EAAEgzB,MAAM5yB,KAAK0kC,UAAW1kC,OAE7EJ,EAAEsE,GAAUgkB,IAAI,wCAAyCtoB,EAAEgzB,MAAM,SAASruB,GACzE,IAAIogC,EAAQ3kC,KAAK4kC,WAAW5kC,KAAK49B,MAAME,QAAS99B,KAAK89B,QAAQv5B,IAE7D3E,EAAEsE,GAAUvC,GAAG,wCAAyC/B,EAAEgzB,MAAM5yB,KAAK6kC,WAAY7kC,OAE7EykB,KAAK+C,IAAImd,EAAM1f,GAAKR,KAAK+C,IAAImd,EAAMzf,IAAMllB,KAAKuiB,GAAG,WAIrDhe,EAAM0O,iBAENjT,KAAKwjC,MAAM,YACXxjC,KAAKyI,QAAQ,UACXzI,SASJ48B,EAAIv9B,UAAUwlC,WAAa,SAAStgC,GACnC,IAAIk+B,EAAU,KACbC,EAAU,KACVoC,EAAO,KACPH,EAAQ3kC,KAAK4kC,WAAW5kC,KAAK49B,MAAME,QAAS99B,KAAK89B,QAAQv5B,IACzD4d,EAAQniB,KAAK4kC,WAAW5kC,KAAK49B,MAAMzb,MAAMqJ,MAAOmZ,GAE5C3kC,KAAKuiB,GAAG,cAIbhe,EAAM0O,iBAEFjT,KAAKsY,SAASb,MACjBgrB,EAAUziC,KAAKqiC,YAAYriC,KAAKyiC,WAChCC,EAAU1iC,KAAKqiC,YAAYriC,KAAK0iC,UAAY,GAAKD,EACjDtgB,EAAM8C,IAAO9C,EAAM8C,EAAIwd,GAAWC,EAAUA,GAAWA,EAAWD,IAElEA,EAAUziC,KAAKsY,SAASonB,IAAM1/B,KAAKqiC,YAAYriC,KAAK0iC,WAAa1iC,KAAKqiC,YAAYriC,KAAKyiC,WACvFC,EAAU1iC,KAAKsY,SAASonB,IAAM1/B,KAAKqiC,YAAYriC,KAAKyiC,WAAaziC,KAAKqiC,YAAYriC,KAAK0iC,WACvFoC,EAAO9kC,KAAKsY,SAAS6mB,UAAY,EAAIwF,EAAM1f,EAAI,EAAI,EACnD9C,EAAM8C,EAAIR,KAAKiF,IAAIjF,KAAKiC,IAAIvE,EAAM8C,EAAGwd,EAAUqC,GAAOpC,EAAUoC,IAGjE9kC,KAAK49B,MAAMzb,MAAM7G,QAAU6G,EAE3BniB,KAAK4kB,QAAQzC,EAAM8C,KAUpB2X,EAAIv9B,UAAUqlC,UAAY,SAASngC,GAClC,IAAIogC,EAAQ3kC,KAAK4kC,WAAW5kC,KAAK49B,MAAME,QAAS99B,KAAK89B,QAAQv5B,IAC5D4d,EAAQniB,KAAK49B,MAAMzb,MAAM7G,QACzByiB,EAAsB,EAAV4G,EAAM1f,EAAQjlB,KAAKsY,SAASonB,IAAM,OAAS,QAExD9/B,EAAEsE,GAAU5B,IAAI,aAEhBtC,KAAKsH,SAAS+c,YAAYrkB,KAAKC,QAAQ8gC,YAEvB,IAAZ4D,EAAM1f,GAAWjlB,KAAKuiB,GAAG,cAAgBviB,KAAKuiB,GAAG,YACpDviB,KAAKwa,MAAMxa,KAAKsY,SAASunB,cAAgB7/B,KAAKsY,SAASqnB,YACvD3/B,KAAKsb,QAAQtb,KAAK+kC,QAAQ5iB,EAAM8C,EAAe,IAAZ0f,EAAM1f,EAAU8Y,EAAY/9B,KAAK49B,MAAMG,YAC1E/9B,KAAKqjC,WAAW,YAChBrjC,KAAKkiB,SAELliB,KAAK49B,MAAMG,UAAYA,GAEC,EAApBtZ,KAAK+C,IAAImd,EAAM1f,IAAmD,KAAzC,IAAIpZ,MAAOke,UAAY/pB,KAAK49B,MAAMC,OAC9D79B,KAAK49B,MAAMvb,OAAO6F,IAAI,iBAAkB,WAAa,OAAO,KAIzDloB,KAAKuiB,GAAG,cAIbviB,KAAK2jC,MAAM,YACX3jC,KAAKyI,QAAQ,aAWdm0B,EAAIv9B,UAAU0lC,QAAU,SAASC,EAAYjH,GAC5C,IAAIhQ,GAAY,EAEfpJ,EAAQ3kB,KAAK2kB,QACb0d,EAAcriC,KAAKqiC,cA6BpB,OA3BKriC,KAAKsY,SAAS8mB,UAElBx/B,EAAEe,KAAK0hC,EAAaziC,EAAEgzB,MAAM,SAASrwB,EAAOtB,GAY3C,MAVkB,SAAd88B,GAAqC98B,EARnC,GAQsB+jC,GAA6BA,EAAa/jC,EARhE,GASL8sB,EAAWxrB,EAGa,UAAdw7B,GAAsC98B,EAAQ0jB,EAZnD,GAY8BqgB,GAAqCA,EAAa/jC,EAAQ0jB,EAZxF,GAaLoJ,EAAWxrB,EAAQ,EACTvC,KAAK8iC,GAAGkC,EAAY,IAAK/jC,IAChCjB,KAAK8iC,GAAGkC,EAAY,IAAK3C,EAAY9/B,EAAQ,KAAOnB,EAAYihC,EAAY9/B,EAAQ,GAAKtB,EAAQ0jB,KACpGoJ,EAAyB,SAAdgQ,EAAuBx7B,EAAQ,EAAIA,IAE1B,IAAdwrB,GACL/tB,OAGCA,KAAKsY,SAASb,OAEdzX,KAAK8iC,GAAGkC,EAAY,IAAK3C,EAAYriC,KAAKyiC,YAC7C1U,EAAWiX,EAAahlC,KAAKyiC,UACnBziC,KAAK8iC,GAAGkC,EAAY,IAAK3C,EAAYriC,KAAK0iC,cACpD3U,EAAWiX,EAAahlC,KAAK0iC,YAIxB3U,GASR6O,EAAIv9B,UAAUulB,QAAU,SAASogB,GAChC,IAAIpgB,EAAyB,EAAf5kB,KAAKwa,QAEnBxa,KAAKuiB,GAAG,cAAgBviB,KAAKwkC,kBAEzB5f,IACH5kB,KAAKwjC,MAAM,aACXxjC,KAAKyI,QAAQ,cAGV7I,EAAE2kC,QAAQU,aAAerlC,EAAE2kC,QAAQ/mB,WACtCxd,KAAK2yB,OAAOla,IAAI,CACfuV,UAAW,eAAiBgX,EAAa,cACzCxnB,WAAaxd,KAAKwa,QAAU,IAAQ,KACnCxa,KAAKsY,SAAS4nB,gBAAkB,IAAMlgC,KAAKsY,SAAS4nB,gBAAkB,MAG9Dtb,EACV5kB,KAAK2yB,OAAO/N,QAAQ,CACnBV,KAAM8gB,EAAa,MACjBhlC,KAAKwa,QAASxa,KAAKsY,SAAS2nB,eAAgBrgC,EAAEgzB,MAAM5yB,KAAKwkC,gBAAiBxkC,OAE7EA,KAAK2yB,OAAOla,IAAI,CACfyL,KAAM8gB,EAAa,QAUtBpI,EAAIv9B,UAAUkjB,GAAK,SAAS2iB,GAC3B,OAAOllC,KAAKg+B,QAAQ1iB,QAAQ4pB,IAAwC,EAA9BllC,KAAKg+B,QAAQ1iB,QAAQ4pB,IAS5DtI,EAAIv9B,UAAUic,QAAU,SAASyS,GAChC,GAAIA,IAAa3sB,EAChB,OAAOpB,KAAKi9B,SAGb,GAA2B,IAAvBj9B,KAAKs9B,OAAO9+B,OACf,OAAO4C,EAKR,GAFA2sB,EAAW/tB,KAAKmiC,UAAUpU,GAEtB/tB,KAAKi9B,WAAalP,EAAU,CAC/B,IAAIxpB,EAAQvE,KAAKyI,QAAQ,SAAU,CAAEu7B,SAAU,CAAEv3B,KAAM,WAAYxL,MAAO8sB,KAEtExpB,EAAMxD,OAASK,IAClB2sB,EAAW/tB,KAAKmiC,UAAU59B,EAAMxD,OAGjCf,KAAKi9B,SAAWlP,EAEhB/tB,KAAKqjC,WAAW,YAEhBrjC,KAAKyI,QAAQ,UAAW,CAAEu7B,SAAU,CAAEv3B,KAAM,WAAYxL,MAAOjB,KAAKi9B,YAGrE,OAAOj9B,KAAKi9B,UAQbL,EAAIv9B,UAAUgkC,WAAa,SAAS8B,GAKnC,MAJqB,WAAjBvlC,EAAE4E,KAAK2gC,KACVnlC,KAAK09B,aAAayH,IAAQ,EAC1BnlC,KAAKuiB,GAAG,UAAYviB,KAAK2jC,MAAM,UAEzB/jC,EAAEkpB,IAAI9oB,KAAK09B,aAAc,SAAS0H,EAAGxkC,GAAK,OAAOA,KAQzDg8B,EAAIv9B,UAAU83B,MAAQ,SAASpJ,IAC9BA,EAAW/tB,KAAKmiC,UAAUpU,MAET3sB,IAIjBpB,KAAKk9B,OAAS,EACdl9B,KAAKi9B,SAAWlP,EAEhB/tB,KAAKqlC,SAAS,CAAE,YAAa,eAE7BrlC,KAAK4kB,QAAQ5kB,KAAKqiC,YAAYtU,IAE9B/tB,KAAKslC,QAAQ,CAAE,YAAa,iBAU7B1I,EAAIv9B,UAAU8iC,UAAY,SAASpU,EAAUwT,GAC5C,IAAIhhB,EAAIvgB,KAAKs9B,OAAO9+B,OACnB8xB,EAAIiR,EAAW,EAAIvhC,KAAKu9B,QAAQ/+B,OAQjC,OANKwB,KAAKokB,UAAU2J,IAAaxN,EAAI,EACpCwN,EAAW3sB,GACD2sB,EAAW,GAAiBxN,EAAI+P,GAAhBvC,KAC1BA,IAAaA,EAAWuC,EAAI,GAAK/P,EAAIA,GAAKA,EAAI+P,EAAI,GAG5CvC,GASR6O,EAAIv9B,UAAUkiC,SAAW,SAASxT,GAEjC,OADAA,GAAY/tB,KAAKu9B,QAAQ/+B,OAAS,EAC3BwB,KAAKmiC,UAAUpU,GAAU,IASjC6O,EAAIv9B,UAAUqjC,QAAU,SAASnB,GAChC,IAECK,EACA2D,EACAC,EAJGltB,EAAWtY,KAAKsY,SACnBoqB,EAAU1iC,KAAKm9B,aAAa3+B,OAK7B,GAAI8Z,EAASb,KACZirB,EAAU1iC,KAAKu9B,QAAQ/+B,OAAS,EAAIwB,KAAKs9B,OAAO9+B,OAAS,OACnD,GAAI8Z,EAASknB,WAAalnB,EAASgnB,MAAO,CAEhD,GADAsC,EAAW5hC,KAAKs9B,OAAO9+B,OAItB,IAFA+mC,EAAuBvlC,KAAKs9B,SAASsE,GAAUjd,QAC/C6gB,EAAexlC,KAAKsH,SAASqd,QACtBid,OAEqB4D,GAD3BD,GAAwBvlC,KAAKs9B,OAAOsE,GAAUjd,QAAU3kB,KAAKsY,SAASgO,WAMxEoc,EAAUd,EAAW,OAErBc,EADUpqB,EAASwmB,OACT9+B,KAAKs9B,OAAO9+B,OAAS,EAErBwB,KAAKs9B,OAAO9+B,OAAS8Z,EAASpP,MAOzC,OAJIq4B,IACHmB,GAAW1iC,KAAKu9B,QAAQ/+B,OAAS,GAG3BimB,KAAKiF,IAAIgZ,EAAS,IAS1B9F,EAAIv9B,UAAUojC,QAAU,SAASlB,GAChC,OAAOA,EAAW,EAAIvhC,KAAKu9B,QAAQ/+B,OAAS,GAS7Co+B,EAAIv9B,UAAU6J,MAAQ,SAAS6kB,GAC9B,OAAIA,IAAa3sB,EACTpB,KAAKs9B,OAAOh+B,SAGpByuB,EAAW/tB,KAAKmiC,UAAUpU,GAAU,GAC7B/tB,KAAKs9B,OAAOvP,KASpB6O,EAAIv9B,UAAUomC,QAAU,SAAS1X,GAChC,OAAIA,IAAa3sB,EACTpB,KAAKw9B,SAASl+B,SAGtByuB,EAAW/tB,KAAKmiC,UAAUpU,GAAU,GAC7B/tB,KAAKw9B,SAASzP,KAStB6O,EAAIv9B,UAAUyiC,OAAS,SAAS/T,GAC/B,IAAI2X,EAAM1lC,KAAKu9B,QAAQ/+B,OAAS,EAC/BmnC,EAAOD,EAAM1lC,KAAKs9B,OAAO9+B,OACzBsqB,EAAM,SAASvmB,GAAS,OAAOA,EAAQ,GAAM,EAAIojC,EAAOpjC,EAAQ,EAAImjC,GAAOnjC,EAAQ,GAAK,GAEzF,OAAIwrB,IAAa3sB,EACTxB,EAAEkpB,IAAI9oB,KAAKu9B,QAAS,SAAS6H,EAAGxkC,GAAK,OAAOkoB,EAAIloB,KAGjDhB,EAAEkpB,IAAI9oB,KAAKu9B,QAAS,SAAS6H,EAAGxkC,GAAK,OAAOwkC,IAAMrX,EAAWjF,EAAIloB,GAAK,QAS9Eg8B,EAAIv9B,UAAUmb,MAAQ,SAASA,GAK9B,OAJIA,IAAUpZ,IACbpB,KAAKk9B,OAAS1iB,GAGRxa,KAAKk9B,QAUbN,EAAIv9B,UAAUgjC,YAAc,SAAStU,GACpC,IAECiX,EAFGY,EAAa,EAChBC,EAAc9X,EAAW,EAG1B,OAAIA,IAAa3sB,EACTxB,EAAEkpB,IAAI9oB,KAAKm9B,aAAcv9B,EAAEgzB,MAAM,SAASoS,EAAYziC,GAC5D,OAAOvC,KAAKqiC,YAAY9/B,IACtBvC,QAGAA,KAAKsY,SAASwmB,QACb9+B,KAAKsY,SAASonB,MACjBkG,GAAc,EACdC,EAAc9X,EAAW,GAG1BiX,EAAahlC,KAAKm9B,aAAapP,GAC/BiX,IAAehlC,KAAK2kB,QAAUqgB,GAAchlC,KAAKm9B,aAAa0I,IAAgB,IAAM,EAAID,GAExFZ,EAAahlC,KAAKm9B,aAAa0I,IAAgB,EAGhDb,EAAavgB,KAAK6F,KAAK0a,KAaxBpI,EAAIv9B,UAAUkkB,SAAW,SAASuiB,EAAM7X,EAAI8X,GAC3C,OAAe,IAAXA,EACI,EAGDthB,KAAKiC,IAAIjC,KAAKiF,IAAIjF,KAAK+C,IAAIyG,EAAK6X,GAAO,GAAI,GAAKrhB,KAAK+C,IAAKue,GAAU/lC,KAAKsY,SAASqnB,aAS1F/C,EAAIv9B,UAAU4uB,GAAK,SAASF,EAAUvT,GACrC,IAAIc,EAAUtb,KAAKsb,UAClB0qB,EAAS,KACT12B,EAAWye,EAAW/tB,KAAKuhC,SAASjmB,GACpCyiB,GAAwB,EAAXzuB,IAAiBA,EAAW,GACzCpG,EAAQlJ,KAAKs9B,OAAO9+B,OACpBikC,EAAUziC,KAAKyiC,UACfC,EAAU1iC,KAAK0iC,UAEZ1iC,KAAKsY,SAASb,OACZzX,KAAKsY,SAASymB,QAAUta,KAAK+C,IAAIlY,GAAYpG,EAAQ,IACzDoG,IAAyB,EAAbyuB,EAAiB70B,IAI9B88B,KADAjY,EAAWzS,EAAUhM,GACCmzB,GAAWv5B,EAAQA,GAASA,EAAQu5B,KAE3C1U,GAAYiY,EAAS12B,GAAYozB,GAA+B,EAApBsD,EAAS12B,IACnEgM,EAAU0qB,EAAS12B,EACnBye,EAAWiY,EACXhmC,KAAKm3B,MAAM7b,KAIZyS,EAFU/tB,KAAKsY,SAASymB,QAEZhR,GADZ2U,GAAW,GACsBA,GAAWA,EAEjCje,KAAKiF,IAAI+Y,EAAShe,KAAKiC,IAAIgc,EAAS3U,IAGhD/tB,KAAKwa,MAAMxa,KAAKujB,SAASjI,EAASyS,EAAUvT,IAC5Cxa,KAAKsb,QAAQyS,GAET/tB,KAAKysB,aACRzsB,KAAKkiB,UASP0a,EAAIv9B,UAAU0iB,KAAO,SAASvH,GAC7BA,EAAQA,IAAS,EACjBxa,KAAKiuB,GAAGjuB,KAAKuhC,SAASvhC,KAAKsb,WAAa,EAAGd,IAQ5CoiB,EAAIv9B,UAAUmtB,KAAO,SAAShS,GAC7BA,EAAQA,IAAS,EACjBxa,KAAKiuB,GAAGjuB,KAAKuhC,SAASvhC,KAAKsb,WAAa,EAAGd,IAQ5CoiB,EAAIv9B,UAAUmlC,gBAAkB,SAASjgC,GAGxC,GAAIA,IAAUnD,IACbmD,EAAMsd,mBAGDtd,EAAM8d,QAAU9d,EAAM0hC,YAAc1hC,EAAM2hC,kBAAoBlmC,KAAK2yB,OAAO5L,IAAI,IAClF,OAAO,EAIT/mB,KAAK2jC,MAAM,aACX3jC,KAAKyI,QAAQ,eAQdm0B,EAAIv9B,UAAUukC,SAAW,WACxB,IAAIjf,EAUJ,OATI3kB,KAAKC,QAAQ+/B,wBAA0BthC,EAC1CimB,EAAQ/kB,EAAEI,KAAKC,QAAQ+/B,uBAAuBrb,QACpCjmB,EAAOmqB,WACjBlE,EAAQjmB,EAAOmqB,WACL3kB,EAASy0B,iBAAmBz0B,EAASy0B,gBAAgB9Y,YAC/D8E,EAAQzgB,EAASy0B,gBAAgB9Y,YAEjCphB,QAAQ0nC,KAAK,kCAEPxhB,GAQRiY,EAAIv9B,UAAUyG,QAAU,SAASuY,GAChCre,KAAK2yB,OAAOjI,QACZ1qB,KAAKs9B,OAAS,GAEVjf,IACHA,EAAWA,aAAmBvf,OAAUuf,EAAUze,EAAEye,IAGjDre,KAAKsY,SAAS6nB,qBACjB9hB,EAAUA,EAAQ8B,KAAK,IAAMngB,KAAKsY,SAAS6nB,qBAG5C9hB,EAAQ+C,OAAO,WACd,OAAyB,IAAlBphB,KAAKkV,WACVvU,KAAKf,EAAEgzB,MAAM,SAASrwB,EAAO2d,GAC/BA,EAAOlgB,KAAKkkC,QAAQhkB,GACpBlgB,KAAK2yB,OAAO1pB,OAAOiX,GACnBlgB,KAAKs9B,OAAOp7B,KAAKge,GACjBlgB,KAAKw9B,SAASt7B,KAA4E,EAAvEge,EAAKC,KAAK,gBAAgBuX,QAAQ,gBAAgB/wB,KAAK,eAAqB,IAC7F3G,OAEHA,KAAKm3B,MAAMn3B,KAAKokB,UAAUpkB,KAAKsY,SAASmnB,eAAiBz/B,KAAKsY,SAASmnB,cAAgB,GAEvFz/B,KAAKqjC,WAAW,UAUjBzG,EAAIv9B,UAAUiuB,IAAM,SAASjP,EAAS0P,GACrC,IAAIzS,EAAUtb,KAAKuhC,SAASvhC,KAAKi9B,UAEjClP,EAAWA,IAAa3sB,EAAYpB,KAAKs9B,OAAO9+B,OAASwB,KAAKmiC,UAAUpU,GAAU,GAClF1P,EAAUA,aAAmBvf,OAASuf,EAAUze,EAAEye,GAElDre,KAAKyI,QAAQ,MAAO,CAAE4V,QAASA,EAAS0P,SAAUA,IAElD1P,EAAUre,KAAKkkC,QAAQ7lB,GAEI,IAAvBre,KAAKs9B,OAAO9+B,QAAgBuvB,IAAa/tB,KAAKs9B,OAAO9+B,QACjC,IAAvBwB,KAAKs9B,OAAO9+B,QAAgBwB,KAAK2yB,OAAO1pB,OAAOoV,GACxB,IAAvBre,KAAKs9B,OAAO9+B,QAAgBwB,KAAKs9B,OAAOvP,EAAW,GAAG/C,MAAM3M,GAC5Dre,KAAKs9B,OAAOp7B,KAAKmc,GACjBre,KAAKw9B,SAASt7B,KAA+E,EAA1Emc,EAAQ8B,KAAK,gBAAgBuX,QAAQ,gBAAgB/wB,KAAK,eAAqB,KAElG3G,KAAKs9B,OAAOvP,GAAUqY,OAAO/nB,GAC7Bre,KAAKs9B,OAAO96B,OAAOurB,EAAU,EAAG1P,GAChCre,KAAKw9B,SAASh7B,OAAOurB,EAAU,EAA6E,EAA1E1P,EAAQ8B,KAAK,gBAAgBuX,QAAQ,gBAAgB/wB,KAAK,eAAqB,IAGlH3G,KAAKs9B,OAAOhiB,IAAYtb,KAAKm3B,MAAMn3B,KAAKs9B,OAAOhiB,GAAS/Y,SAExDvC,KAAKqjC,WAAW,SAEhBrjC,KAAKyI,QAAQ,QAAS,CAAE4V,QAASA,EAAS0P,SAAUA,KASrD6O,EAAIv9B,UAAUygB,OAAS,SAASiO,IAC/BA,EAAW/tB,KAAKmiC,UAAUpU,GAAU,MAEnB3sB,IAIjBpB,KAAKyI,QAAQ,SAAU,CAAE4V,QAASre,KAAKs9B,OAAOvP,GAAWA,SAAUA,IAEnE/tB,KAAKs9B,OAAOvP,GAAUjO,SACtB9f,KAAKs9B,OAAO96B,OAAOurB,EAAU,GAC7B/tB,KAAKw9B,SAASh7B,OAAOurB,EAAU,GAE/B/tB,KAAKqjC,WAAW,SAEhBrjC,KAAKyI,QAAQ,UAAW,CAAE4V,QAAS,KAAM0P,SAAUA,MAQpD6O,EAAIv9B,UAAUokC,uBAAyB,SAAS7uB,GAC/CA,EAAOjU,KAAKf,EAAEgzB,MAAM,SAAShyB,EAAGsG,GAC/BlH,KAAKwjC,MAAM,eACXt8B,EAAUtH,EAAEsH,GACZtH,EAAE,IAAIiW,OAASqS,IAAI,OAAQtoB,EAAEgzB,MAAM,SAAShR,GAC3C1a,EAAQP,KAAK,MAAOib,EAAES,OAAOnL,KAC7BhQ,EAAQuR,IAAI,UAAW,GACvBzY,KAAK2jC,MAAM,gBACV3jC,KAAKuiB,GAAG,iBAAmBviB,KAAKuiB,GAAG,iBAAmBviB,KAAKmjC,WAC1DnjC,OAAO2G,KAAK,MAAOO,EAAQP,KAAK,QAAUO,EAAQP,KAAK,aAAeO,EAAQP,KAAK,qBACpF3G,QAOJ48B,EAAIv9B,UAAUmI,QAAU,WAWvB,IAAK,IAAI5G,KATTZ,KAAKsH,SAAShF,IAAI,aAClBtC,KAAK2yB,OAAOrwB,IAAI,aAChB1C,EAAEsE,GAAU5B,IAAI,cAEiB,IAA7BtC,KAAKsY,SAASwnB,aACjBphC,EAAO2G,aAAarF,KAAKskC,aACzBtkC,KAAKsC,IAAI5D,EAAQ,SAAUsB,KAAK88B,UAAUuH,oBAG7BrkC,KAAK+8B,SAClB/8B,KAAK+8B,SAASn8B,GAAG4G,UAGlBxH,KAAK2yB,OAAOrd,SAAS,WAAWwK,SAEhC9f,KAAK2yB,OAAO0T,SACZrmC,KAAK2yB,OAAOrd,WAAW8U,WAAWic,SAClCrmC,KAAK2yB,OAAOrd,WAAW+wB,SACvBrmC,KAAK2yB,OAAO7S,SACZ9f,KAAKsH,SACH+c,YAAYrkB,KAAKC,QAAQqgC,cACzBjc,YAAYrkB,KAAKC,QAAQugC,cACzBnc,YAAYrkB,KAAKC,QAAQsgC,aACzBlc,YAAYrkB,KAAKC,QAAQwgC,UACzBpc,YAAYrkB,KAAKC,QAAQ0gC,WACzBtc,YAAYrkB,KAAKC,QAAQ8gC,WACzBp6B,KAAK,QAAS3G,KAAKsH,SAASX,KAAK,SAASb,QAAQ,IAAI2E,OAAOzK,KAAKC,QAAQygC,gBAAkB,WAAY,KAAM,KAC9G4F,WAAW,iBAUd1J,EAAIv9B,UAAUyjC,GAAK,SAASz/B,EAAGkjC,EAAGjjC,GACjC,IAAIo8B,EAAM1/B,KAAKsY,SAASonB,IACxB,OAAQ6G,GACP,IAAK,IACJ,OAAO7G,EAAUp8B,EAAJD,EAAQA,EAAIC,EAC1B,IAAK,IACJ,OAAOo8B,EAAMr8B,EAAIC,EAAQA,EAAJD,EACtB,IAAK,KACJ,OAAOq8B,EAAMr8B,GAAKC,EAASA,GAALD,EACvB,IAAK,KACJ,OAAOq8B,EAAWp8B,GAALD,EAASA,GAAKC,IAc9Bs5B,EAAIv9B,UAAUsC,GAAK,SAASuF,EAAS3C,EAAO1C,EAAU2kC,GACjDt/B,EAAQvB,iBACXuB,EAAQvB,iBAAiBpB,EAAO1C,EAAU2kC,GAChCt/B,EAAQu/B,aAClBv/B,EAAQu/B,YAAY,KAAOliC,EAAO1C,IAYpC+6B,EAAIv9B,UAAUiD,IAAM,SAAS4E,EAAS3C,EAAO1C,EAAU2kC,GAClDt/B,EAAQkM,oBACXlM,EAAQkM,oBAAoB7O,EAAO1C,EAAU2kC,GACnCt/B,EAAQw/B,aAClBx/B,EAAQw/B,YAAY,KAAOniC,EAAO1C,IAepC+6B,EAAIv9B,UAAUoJ,QAAU,SAASgE,EAAM1L,EAAMrB,EAAWwlC,EAAO1B,GAC9D,IAAI11B,EAAS,CACZoS,KAAM,CAAEymB,MAAO3mC,KAAKs9B,OAAO9+B,OAAQ+D,MAAOvC,KAAKsb,YAC7C+iB,EAAUz+B,EAAEgnC,UACdhnC,EAAEukC,KAAK,CAAE,KAAM13B,EAAM/M,GAAa,SAAS0lC,GAAK,OAAOA,IACrDtL,KAAK,KAAK5zB,eACV3B,EAAQ3E,EAAE4I,MACZ,CAAEiE,EAAM,MAAO/M,GAAa,YAAao6B,KAAK,KAAK5zB,cACnDtG,EAAEM,OAAO,CAAE2mC,cAAe7mC,MAAQ8N,EAAQ/M,IAkB3C,OAfKf,KAAKg9B,SAASvwB,KAClB7M,EAAEe,KAAKX,KAAK+8B,SAAU,SAAStwB,EAAM8xB,GAChCA,EAAOuI,WACVvI,EAAOuI,UAAUviC,KAInBvE,KAAK+mC,SAAS,CAAEviC,KAAMo4B,EAAIwE,KAAK54B,MAAOiE,KAAMA,IAC5CzM,KAAKsH,SAASmB,QAAQlE,GAElBvE,KAAKsY,UAA8C,mBAA3BtY,KAAKsY,SAAS+lB,IACzCr+B,KAAKsY,SAAS+lB,GAAS/9B,KAAKN,KAAMuE,IAI7BA,GAORq4B,EAAIv9B,UAAUmkC,MAAQ,SAAS/2B,GAC9B7M,EAAEe,KAAK,CAAE8L,GAAOhG,OAAOzG,KAAKg+B,QAAQC,KAAKxxB,IAAS,IAAK7M,EAAEgzB,MAAM,SAAShyB,EAAG6L,GACtEzM,KAAKg+B,QAAQ1iB,QAAQ7O,KAAUrL,IAClCpB,KAAKg+B,QAAQ1iB,QAAQ7O,GAAQ,GAG9BzM,KAAKg+B,QAAQ1iB,QAAQ7O,MACnBzM,QAOJ48B,EAAIv9B,UAAUskC,MAAQ,SAASl3B,GAC9B7M,EAAEe,KAAK,CAAE8L,GAAOhG,OAAOzG,KAAKg+B,QAAQC,KAAKxxB,IAAS,IAAK7M,EAAEgzB,MAAM,SAAShyB,EAAG6L,GAC1EzM,KAAKg+B,QAAQ1iB,QAAQ7O,MACnBzM,QAQJ48B,EAAIv9B,UAAU0nC,SAAW,SAASC,GACjC,GAAIA,EAAOxiC,OAASo4B,EAAIwE,KAAK54B,OAK5B,GAJK5I,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,QAC3B7M,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,MAAQ,KAG3B7M,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,MAAMy6B,IAAK,CACtC,IAAIC,EAAWvnC,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,MAAM06B,SAC5CvnC,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,MAAM06B,SAAW,SAASvlB,GAChD,OAAIulB,IAAYA,EAASjmC,OAAW0gB,EAAEliB,YAA6C,IAAhCkiB,EAAEliB,UAAUuC,QAAQ,OAGhE2f,EAAEliB,YAA2C,EAA9BkiB,EAAEliB,UAAUuC,QAAQ,OAFlCklC,EAASjmC,MAAMlB,KAAMO,YAI9BX,EAAE2E,MAAM0iC,QAAQD,EAAOv6B,MAAMy6B,KAAM,QAE1BF,EAAOxiC,OAASo4B,EAAIwE,KAAKC,QAC9BrhC,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAG7BzM,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAAQzM,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAAMhG,OAAOugC,EAAO/I,MAF9Ej+B,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAAQu6B,EAAO/I,KAKzCj+B,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAAQ7M,EAAEukC,KAAKnkC,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,MAAO7M,EAAEgzB,MAAM,SAASwU,EAAKxmC,GAC7F,OAAOhB,EAAEkhB,QAAQsmB,EAAKpnC,KAAKg+B,QAAQC,KAAK+I,EAAOv6B,SAAW7L,GACxDZ,SASL48B,EAAIv9B,UAAUgmC,SAAW,SAASvjC,GACjClC,EAAEe,KAAKmB,EAAQlC,EAAEgzB,MAAM,SAASrwB,EAAOgC,GACtCvE,KAAKg9B,SAASz4B,IAAS,GACrBvE,QAQJ48B,EAAIv9B,UAAUimC,QAAU,SAASxjC,GAChClC,EAAEe,KAAKmB,EAAQlC,EAAEgzB,MAAM,SAASrwB,EAAOgC,UAC/BvE,KAAKg9B,SAASz4B,IACnBvE,QAUJ48B,EAAIv9B,UAAUy+B,QAAU,SAASv5B,GAChC,IAAI4sB,EAAS,CAAElM,EAAG,KAAMC,EAAG,MAgB3B,OAZA3gB,GAFAA,EAAQA,EAAM0d,eAAiB1d,GAAS7F,EAAO6F,OAEjC6sB,SAAW7sB,EAAM6sB,QAAQ5yB,OACtC+F,EAAM6sB,QAAQ,GAAK7sB,EAAM8sB,gBAAkB9sB,EAAM8sB,eAAe7yB,OAC/D+F,EAAM8sB,eAAe,GAAK9sB,GAElB+sB,OACTH,EAAOlM,EAAI1gB,EAAM+sB,MACjBH,EAAOjM,EAAI3gB,EAAMgtB,QAEjBJ,EAAOlM,EAAI1gB,EAAMitB,QACjBL,EAAOjM,EAAI3gB,EAAMktB,SAGXN,GASRyL,EAAIv9B,UAAU+kB,UAAY,SAASijB,GAClC,OAAQC,MAAMhb,WAAW+a,KAW1BzK,EAAIv9B,UAAUulC,WAAa,SAASzZ,EAAOyO,GAC1C,MAAO,CACN3U,EAAGkG,EAAMlG,EAAI2U,EAAO3U,EACpBC,EAAGiG,EAAMjG,EAAI0U,EAAO1U,IAStBtlB,EAAEO,GAAGonC,YAAc,SAAS1nC,GAC3B,IAAIQ,EAAOjB,MAAMC,UAAUC,MAAMgB,KAAKC,UAAW,GAEjD,OAAOP,KAAKW,KAAK,WAChB,IAAI6mC,EAAQ5nC,EAAEI,MACbe,EAAOymC,EAAMzmC,KAAK,gBAEdA,IACJA,EAAO,IAAI67B,EAAI58B,KAAuB,iBAAVH,GAAsBA,GAClD2nC,EAAMzmC,KAAK,eAAgBA,GAE3BnB,EAAEe,KAAK,CACN,OAAQ,OAAQ,KAAM,UAAW,UAAW,UAAW,MAAO,UAC5D,SAASC,EAAG2D,GACdxD,EAAKgmC,SAAS,CAAEviC,KAAMo4B,EAAIwE,KAAK54B,MAAOiE,KAAMlI,IAC5CxD,EAAKuG,SAAS3F,GAAG4C,EAAQ,qBAAsB3E,EAAEgzB,MAAM,SAAShR,GAC3DA,EAAEliB,WAAakiB,EAAEilB,gBAAkB7mC,OACtCA,KAAKqlC,SAAS,CAAE9gC,IAChBxD,EAAKwD,GAAOrD,MAAMlB,KAAM,GAAGV,MAAMgB,KAAKC,UAAW,IACjDP,KAAKslC,QAAQ,CAAE/gC,MAEdxD,OAIgB,iBAAVlB,GAA2C,MAArBA,EAAOmB,OAAO,IAC9CD,EAAKlB,GAAQqB,MAAMH,EAAMV,MAS5BT,EAAEO,GAAGonC,YAAYE,YAAc7K,EAvsD/B,CAysDEl+B,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAIumC,EAAc,SAASC,GAM1B5nC,KAAK6nC,MAAQD,EAOb5nC,KAAK8nC,UAAY,KAOjB9nC,KAAK+nC,SAAW,KAOhB/nC,KAAK88B,UAAY,CAChBkL,2BAA4BpoC,EAAEgzB,MAAM,SAAShR,GACxCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAAS2vB,aACtCjoC,KAAKkoC,SAEJloC,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAIynC,EAAY9K,SAAU78B,KAAK6nC,MAAM5nC,SAGnED,KAAK6nC,MAAMvgC,SAAS3F,GAAG3B,KAAK88B,YAO7B6K,EAAY9K,SAAW,CACtBoL,aAAa,EACbE,oBAAqB,KAMtBR,EAAYtoC,UAAU6oC,MAAQ,WACzBloC,KAAK8nC,YAIT9nC,KAAK+nC,SAAW/nC,KAAK6nC,MAAMpb,YAC3BzsB,KAAK8nC,UAAYppC,EAAOykB,YAAYvjB,EAAEgzB,MAAM5yB,KAAKmjC,QAASnjC,MAAOA,KAAK6nC,MAAMvvB,SAAS6vB,uBAMtFR,EAAYtoC,UAAU8jC,QAAU,WAC3BnjC,KAAK6nC,MAAMpb,cAAgBzsB,KAAK+nC,WAIpC/nC,KAAK+nC,UAAY/nC,KAAK+nC,SAEtB/nC,KAAK6nC,MAAMvgC,SAASwf,YAAY,cAAe9mB,KAAK+nC,UAEpD/nC,KAAK+nC,UAAa/nC,KAAK6nC,MAAMxE,WAAW,UAAYrjC,KAAK6nC,MAAM1E,YAMhEwE,EAAYtoC,UAAUmI,QAAU,WAC/B,IAAI62B,EAAS2F,EAIb,IAAK3F,KAFL3/B,EAAO4kB,cAActjB,KAAK8nC,WAEV9nC,KAAK88B,UACpB98B,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAEjD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQqJ,YAAcA,EArGnD,CAuGEjpC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAIinC,EAAO,SAAST,GAOnB5nC,KAAK6nC,MAAQD,EAOb5nC,KAAKsoC,QAAU,GAOftoC,KAAK88B,UAAY,CAChByL,oEAAqE3oC,EAAEgzB,MAAM,SAAShR,GACrF,GAAKA,EAAEliB,WAIFM,KAAK6nC,MAAMvvB,UAAatY,KAAK6nC,MAAMvvB,SAASkwB,WAI5C5mB,EAAEoiB,UAA+B,YAAnBpiB,EAAEoiB,SAASv3B,MAAiC,eAAVmV,EAAEpd,MAAuB,CAC7E,IAAI8T,EAAWtY,KAAK6nC,MAAMvvB,SACzBiI,EAAKjI,EAASwmB,QAAUra,KAAK6F,KAAKhS,EAASpP,MAAQ,IAAMoP,EAASpP,MAClEtI,EAAM0X,EAASwmB,SAAe,EAALve,GAAW,EACpCwN,GAAYnM,EAAEoiB,eA1CnB,IA0C+BpiB,EAAEoiB,SAAS/iC,MAAsB2gB,EAAEoiB,SAAS/iC,MAAQjB,KAAK6nC,MAAMvsB,WAAa1a,EACtGkhC,EAAS9hC,KAAK6nC,MAAM/F,SAAStjC,OAC7BsK,EAAOlJ,EAAEgzB,MAAM,SAAShyB,EAAGwkC,GAAKplC,KAAK8I,KAAKs8B,IAAMplC,MAWjD,IAT6B,EAAzBsY,EAASmwB,gBACZloB,GAAKjI,EAASmwB,cAEVnwB,EAASb,OACLsW,GAAYzV,EAASmwB,cACrBloB,MAIF3f,IAAM2f,GACZvgB,KAAK8I,KAAKg5B,EAAS,EAAI9hC,KAAK6nC,MAAMtG,SAASxT,IAC3C+T,GAAUliC,EAAEe,KAAKX,KAAK6nC,MAAM/F,OAAO9hC,KAAK6nC,MAAMtG,SAASxT,IAAYjlB,GACnEilB,MAGA/tB,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAImoC,EAAKxL,SAAU78B,KAAK6nC,MAAM5nC,SAG5DD,KAAK6nC,MAAMvgC,SAAS3F,GAAG3B,KAAK88B,YAO7BuL,EAAKxL,SAAW,CACf2L,UAAU,EACVC,cAAe,GAQhBJ,EAAKhpC,UAAUyJ,KAAO,SAASilB,GAC9B,IAAIvN,EAAQxgB,KAAK6nC,MAAMlV,OAAOrd,WAAWkZ,GAAGT,GAC3C2a,EAAYloB,GAASA,EAAML,KAAK,cAE5BuoB,IAAsD,EAAzC9oC,EAAEkhB,QAAQN,EAAMuG,IAAI,GAAI/mB,KAAKsoC,WAI/CI,EAAU/nC,KAAKf,EAAEgzB,MAAM,SAASrwB,EAAO2E,GACtC,IAA2BmP,EAAvB/O,EAAW1H,EAAEsH,GACJkG,EAAiC,EAA1B1O,EAAOkqB,kBAAwBthB,EAASX,KAAK,oBAAuBW,EAASX,KAAK,aAAeW,EAASX,KAAK,eAEnI3G,KAAK6nC,MAAMp/B,QAAQ,OAAQ,CAAEvB,QAASI,EAAU8F,IAAKA,GAAO,QAExD9F,EAASib,GAAG,OACfjb,EAAS4gB,IAAI,gBAAiBtoB,EAAEgzB,MAAM,WACrCtrB,EAASmR,IAAI,UAAW,GACxBzY,KAAK6nC,MAAMp/B,QAAQ,SAAU,CAAEvB,QAASI,EAAU8F,IAAKA,GAAO,SAC5DpN,OAAO2G,KAAK,MAAOyG,GACH9F,EAASib,GAAG,UACnBjb,EAAS4gB,IAAI,gBAAiBtoB,EAAEgzB,MAAM,WAClC5yB,KAAK6nC,MAAMp/B,QAAQ,SAAU,CAAEvB,QAASI,EAAU8F,IAAKA,GAAO,SAC/DpN,OAAO2G,KAAK,SAAUyG,KAErCiJ,EAAQ,IAAIR,OACNhI,OAASjO,EAAEgzB,MAAM,WACtBtrB,EAASmR,IAAI,CACZkwB,mBAAoB,QAAUv7B,EAAM,KACpC6Z,QAAW,MAEZjnB,KAAK6nC,MAAMp/B,QAAQ,SAAU,CAAEvB,QAASI,EAAU8F,IAAKA,GAAO,SAC5DpN,MACHqW,EAAMa,IAAM9J,IAEXpN,OAEHA,KAAKsoC,QAAQpmC,KAAKse,EAAMuG,IAAI,MAO7BshB,EAAKhpC,UAAUmI,QAAU,WACxB,IAAI62B,EAAS2F,EAEb,IAAK3F,KAAWr+B,KAAK4oC,SACpB5oC,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK4oC,SAASvK,IAEhD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQ+J,KAAOA,EA3I5C,CA6IE3pC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAIynC,EAAa,SAASjB,GAMzB5nC,KAAK6nC,MAAQD,EAEb5nC,KAAK8oC,gBAAkB,KAOvB9oC,KAAK88B,UAAY,CAChBiM,kDAAmDnpC,EAAEgzB,MAAM,SAAShR,GAC/DA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAAS0wB,YACtChpC,KAAKkiB,UAEJliB,MACHipC,uBAAwBrpC,EAAEgzB,MAAM,SAAShR,GACpCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAAS0wB,YAAkC,aAApBpnB,EAAEoiB,SAASv3B,MAC/DzM,KAAKkiB,UAEJliB,MACHkpC,kBAAmBtpC,EAAEgzB,MAAM,SAAShR,GAC/BA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAAS0wB,YACnCpnB,EAAE1a,QAAQ69B,QAAQ,IAAM/kC,KAAK6nC,MAAMvvB,SAASsoB,WAAWr+B,UAAYvC,KAAK6nC,MAAMvsB,WACjFtb,KAAKkiB,UAEJliB,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAI2oC,EAAWhM,SAAU78B,KAAK6nC,MAAM5nC,SAGlED,KAAK6nC,MAAMvgC,SAAS3F,GAAG3B,KAAK88B,WAC5B98B,KAAKmpC,YAAc,KACnB,IAAIC,EAAUppC,KAIdJ,EAAElB,GAAQiD,GAAG,OAAQ,WAChBynC,EAAQvB,MAAMvvB,SAAS0wB,YAC1BI,EAAQlnB,WAOVtiB,EAAElB,GAAQ2qC,OAAO,WACZD,EAAQvB,MAAMvvB,SAAS0wB,aACC,MAAvBI,EAAQD,aACX9jC,aAAa+jC,EAAQD,aAGtBC,EAAQD,YAAc5jC,WAAW,WAChC6jC,EAAQlnB,UACN,SAUN2mB,EAAWhM,SAAW,CACrBmM,YAAY,EACZM,gBAAiB,cAMlBT,EAAWxpC,UAAU6iB,OAAS,WAC7B,IAAIsJ,EAAQxrB,KAAK6nC,MAAM5K,SACtBhX,EAAMuF,EAAQxrB,KAAK6nC,MAAMvvB,SAASpP,MAClCqgC,EAAkBvpC,KAAK6nC,MAAMvvB,SAASkwB,SACtCgB,EAAUxpC,KAAK6nC,MAAMlV,OAAOrd,WAAWm0B,UAAUnqC,MAAMksB,EAAOvF,GAC9DyjB,EAAU,GACVC,EAAY,EAEb/pC,EAAEe,KAAK6oC,EAAS,SAASjnC,EAAO2d,GAC/BwpB,EAAQxnC,KAAKtC,EAAEsgB,GAAMwF,aAGtBikB,EAAYllB,KAAKiF,IAAIxoB,MAAM,KAAMwoC,KAEhB,GAAKH,GAAmBvpC,KAAK8oC,kBAC7Ca,EAAY3pC,KAAK8oC,iBAGlB9oC,KAAK8oC,gBAAkBa,EAEvB3pC,KAAK6nC,MAAMlV,OAAO/H,SAChBlF,OAAOikB,GACPjqB,SAAS1f,KAAK6nC,MAAMvvB,SAASgxB,kBAGhCT,EAAWxpC,UAAUmI,QAAU,WAC9B,IAAI62B,EAAS2F,EAEb,IAAK3F,KAAWr+B,KAAK88B,UACpB98B,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAEjD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MACjB,mBAAnBA,KAAKgkC,KAA6BhkC,KAAKgkC,GAAY,OAI5DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQuK,WAAaA,EA1HlD,CA4HEnqC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAIwoC,EAAQ,SAAShC,GAMpB5nC,KAAK6nC,MAAQD,EAOb5nC,KAAK6pC,QAAU,GAOf7pC,KAAK8pC,SAAW,KAQhB9pC,KAAK88B,UAAY,CAChBkL,2BAA4BpoC,EAAEgzB,MAAM,SAAShR,GACxCA,EAAEliB,WACLM,KAAK6nC,MAAMd,SAAS,CAAEviC,KAAM,QAASiI,KAAM,UAAWwxB,KAAM,CAAE,kBAE7Dj+B,MACH+pC,sBAAuBnqC,EAAEgzB,MAAM,SAAShR,GACnCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAAS0xB,OAAShqC,KAAKiqC,kBACpDroB,EAAE3O,kBAEDjT,MACHkqC,yBAA0BtqC,EAAEgzB,MAAM,SAAShR,GACtCA,EAAEliB,WAAaM,KAAK6nC,MAAMtlB,GAAG,aAChCviB,KAAK6nC,MAAMlV,OAAOxS,KAAK,4BAA4BL,UAElD9f,MACHipC,uBAAwBrpC,EAAEgzB,MAAM,SAAShR,GACpCA,EAAEliB,WAAiC,aAApBkiB,EAAEoiB,SAASv3B,MAAuBzM,KAAK8pC,UACzD9pC,KAAKwkB,QAEJxkB,MACHmqC,wBAAyBvqC,EAAEgzB,MAAM,SAAShR,GACzC,GAAKA,EAAEliB,UAAP,CAIA,IAAI4H,EAAW1H,EAAEgiB,EAAEvD,SAAS8B,KAAK,cAE7B7Y,EAAS9I,SACZ8I,EAASmR,IAAI,UAAW,QACxBzY,KAAKoqC,MAAM9iC,EAAU1H,EAAEgiB,EAAEvD,aAExBre,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAI0pC,EAAM/M,SAAU78B,KAAK6nC,MAAM5nC,SAG7DD,KAAK6nC,MAAMvgC,SAAS3F,GAAG3B,KAAK88B,WAE5B98B,KAAK6nC,MAAMvgC,SAAS3F,GAAG,kBAAmB,uBAAwB/B,EAAEgzB,MAAM,SAAShR,GAClF5hB,KAAKqqC,KAAKzoB,IACR5hB,QAOJ4pC,EAAM/M,SAAW,CAChBmN,OAAO,EACPM,aAAa,EACbC,YAAY,GASbX,EAAMvqC,UAAU+qC,MAAQ,SAAS/nB,EAAQnC,GACvC,IAAI1b,EACE6d,EAAO1b,KAAK,iBACR,QACG0b,EAAO1b,KAAK,iBACf,QAEA,UAGTe,EAAK2a,EAAO1b,KAAK,kBAAoB0b,EAAO1b,KAAK,oBAAsB0b,EAAO1b,KAAK,iBACnFge,EAAQtC,EAAO1b,KAAK,eAAiB3G,KAAK6nC,MAAMvvB,SAASiyB,WACzD7kB,EAASrD,EAAO1b,KAAK,gBAAkB3G,KAAK6nC,MAAMvvB,SAASgyB,YAC3Dl9B,EAAMiV,EAAO1b,KAAK,QAEpB,IAAIyG,EA2BH,MAAM,IAAIW,MAAM,sBAXhB,IAA8B,GAF9BrG,EAAK0F,EAAIrH,MAAM,8NAER,GAAG9D,QAAQ,SACjBuC,EAAO,eACD,IAA8B,EAA1BkD,EAAG,GAAGzF,QAAQ,SACxBuC,EAAO,YACD,CAAA,MAA8B,EAA1BkD,EAAG,GAAGzF,QAAQ,UAGxB,MAAM,IAAI8L,MAAM,4BAFhBvJ,EAAO,QAIRkD,EAAKA,EAAG,GAKT1H,KAAK6pC,QAAQz8B,GAAO,CACnB5I,KAAMA,EACNkD,GAAIA,EACJid,MAAOA,EACPe,OAAQA,GAGTxF,EAAKvZ,KAAK,aAAcyG,GAExBpN,KAAKwqC,UAAUnoB,EAAQriB,KAAK6pC,QAAQz8B,KAUrCw8B,EAAMvqC,UAAUmrC,UAAY,SAASnoB,EAAQ2nB,GAC5C,IAAIS,EAEH5hC,EACA6hC,EAAaV,EAAMrlB,OAASqlB,EAAMtkB,OAAS,SAAWskB,EAAMrlB,MAAQ,aAAeqlB,EAAMtkB,OAAS,MAAQ,GAC1GilB,EAAWtoB,EAAOlC,KAAK,OACvByqB,EAAU,MACVC,EAAY,GACZvyB,EAAWtY,KAAK6nC,MAAMvvB,SACtB/Q,EAAS,SAASsB,GACV,0CAGN4hC,EADGnyB,EAASkwB,SACH5oC,EAAE,SAAS,CACnBojC,MAAS,gBAAkB6H,EAC3BD,QAAW/hC,IAGHjJ,EAAG,SAAU,CACrBojC,MAAS,eACTv3B,MAAS,kCAAoC5C,EAAO,MAGtDwZ,EAAO2I,MAAMyf,GACbpoB,EAAO2I,MAdA,4CA6BT,GAXA3I,EAAO6I,KAAMtrB,EAAG,SAAU,CACzBojC,MAAS,oBACTv3B,MAASi/B,KAGN1qC,KAAK6nC,MAAMvvB,SAASkwB,WACvBoC,EAAU,WACVC,EAAY,YAITF,EAASnsC,OAGZ,OAFA+I,EAAOojC,EAAShkC,KAAKikC,IACrBD,EAAS7qB,UACF,EAGW,YAAfkqB,EAAMxlC,MACTqE,EAAO,wBAA0BmhC,EAAMtiC,GAAK,iBAC5CH,EAAOsB,IACkB,UAAfmhC,EAAMxlC,KAChB5E,EAAEyY,KAAK,CACN7T,KAAM,MACN4I,IAAK,4BAA8B48B,EAAMtiC,GAAK,QAC9CojC,MAAO,WACPC,SAAU,QACVhjB,QAAS,SAAShnB,GACjB8H,EAAO9H,EAAK,GAAGiqC,gBACfzjC,EAAOsB,MAGgB,UAAfmhC,EAAMxlC,MAChB5E,EAAEyY,KAAK,CACN7T,KAAM,MACN4I,IAAK,0BAA4B48B,EAAMtiC,GAAK,QAC5CojC,MAAO,WACPC,SAAU,QACVhjB,QAAS,SAAShnB,GACjB8H,EAAO9H,EAAKkqC,cACZ1jC,EAAOsB,OAUX+gC,EAAMvqC,UAAUmlB,KAAO,WACtBxkB,KAAK6nC,MAAMp/B,QAAQ,OAAQ,KAAM,SACjCzI,KAAK8pC,SAAS3pB,KAAK,oBAAoBL,SACvC9f,KAAK8pC,SAASzlB,YAAY,qBAC1BrkB,KAAK8pC,SAAW,KAChB9pC,KAAK6nC,MAAMlE,MAAM,WACjB3jC,KAAK6nC,MAAMp/B,QAAQ,UAAW,KAAM,UAQrCmhC,EAAMvqC,UAAUgrC,KAAO,SAAS9lC,GAC/B,IAKCwmB,EAJA7K,EADYtgB,EAAE2E,EAAM8d,QACN0iB,QAAQ,IAAM/kC,KAAK6nC,MAAMvvB,SAASsoB,WAChDoJ,EAAQhqC,KAAK6pC,QAAQ3pB,EAAKvZ,KAAK,eAC/Bge,EAAQqlB,EAAMrlB,OAAS,OACvBe,EAASskB,EAAMtkB,QAAU1lB,KAAK6nC,MAAMlV,OAAOjN,SAIxC1lB,KAAK8pC,WAIT9pC,KAAK6nC,MAAMrE,MAAM,WACjBxjC,KAAK6nC,MAAMp/B,QAAQ,OAAQ,KAAM,SAEjCyX,EAAOlgB,KAAK6nC,MAAM3+B,MAAMlJ,KAAK6nC,MAAMtG,SAASrhB,EAAK3d,UAEjDvC,KAAK6nC,MAAM1Q,MAAMjX,EAAK3d,UAEtBwoB,EAAOnrB,EAAG,gGACL+G,KAAM,SAAU+e,GACrBqF,EAAKpkB,KAAM,QAASge,GACD,YAAfqlB,EAAMxlC,KACTumB,EAAKpkB,KAAM,MAAO,2BAA6BqjC,EAAMtiC,GAAK,uBAAyBsiC,EAAMtiC,IAChE,UAAfsiC,EAAMxlC,KAChBumB,EAAKpkB,KAAM,MAAO,4BAA8BqjC,EAAMtiC,GAAK,eAClC,UAAfsiC,EAAMxlC,MAChBumB,EAAKpkB,KAAM,MAAO,oBAAsBqjC,EAAMtiC,GAAK,yBAG3C9H,EAAEmrB,GAAMG,KAAM,mCAAoCJ,YAAY5K,EAAKC,KAAK,eAEjFngB,KAAK8pC,SAAW5pB,EAAKR,SAAS,uBAS/BkqB,EAAMvqC,UAAU4qC,eAAiB,WAChC,IAAI/iC,EAAUhD,EAASg1B,mBAAqBh1B,EAASgnC,sBACnDhnC,EAASinC,wBAEX,OAAOjkC,GAAWtH,EAAEsH,GAAS0jB,SAAStI,SAAS,oBAMhDsnB,EAAMvqC,UAAUmI,QAAU,WACzB,IAAI62B,EAAS2F,EAIb,IAAK3F,KAFLr+B,KAAK6nC,MAAMvgC,SAAShF,IAAI,mBAERtC,KAAK88B,UACpB98B,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAEjD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQsL,MAAQA,EA7T7C,CA+TElrC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAIgqC,EAAU,SAASC,GACtBrrC,KAAKsrC,KAAOD,EACZrrC,KAAKsrC,KAAKrrC,QAAUL,EAAEM,OAAO,GAAIkrC,EAAQvO,SAAU78B,KAAKsrC,KAAKrrC,SAC7DD,KAAKurC,UAAW,EAChBvrC,KAAK8hB,cAXN,EAYC9hB,KAAK+hB,UAZN,EAcC/hB,KAAK4oC,SAAW,CACf4C,sBAAuB5rC,EAAEgzB,MAAM,SAAShR,GACnCA,EAAEliB,WAAgC,YAAnBkiB,EAAEoiB,SAASv3B,OAC7BzM,KAAK8hB,SAAW9hB,KAAKsrC,KAAKhwB,UAC1Btb,KAAK+hB,KAAOH,EAAEoiB,SAAS/iC,QAEtBjB,MACHyrC,iEAAkE7rC,EAAEgzB,MAAM,SAAShR,GAC9EA,EAAEliB,YACLM,KAAKurC,SAAqB,cAAV3pB,EAAEpd,OAEjBxE,MACH0rC,yBAA0B9rC,EAAEgzB,MAAM,SAAShR,GACtCA,EAAEliB,WAAaM,KAAKurC,WAAavrC,KAAKsrC,KAAKrrC,QAAQ0rC,YAAc3rC,KAAKsrC,KAAKrrC,QAAQ2rC,YACtF5rC,KAAK6rC,QAEJ7rC,OAGJA,KAAKsrC,KAAKhkC,SAAS3F,GAAG3B,KAAK4oC,WAO5BwC,EAAQvO,SAAW,CAClB8O,YAAY,EACZC,WAAW,GAQZR,EAAQ/rC,UAAUwsC,KAAO,WAExB,GAAiC,IAA7B7rC,KAAKsrC,KAAKhzB,SAASpP,OAIlBtJ,EAAE2kC,QAAQuH,WAAclsC,EAAE2kC,QAAQ/mB,WAAvC,CAIAxd,KAAKsrC,KAAK9wB,MAAM,GAEhB,IAAI0J,EACH8T,EAAQp4B,EAAEgzB,MAAM5yB,KAAKg4B,MAAOh4B,MAC5B8hB,EAAW9hB,KAAKsrC,KAAK3Y,OAAOrd,WAAWkZ,GAAGxuB,KAAK8hB,UAC/CC,EAAO/hB,KAAKsrC,KAAK3Y,OAAOrd,WAAWkZ,GAAGxuB,KAAK+hB,MAC3CgqB,EAAW/rC,KAAKsrC,KAAKhzB,SAASszB,UAC9BI,EAAWhsC,KAAKsrC,KAAKhzB,SAASqzB,WAE3B3rC,KAAKsrC,KAAKhwB,YAActb,KAAK8hB,WAI7BkqB,IACH9nB,EAAOlkB,KAAKsrC,KAAKjJ,YAAYriC,KAAK8hB,UAAY9hB,KAAKsrC,KAAKjJ,YAAYriC,KAAK+hB,MACzED,EAASoG,IAAItoB,EAAE2kC,QAAQuH,UAAU7lB,IAAK+R,GACpCvf,IAAK,CAAEyL,KAAQA,EAAO,OACtBxE,SAAS,6BACTA,SAASssB,IAGRD,GACHhqB,EAAKmG,IAAItoB,EAAE2kC,QAAQuH,UAAU7lB,IAAK+R,GAChCtY,SAAS,4BACTA,SAASqsB,MAIbX,EAAQ/rC,UAAU24B,MAAQ,SAASpW,GAClChiB,EAAEgiB,EAAES,QAAQ5J,IAAK,CAAEyL,KAAQ,KACzBG,YAAY,6CACZA,YAAYrkB,KAAKsrC,KAAKhzB,SAASszB,WAC/BvnB,YAAYrkB,KAAKsrC,KAAKhzB,SAASqzB,YACjC3rC,KAAKsrC,KAAK9G,mBAOX4G,EAAQ/rC,UAAUmI,QAAU,WAC3B,IAAI62B,EAAS2F,EAEb,IAAK3F,KAAWr+B,KAAK4oC,SACpB5oC,KAAKsrC,KAAKhkC,SAAShF,IAAI+7B,EAASr+B,KAAK4oC,SAASvK,IAE/C,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQ8M,QAAUA,EA/G/C,CAiHE1sC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UAWzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAO/B,IAAI6qC,EAAW,SAASrE,GAMvB5nC,KAAK6nC,MAAQD,EAMb5nC,KAAKksC,MAAQ,KASblsC,KAAKmsC,MAAQ,EAMbnsC,KAAKosC,SAAW,EAMhBpsC,KAAKqsC,SAAU,EAOfrsC,KAAK88B,UAAY,CAChBmM,uBAAwBrpC,EAAEgzB,MAAM,SAAShR,GACpCA,EAAEliB,WAAiC,aAApBkiB,EAAEoiB,SAASv3B,KACzBzM,KAAK6nC,MAAMvvB,SAASyW,SACvB/uB,KAAKqqC,OAELrqC,KAAKwkB,OAEI5C,EAAEliB,WAAiC,aAApBkiB,EAAEoiB,SAASv3B,MAAuBzM,KAAKqsC,UAGhErsC,KAAKmsC,MAAQ,IAEZnsC,MACHgoC,2BAA4BpoC,EAAEgzB,MAAM,SAAShR,GACxCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAASyW,UACtC/uB,KAAKqqC,QAEJrqC,MACHssC,oBAAqB1sC,EAAEgzB,MAAM,SAAShR,EAAGvE,EAAGqT,GACvC9O,EAAEliB,WACLM,KAAKqqC,KAAKhtB,EAAGqT,IAEZ1wB,MACHusC,oBAAqB3sC,EAAEgzB,MAAM,SAAShR,GACjCA,EAAEliB,WACLM,KAAKwkB,QAEJxkB,MACHwsC,yBAA0B5sC,EAAEgzB,MAAM,WAC7B5yB,KAAK6nC,MAAMvvB,SAASm0B,oBAAsBzsC,KAAK6nC,MAAMtlB,GAAG,aAC3DviB,KAAK0sC,SAEJ1sC,MACH2sC,0BAA2B/sC,EAAEgzB,MAAM,WAC9B5yB,KAAK6nC,MAAMvvB,SAASm0B,oBAAsBzsC,KAAK6nC,MAAMtlB,GAAG,aAC3DviB,KAAKqqC,QAEJrqC,MACH4sC,sBAAuBhtC,EAAEgzB,MAAM,WAC1B5yB,KAAK6nC,MAAMvvB,SAASm0B,oBAAsBzsC,KAAK6nC,MAAMtlB,GAAG,aAC3DviB,KAAK0sC,SAEJ1sC,MACH6sC,oBAAqBjtC,EAAEgzB,MAAM,WACxB5yB,KAAK6nC,MAAMvvB,SAASm0B,oBACvBzsC,KAAKqqC,QAEJrqC,OAIJA,KAAK6nC,MAAMvgC,SAAS3F,GAAG3B,KAAK88B,WAG5B98B,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAI+rC,EAASpP,SAAU78B,KAAK6nC,MAAM5nC,UAOjEgsC,EAASpP,SAAW,CACnB9N,UAAU,EACV+d,gBAAiB,IACjBL,oBAAoB,EACpBM,eAAe,GAQhBd,EAAS5sC,UAAU2tC,MAAQ,SAASxyB,GACnCxa,KAAKksC,MAAQxtC,EAAO6G,WACnB3F,EAAEgzB,MAAM5yB,KAAKgtC,MAAOhtC,KAAMwa,GAC1Bxa,KAAKosC,UAAY3nB,KAAKC,MAAM1kB,KAAKitC,OAASjtC,KAAKosC,UAAY,GAAKpsC,KAAKitC,QAGlEjtC,KAAK6nC,MAAMtlB,GAAG,gBAAkBre,EAASq0B,QAG7Cv4B,KAAK6nC,MAAM9lB,KAAKvH,GAASxa,KAAK6nC,MAAMvvB,SAASy0B,gBAO9Cd,EAAS5sC,UAAU4tC,KAAO,WACzB,OAAO,IAAIphC,MAAOke,UAAY/pB,KAAKmsC,OASpCF,EAAS5sC,UAAUgrC,KAAO,SAASjlC,EAASoV,GAC3C,IAAI0yB,EAECltC,KAAK6nC,MAAMtlB,GAAG,aAClBviB,KAAK6nC,MAAMrE,MAAM,YAGlBp+B,EAAUA,GAAWpF,KAAK6nC,MAAMvvB,SAASw0B,gBAIzCI,EAAUzoB,KAAKiC,IAAI1mB,KAAKmsC,OAASnsC,KAAKosC,UAAYhnC,GAAUA,GAExDpF,KAAKqsC,SAERrsC,KAAKmsC,MAAQnsC,KAAKitC,OAClBjtC,KAAKqsC,SAAU,GAGf3tC,EAAO2G,aAAarF,KAAKksC,OAI1BlsC,KAAKmsC,OAASnsC,KAAKitC,OAAS7nC,EAAU8nC,EAEtCltC,KAAKosC,SAAWhnC,EAChBpF,KAAKksC,MAAQxtC,EAAO6G,WAAW3F,EAAEgzB,MAAM5yB,KAAKgtC,MAAOhtC,KAAMwa,GAAQpV,EAAU8nC,IAO5EjB,EAAS5sC,UAAUmlB,KAAO,WACrBxkB,KAAK6nC,MAAMtlB,GAAG,cAEjBviB,KAAKmsC,MAAQ,EACbnsC,KAAKqsC,SAAU,EAEf3tC,EAAO2G,aAAarF,KAAKksC,OACzBlsC,KAAK6nC,MAAMlE,MAAM,cAQnBsI,EAAS5sC,UAAUqtC,MAAQ,WACtB1sC,KAAK6nC,MAAMtlB,GAAG,cAAgBviB,KAAKqsC,UAEtCrsC,KAAKmsC,MAAQnsC,KAAKitC,OAClBjtC,KAAKqsC,SAAU,EAEf3tC,EAAO2G,aAAarF,KAAKksC,SAO3BD,EAAS5sC,UAAUmI,QAAU,WAC5B,IAAI62B,EAAS2F,EAIb,IAAK3F,KAFLr+B,KAAKwkB,OAEWxkB,KAAK88B,UACpB98B,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAEjD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQvP,SAAWkd,EA7NhD,CA+NEvtC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAC/B,aAOA,IAAI+rC,EAAa,SAASvF,GAMzB5nC,KAAK6nC,MAAQD,EAOb5nC,KAAKotC,cAAe,EAOpBptC,KAAKqtC,OAAS,GAOdrtC,KAAKstC,UAAY,GAOjBttC,KAAKutC,WAAa,GAMlBvtC,KAAKsH,SAAWtH,KAAK6nC,MAAMvgC,SAO3BtH,KAAKwtC,WAAa,CACjBzrB,KAAM/hB,KAAK6nC,MAAM9lB,KACjByK,KAAMxsB,KAAK6nC,MAAMrb,KACjByB,GAAIjuB,KAAK6nC,MAAM5Z,IAQhBjuB,KAAK88B,UAAY,CAChBqN,wBAAyBvqC,EAAEgzB,MAAM,SAAShR,GACrCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAASm1B,UACtCztC,KAAKutC,WAAWrrC,KAAK,eAAiBlC,KAAK6nC,MAAMvvB,SAASo1B,SAAW,KACpE9tC,EAAEgiB,EAAEvD,SAAS8B,KAAK,cAAcuX,QAAQ,cAAc/wB,KAAK,YAAc,WAEzE3G,MACH2tC,qBAAsB/tC,EAAEgzB,MAAM,SAAShR,GAClCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAASm1B,UACtCztC,KAAKutC,WAAW/qC,OAAOof,EAAEmM,SAAU,EAAG/tB,KAAKutC,WAAWpS,QAErDn7B,MACH4tC,sBAAuBhuC,EAAEgzB,MAAM,SAAShR,GACnCA,EAAEliB,WAAaM,KAAK6nC,MAAMvvB,SAASm1B,UACtCztC,KAAKutC,WAAW/qC,OAAOof,EAAEmM,SAAU,IAElC/tB,MACHipC,uBAAwBrpC,EAAEgzB,MAAM,SAAShR,GACpCA,EAAEliB,WAAgC,YAAnBkiB,EAAEoiB,SAASv3B,MAC7BzM,KAAK6tC,QAEJ7tC,MACHgoC,2BAA4BpoC,EAAEgzB,MAAM,SAAShR,GACxCA,EAAEliB,YAAcM,KAAKotC,eACxBptC,KAAK6nC,MAAMp/B,QAAQ,aAAc,KAAM,cACvCzI,KAAK6+B,aACL7+B,KAAKkiB,SACLliB,KAAK6tC,OACL7tC,KAAKotC,cAAe,EACpBptC,KAAK6nC,MAAMp/B,QAAQ,cAAe,KAAM,gBAEvCzI,MACHkqC,yBAA0BtqC,EAAEgzB,MAAM,SAAShR,GACtCA,EAAEliB,WAAaM,KAAKotC,eACvBptC,KAAK6nC,MAAMp/B,QAAQ,UAAW,KAAM,cACpCzI,KAAKkiB,SACLliB,KAAK6tC,OACL7tC,KAAK6nC,MAAMp/B,QAAQ,YAAa,KAAM,gBAErCzI,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAIitC,EAAWtQ,SAAU78B,KAAK6nC,MAAM5nC,SAGlED,KAAKsH,SAAS3F,GAAG3B,KAAK88B,YAQvBqQ,EAAWtQ,SAAW,CACrBrxB,KAAK,EACLsiC,QAAS,CACR,8CACA,2CAEDC,UAAU,EACVC,WAAY,2CACZC,cAAc,EACdC,kBAAmB,UACnBC,SAAU,CACT,WACA,YAEDC,QAAS,EACTV,SAAU,UACVW,UAAW,WACXC,MAAM,EACNC,UAAU,EACVd,UAAU,EACVe,WAAW,EACXC,eAAe,GAOhBtB,EAAW9tC,UAAUw/B,WAAa,WACjC,IAAI6P,EACHp2B,EAAWtY,KAAK6nC,MAAMvvB,SAuDvB,IAAKo2B,KApDL1uC,KAAKstC,UAAUqB,WAAar2B,EAAS21B,aAAeruC,EAAE0Y,EAAS21B,cAC5DruC,EAAE,SAAS8f,SAASpH,EAAS41B,mBAAmBvuB,SAAS3f,KAAKsH,WAAWoY,SAAS,YAErF1f,KAAKstC,UAAUsB,UAAYhvC,EAAE,IAAM0Y,EAAS01B,WAAa,KACvDtuB,SAASpH,EAAS61B,SAAS,IAC3BpjB,KAAKzS,EAASw1B,QAAQ,IACtBziB,UAAUrrB,KAAKstC,UAAUqB,WACzBhtC,GAAG,QAAS/B,EAAEgzB,MAAM,SAAShR,GAC7B5hB,KAAKwsB,KAAKlU,EAASy1B,WACjB/tC,OACJA,KAAKstC,UAAUuB,MAAQjvC,EAAE,IAAM0Y,EAAS01B,WAAa,KACnDtuB,SAASpH,EAAS61B,SAAS,IAC3BpjB,KAAKzS,EAASw1B,QAAQ,IACtBnuB,SAAS3f,KAAKstC,UAAUqB,WACxBhtC,GAAG,QAAS/B,EAAEgzB,MAAM,SAAShR,GAC7B5hB,KAAK+hB,KAAKzJ,EAASy1B,WACjB/tC,OAGCsY,EAASm1B,WACbztC,KAAKutC,WAAa,CAAE3tC,EAAE,0BACpB8f,SAASpH,EAASo1B,UAClBzkC,OAAOrJ,EAAE,WACT2D,KAAK,eAGRvD,KAAKstC,UAAUwB,WAAax2B,EAASm2B,cAAgB7uC,EAAE0Y,EAASm2B,eAC7D7uC,EAAE,SAAS8f,SAASpH,EAAS+1B,WAAW1uB,SAAS3f,KAAKsH,WAAWoY,SAAS,YAE7E1f,KAAKstC,UAAUwB,UAAUntC,GAAG,QAAS,SAAU/B,EAAEgzB,MAAM,SAAShR,GAC/D,IAAIrf,EAAQ3C,EAAEgiB,EAAES,QAAQuI,SAASrI,GAAGviB,KAAKstC,UAAUwB,WAChDlvC,EAAEgiB,EAAES,QAAQ9f,QAAU3C,EAAEgiB,EAAES,QAAQuI,SAASroB,QAE9Cqf,EAAE3O,iBAEFjT,KAAKiuB,GAAG1rB,EAAO+V,EAASk2B,YACtBxuC,OAgBcA,KAAKwtC,WACrBxtC,KAAK6nC,MAAM6G,GAAY9uC,EAAEgzB,MAAM5yB,KAAK0uC,GAAW1uC,OAQjDmtC,EAAW9tC,UAAUmI,QAAU,WAC9B,IAAI62B,EAAS0Q,EAAS/K,EAAU0K,EAAUp2B,EAG1C,IAAK+lB,KAFL/lB,EAAWtY,KAAK6nC,MAAMvvB,SAENtY,KAAK88B,UACpB98B,KAAKsH,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAE3C,IAAK0Q,KAAW/uC,KAAKstC,UACJ,cAAZyB,GAA2Bz2B,EAAS21B,aACvCjuC,KAAKstC,UAAUyB,GAAShkB,KAAK,IAE7B/qB,KAAKstC,UAAUyB,GAASjvB,SAG1B,IAAK4uB,KAAY1uC,KAAKgvC,SACrBhvC,KAAK6nC,MAAM6G,GAAY1uC,KAAKwtC,WAAWkB,GAExC,IAAK1K,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAQ3DmJ,EAAW9tC,UAAU6iB,OAAS,WAC7B,IAAIthB,EAAGuoB,EACN8lB,EAAQjvC,KAAK6nC,MAAM/F,SAAStjC,OAAS,EACrC0wC,EAAQD,EAAQjvC,KAAK6nC,MAAM3+B,QAAQ1K,OACnCkkC,EAAU1iC,KAAK6nC,MAAMnF,SAAQ,GAC7BpqB,EAAWtY,KAAK6nC,MAAMvvB,SACtB0pB,EAAO1pB,EAASwmB,QAAUxmB,EAASknB,WAAalnB,EAASm1B,SACtD,EAAIn1B,EAASi2B,UAAYj2B,EAASpP,MAMtC,GAJyB,SAArBoP,EAAS81B,UACZ91B,EAAS81B,QAAU3pB,KAAKiC,IAAIpO,EAAS81B,QAAS91B,EAASpP,QAGpDoP,EAASg2B,MAA4B,QAApBh2B,EAAS81B,QAG7B,IAFApuC,KAAKqtC,OAAS,GAETzsC,EAAIquC,EAAO9lB,EAAI,EAAUvoB,EAAIsuC,EAAOtuC,IAAK,CAC7C,GAASohC,GAAL7Y,GAAmB,IAANA,EAAS,CAKzB,GAJAnpB,KAAKqtC,OAAOnrC,KAAK,CAChBspB,MAAO/G,KAAKiC,IAAIgc,EAAS9hC,EAAIquC,GAC7BhpB,IAAKrlB,EAAIquC,EAAQjN,EAAO,IAErBvd,KAAKiC,IAAIgc,EAAS9hC,EAAIquC,KAAWvM,EACpC,MAEDvZ,EAAI,EAAG,EAERA,GAAKnpB,KAAK6nC,MAAMpC,QAAQzlC,KAAK6nC,MAAMtG,SAAS3gC,MAU/CusC,EAAW9tC,UAAUwuC,KAAO,WAC3B,IAAIjJ,EACHtsB,EAAWtY,KAAK6nC,MAAMvvB,SACtBnF,EAAWnT,KAAK6nC,MAAM3+B,QAAQ1K,QAAU8Z,EAASpP,MACjD3G,EAAQvC,KAAK6nC,MAAMtG,SAASvhC,KAAK6nC,MAAMvsB,WACvC7D,EAAOa,EAASb,MAAQa,EAASymB,OAElC/+B,KAAKstC,UAAUqB,UAAU7nB,YAAY,YAAaxO,EAAS9M,KAAO2H,GAE9DmF,EAAS9M,MACZxL,KAAKstC,UAAUsB,UAAU9nB,YAAY,YAAarP,GAAQlV,GAASvC,KAAK6nC,MAAMpF,SAAQ,IACtFziC,KAAKstC,UAAUuB,MAAM/nB,YAAY,YAAarP,GAAQlV,GAASvC,KAAK6nC,MAAMnF,SAAQ,KAGnF1iC,KAAKstC,UAAUwB,UAAUhoB,YAAY,YAAaxO,EAASg2B,MAAQn7B,GAE/DmF,EAASg2B,OACZ1J,EAAa5kC,KAAKqtC,OAAO7uC,OAASwB,KAAKstC,UAAUwB,UAAUx5B,WAAW9W,OAElE8Z,EAASm1B,UAA2B,IAAf7I,EACxB5kC,KAAKstC,UAAUwB,UAAU/jB,KAAK/qB,KAAKutC,WAAWzT,KAAK,KAC5B,EAAb8K,EACV5kC,KAAKstC,UAAUwB,UAAU7lC,OAAO,IAAI7J,MAAMwlC,EAAa,GAAG9K,KAAK95B,KAAKutC,WAAW,KACrE3I,EAAa,GACvB5kC,KAAKstC,UAAUwB,UAAUx5B,WAAWhW,MAAMslC,GAAY9kB,SAGvD9f,KAAKstC,UAAUwB,UAAU3uB,KAAK,WAAWkE,YAAY,UACrDrkB,KAAKstC,UAAUwB,UAAUx5B,WAAWkZ,GAAG5uB,EAAEkhB,QAAQ9gB,KAAKsb,UAAWtb,KAAKqtC,SAAS3tB,SAAS,YAS1FytB,EAAW9tC,UAAUynC,UAAY,SAASviC,GACzC,IAAI+T,EAAWtY,KAAK6nC,MAAMvvB,SAE1B/T,EAAMwN,KAAO,CACZxP,MAAO3C,EAAEkhB,QAAQ9gB,KAAKsb,UAAWtb,KAAKqtC,QACtC1G,MAAO3mC,KAAKqtC,OAAO7uC,OACnBwjC,KAAM1pB,IAAaA,EAASwmB,QAAUxmB,EAASknB,WAAalnB,EAASm1B,SAClE,EAAIn1B,EAASi2B,UAAYj2B,EAASpP,SASvCikC,EAAW9tC,UAAUic,QAAU,WAC9B,IAAIA,EAAUtb,KAAK6nC,MAAMtG,SAASvhC,KAAK6nC,MAAMvsB,WAC7C,OAAO1b,EAAEukC,KAAKnkC,KAAKqtC,OAAQztC,EAAEgzB,MAAM,SAAS7gB,EAAMxP,GACjD,OAAOwP,EAAKyZ,OAASlQ,GAAWvJ,EAAKkU,KAAO3K,GAC1Ctb,OAAOm7B,OAQXgS,EAAW9tC,UAAU8vC,YAAc,SAASC,GAC3C,IAAIrhB,EAAUvvB,EACb8Z,EAAWtY,KAAK6nC,MAAMvvB,SAavB,MAXwB,QAApBA,EAAS81B,SACZrgB,EAAWnuB,EAAEkhB,QAAQ9gB,KAAKsb,UAAWtb,KAAKqtC,QAC1C7uC,EAASwB,KAAKqtC,OAAO7uC,OACrB4wC,IAAcrhB,IAAaA,EAC3BA,EAAW/tB,KAAKqtC,QAAStf,EAAWvvB,EAAUA,GAAUA,GAAQgtB,QAEhEuC,EAAW/tB,KAAK6nC,MAAMtG,SAASvhC,KAAK6nC,MAAMvsB,WAC1C9c,EAASwB,KAAK6nC,MAAM3+B,QAAQ1K,OAC5B4wC,EAAYrhB,GAAYzV,EAAS81B,QAAUrgB,GAAYzV,EAAS81B,SAG1DrgB,GAQRof,EAAW9tC,UAAU0iB,KAAO,SAASvH,GACpC5a,EAAEgzB,MAAM5yB,KAAKwtC,WAAWvf,GAAIjuB,KAAK6nC,MAAjCjoC,CAAwCI,KAAKmvC,aAAY,GAAO30B,IAQjE2yB,EAAW9tC,UAAUmtB,KAAO,SAAShS,GACpC5a,EAAEgzB,MAAM5yB,KAAKwtC,WAAWvf,GAAIjuB,KAAK6nC,MAAjCjoC,CAAwCI,KAAKmvC,aAAY,GAAQ30B,IAUlE2yB,EAAW9tC,UAAU4uB,GAAK,SAASF,EAAUvT,EAAO60B,GACnD,IAAI7wC,GAEC6wC,GAAYrvC,KAAKqtC,OAAO7uC,QAC5BA,EAASwB,KAAKqtC,OAAO7uC,OACrBoB,EAAEgzB,MAAM5yB,KAAKwtC,WAAWvf,GAAIjuB,KAAK6nC,MAAjCjoC,CAAwCI,KAAKqtC,QAAStf,EAAWvvB,EAAUA,GAAUA,GAAQgtB,MAAOhR,IAEpG5a,EAAEgzB,MAAM5yB,KAAKwtC,WAAWvf,GAAIjuB,KAAK6nC,MAAjCjoC,CAAwCmuB,EAAUvT,IAIpD5a,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQ6O,WAAaA,EA5YlD,CA8YEzuC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UASzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAC/B,aAOA,IAAIkuC,EAAO,SAAS1H,GAMnB5nC,KAAK6nC,MAAQD,EAOb5nC,KAAKuvC,QAAU,GAMfvvC,KAAKsH,SAAWtH,KAAK6nC,MAAMvgC,SAO3BtH,KAAK88B,UAAY,CAChBkL,2BAA4BpoC,EAAEgzB,MAAM,SAAShR,GACxCA,EAAEliB,WAAmD,YAAtCM,KAAK6nC,MAAMvvB,SAASmnB,eACtC7/B,EAAElB,GAAQ+J,QAAQ,8BAEjBzI,MACHmqC,wBAAyBvqC,EAAEgzB,MAAM,SAAShR,GACzC,GAAIA,EAAEliB,UAAW,CAChB,IAAI2a,EAAOza,EAAEgiB,EAAEvD,SAAS8B,KAAK,eAAeuX,QAAQ,eAAe/wB,KAAK,aAExE,IAAK0T,EACJ,OAGDra,KAAKuvC,QAAQl1B,GAAQuH,EAAEvD,UAEtBre,MACHipC,uBAAwBrpC,EAAEgzB,MAAM,SAAShR,GACxC,GAAIA,EAAEliB,WAAiC,aAApBkiB,EAAEoiB,SAASv3B,KAAqB,CAClD,IAAI6O,EAAUtb,KAAK6nC,MAAM3+B,MAAMlJ,KAAK6nC,MAAMtG,SAASvhC,KAAK6nC,MAAMvsB,YAC7DjB,EAAOza,EAAEkpB,IAAI9oB,KAAKuvC,QAAS,SAASrvB,EAAM7F,GACzC,OAAO6F,IAAS5E,EAAUjB,EAAO,OAC/Byf,OAEJ,IAAKzf,GAAQ3b,EAAOgM,SAAS2P,KAAK/a,MAAM,KAAO+a,EAC9C,OAGD3b,EAAOgM,SAAS2P,KAAOA,IAEtBra,OAIJA,KAAK6nC,MAAM5nC,QAAUL,EAAEM,OAAO,GAAIovC,EAAKzS,SAAU78B,KAAK6nC,MAAM5nC,SAG5DD,KAAKsH,SAAS3F,GAAG3B,KAAK88B,WAGtBl9B,EAAElB,GAAQiD,GAAG,4BAA6B/B,EAAEgzB,MAAM,SAAShR,GAC1D,IAAIvH,EAAO3b,EAAOgM,SAAS2P,KAAKhP,UAAU,GACzCnC,EAAQlJ,KAAK6nC,MAAMlV,OAAOrd,WAC1ByY,EAAW/tB,KAAKuvC,QAAQl1B,IAASnR,EAAM3G,MAAMvC,KAAKuvC,QAAQl1B,SA7E7D,IA+EM0T,GAA0BA,IAAa/tB,KAAK6nC,MAAMvsB,WAItDtb,KAAK6nC,MAAM5Z,GAAGjuB,KAAK6nC,MAAMtG,SAASxT,IAAW,GAAO,IAClD/tB,QAOJsvC,EAAKzS,SAAW,CACf2S,iBAAiB,GAOlBF,EAAKjwC,UAAUmI,QAAU,WACxB,IAAI62B,EAAS2F,EAIb,IAAK3F,KAFLz+B,EAAElB,GAAQ4D,IAAI,6BAEEtC,KAAK88B,UACpB98B,KAAK6nC,MAAMvgC,SAAShF,IAAI+7B,EAASr+B,KAAK88B,UAAUuB,IAEjD,IAAK2F,KAAYrvB,OAAOyzB,oBAAoBpoC,MAClB,mBAAlBA,KAAKgkC,KAA4BhkC,KAAKgkC,GAAY,OAI3DpkC,EAAEO,GAAGonC,YAAYE,YAAYnJ,QAAQgR,KAAOA,EAhH5C,CAkHE5wC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF,UAWzC,SAAUtE,EAAGlB,EAAQwF,EAAU9C,GAE/B,IAAIqK,EAAQ7L,EAAE,aAAamnB,IAAI,GAAGtb,MACjCxI,EAAW,kBAAkBie,MAAM,KACnCpf,EAAS,CACR0b,WAAY,CACXyI,IAAK,CACJtI,iBAAkB,sBAClBD,cAAe,gBACfD,YAAa,iBACbD,WAAY,kBAGdsuB,UAAW,CACV7lB,IAAK,CACJwpB,gBAAiB,qBACjBC,aAAc,eACdC,WAAY,gBACZ7D,UAAW,kBAId8D,EACgB,WACd,QAASpiB,EAAK,cAFhBoiB,EAIkB,WAChB,QAASpiB,EAAK,gBALhBoiB,EAUgB,WACd,QAASpiB,EAAK,cAIjB,SAASA,EAAKwW,EAAU6L,GACvB,IAAI1e,GAAS,EACZ+d,EAAQlL,EAAShjC,OAAO,GAAG8uC,cAAgB9L,EAAS1kC,MAAM,GAS3D,OAPAM,EAAEe,MAAMqjC,EAAW,IAAM/gC,EAAS62B,KAAKoV,EAAQ,KAAOA,GAAOhuB,MAAM,KAAM,SAAStgB,EAAGojC,GACpF,GAAIv4B,EAAMu4B,KAAc5iC,EAEvB,OADA+vB,GAAS0e,GAAW7L,GACb,IAIF7S,EAGR,SAAS0e,EAAS7L,GACjB,OAAOxW,EAAKwW,GAAU,IAvBL,WACf,QAASxW,EAAK,eAyBboiB,KAEHhwC,EAAE2kC,QAAQ/mB,WAAa,IAAIqd,OAAOgV,EAAS,eAC3CjwC,EAAE2kC,QAAQ/mB,WAAWyI,IAAMnkB,EAAO0b,WAAWyI,IAAKrmB,EAAE2kC,QAAQ/mB,aAGzDoyB,MAEHhwC,EAAE2kC,QAAQuH,UAAY,IAAIjR,OAAOgV,EAAS,cAC1CjwC,EAAE2kC,QAAQuH,UAAU7lB,IAAMnkB,EAAOgqC,UAAU7lB,IAAKrmB,EAAE2kC,QAAQuH,YAGvD8D,MAEHhwC,EAAE2kC,QAAQvW,UAAY,IAAI6M,OAAOgV,EAAS,cAC1CjwC,EAAE2kC,QAAQU,YAAc2K,KAtEzB,CAyEElxC,OAAOgpC,OAAShpC,OAAOI,OAAQJ,OAAQwF;ACv3G1C,aAEA,IAAI6rC,gBAAkBnwC,EAAE,QAAQ+G,KAAK,QACjCqpC,QAAUpwC,EAAE,QAAQmB,KAAK,YACzBkvC,YAAcrwC,EAAE,QAAQmB,KAAK,gBAEjCnB,EAAEsE,UAAUgsC,MAAM,WAEjBC,SAASC,SACTD,SAASh4B,QACTg4B,SAASrpB,cACTqpB,SAASE,mBAIVzwC,EAAElB,QAAQiD,GAAG,OAAQ,cAIrB/B,EAAElB,QAAQ4xC,OAAO,cAIjB1wC,EAAElB,QAAQ2qC,OAAO,WAEZ3qC,OAAO6xC,WAAW,sBAAsBvtC,UAM7C,IAAImtC,SAAW,CAEdC,OAAQ,WAEP,IAAIvyB,EAAMje,EAAE,cAEM,GAAdie,EAAIrf,QAMRqf,EAAI0pB,YAAY,CACf9vB,MAAM,EACN62B,MAAM,EACNhoB,OAAQ,EACRwY,QAAQ,EACRkK,YAAY,EACZ3J,aAAc,EACdqB,iBAAiB,EACjBoM,gBAAiB,IACjBhN,WAAY,CACX0Q,EAAG,CACFzhB,UAAU,EACVvjB,KAAK,EACLtC,MAAO,EACPolC,MAAM,GAEPmC,IAAK,CACJ1hB,UAAU,EACVvjB,KAAK,EACLtC,MAAO,EACPolC,MAAM,OAQVn2B,MAAO,WAEN,IAAI0F,EAAMje,EAAE,oFAEM,GAAdie,EAAIrf,QAMRqf,EAAIrG,YAKL64B,eAAgB,WAEf,IAAIxyB,EAAMje,EAAE,0BAEM,GAAdie,EAAIrf,QAMRqf,EAAIwyB,eAAe,CAClBxnC,KAAM,gBACNI,OAAQ,oBACRG,SAAS,EACTsG,gBAAiB,IACjBnE,QAAS,cACTuC,OAAQ,yBAMVgZ,YAAa,WAEZ,IAAI4pB,EAAS,mBAGK,GAFR9wC,EAAE8wC,GAEJlyC,QAMRoB,EAAE,QAAQ+B,GAAG,QAAS+uC,EAAQ,SAASnsC,GAEtCA,EAAM0O,iBACN,IAAI09B,EAAY/wC,EAAEI,MACd4wC,EAAkB,YAUtB,GAPID,EAAUhqC,KAAK,4BAElBiqC,EAAkBD,EAAU5vC,KAAK,sBAK9B4vC,EAAUhqC,KAAK,8BAA+B,CAEjD,IACI/C,EADsB+sC,EAAU5vC,KAAK,yBACXmgB,MAAM,KAEpCthB,EAAEe,KAAKiD,EAAK,SAASrB,EAAOtB,GAE3BrB,EAAE,IAAMqB,GAAO6lB,YAAY8pB,UAM5BD,EAAU7pB,YAAY8pB","file":"scripts.min.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\n'use strict';\n\n(function() {\n\n\tvar method;\n\tvar noop = function() {};\n\tvar methods = [\n\t\t'assert',\n\t\t'clear',\n\t\t'count',\n\t\t'debug',\n\t\t'dir',\n\t\t'dirxml',\n\t\t'error',\n\t\t'exception',\n\t\t'group',\n\t\t'groupCollapsed',\n\t\t'groupEnd',\n\t\t'info',\n\t\t'log',\n\t\t'markTimeline',\n\t\t'profile',\n\t\t'profileEnd',\n\t\t'table',\n\t\t'time',\n\t\t'timeEnd',\n\t\t'timeline',\n\t\t'timelineEnd',\n\t\t'timeStamp',\n\t\t'trace',\n\t\t'warn'\n\t];\n\tvar length = methods.length;\n\tvar console = (window.console = window.console || {});\n\n\twhile (length--) {\n\n\t\tmethod = methods[length];\n\n\t\t// Only stub undefined methods.\n\t\tif (!console[method]) {\n\n\t\t\tconsole[method] = noop;\n\n\t\t}\n\n\t}\n\n})();\n","/*!\n * Infinite Scroll PACKAGED v3.0.4\n * Automatically add next page\n *\n * Licensed GPLv3 for open source use\n * or Infinite Scroll Commercial License for commercial use\n *\n * https://infinite-scroll.com\n * Copyright 2018 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v2.0.1\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'jquery-bridget/jquery-bridget',[ 'jquery' ], function( jQuery ) {\n      return factory( window, jQuery );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('jquery')\n    );\n  } else {\n    // browser global\n    window.jQueryBridget = factory(\n      window,\n      window.jQuery\n    );\n  }\n\n}( window, function factory( window, jQuery ) {\n'use strict';\n\n// ----- utils ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar console = window.console;\nvar logError = typeof console == 'undefined' ? function() {} :\n  function( message ) {\n    console.error( message );\n  };\n\n// ----- jQueryBridget ----- //\n\nfunction jQueryBridget( namespace, PluginClass, $ ) {\n  $ = $ || jQuery || window.jQuery;\n  if ( !$ ) {\n    return;\n  }\n\n  // add option method -> $().plugin('option', {...})\n  if ( !PluginClass.prototype.option ) {\n    // option setter\n    PluginClass.prototype.option = function( opts ) {\n      // bail out if not an object\n      if ( !$.isPlainObject( opts ) ){\n        return;\n      }\n      this.options = $.extend( true, this.options, opts );\n    };\n  }\n\n  // make jQuery plugin\n  $.fn[ namespace ] = function( arg0 /*, arg1 */ ) {\n    if ( typeof arg0 == 'string' ) {\n      // method call $().plugin( 'methodName', { options } )\n      // shift arguments by 1\n      var args = arraySlice.call( arguments, 1 );\n      return methodCall( this, arg0, args );\n    }\n    // just $().plugin({ options })\n    plainCall( this, arg0 );\n    return this;\n  };\n\n  // $().plugin('methodName')\n  function methodCall( $elems, methodName, args ) {\n    var returnValue;\n    var pluginMethodStr = '$().' + namespace + '(\"' + methodName + '\")';\n\n    $elems.each( function( i, elem ) {\n      // get instance\n      var instance = $.data( elem, namespace );\n      if ( !instance ) {\n        logError( namespace + ' not initialized. Cannot call methods, i.e. ' +\n          pluginMethodStr );\n        return;\n      }\n\n      var method = instance[ methodName ];\n      if ( !method || methodName.charAt(0) == '_' ) {\n        logError( pluginMethodStr + ' is not a valid method' );\n        return;\n      }\n\n      // apply method, get return value\n      var value = method.apply( instance, args );\n      // set return value if value is returned, use only first value\n      returnValue = returnValue === undefined ? value : returnValue;\n    });\n\n    return returnValue !== undefined ? returnValue : $elems;\n  }\n\n  function plainCall( $elems, options ) {\n    $elems.each( function( i, elem ) {\n      var instance = $.data( elem, namespace );\n      if ( instance ) {\n        // set options & init\n        instance.option( options );\n        instance._init();\n      } else {\n        // initialize new instance\n        instance = new PluginClass( elem, options );\n        $.data( elem, namespace, instance );\n      }\n    });\n  }\n\n  updateJQuery( $ );\n\n}\n\n// ----- updateJQuery ----- //\n\n// set $.bridget for v1 backwards compatibility\nfunction updateJQuery( $ ) {\n  if ( !$ || ( $ && $.bridget ) ) {\n    return;\n  }\n  $.bridget = jQueryBridget;\n}\n\nupdateJQuery( jQuery || window.jQuery );\n\n// -----  ----- //\n\nreturn jQueryBridget;\n\n}));\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'desandro-matches-selector/matches-selector',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n\n/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n// core\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/core',[\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n    ], function( EvEmitter, utils) {\n      return factory( window, EvEmitter, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.InfiniteScroll = factory(\n      window,\n      window.EvEmitter,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, EvEmitter, utils ) {\n\nvar jQuery = window.jQuery;\n// internal store of all InfiniteScroll intances\nvar instances = {};\n\nfunction InfiniteScroll( element, options ) {\n  var queryElem = utils.getQueryElement( element );\n\n  if ( !queryElem ) {\n    console.error( 'Bad element for InfiniteScroll: ' + ( queryElem || element ) );\n    return;\n  }\n  element = queryElem;\n  // do not initialize twice on same element\n  if ( element.infiniteScrollGUID ) {\n    var instance = instances[ element.infiniteScrollGUID ];\n    instance.option( options );\n    return instance;\n  }\n\n  this.element = element;\n  // options\n  this.options = utils.extend( {}, InfiniteScroll.defaults );\n  this.option( options );\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  this.create();\n}\n\n// defaults\nInfiniteScroll.defaults = {\n  // path: null,\n  // hideNav: null,\n  // debug: false,\n};\n\n// create & destroy methods\nInfiniteScroll.create = {};\nInfiniteScroll.destroy = {};\n\nvar proto = InfiniteScroll.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n// --------------------------  -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n\nproto.create = function() {\n  // create core\n  // add id for InfiniteScroll.data\n  var id = this.guid = ++GUID;\n  this.element.infiniteScrollGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // properties\n  this.pageIndex = 1; // default to first page\n  this.loadCount = 0;\n  this.updateGetPath();\n  // bail if getPath not set, or returns falsey #776\n  var hasPath = this.getPath && this.getPath();\n  if ( !hasPath ) {\n    console.error('Disabling InfiniteScroll');\n    return;\n  }\n  this.updateGetAbsolutePath();\n  this.log( 'initialized', [ this.element.className ] );\n  this.callOnInit();\n  // create features\n  for ( var method in InfiniteScroll.create ) {\n    InfiniteScroll.create[ method ].call( this );\n  }\n};\n\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n// call onInit option, used for binding events on init\nproto.callOnInit = function() {\n  var onInit = this.options.onInit;\n  if ( onInit ) {\n    onInit.call( this, this );\n  }\n};\n\n// ----- events ----- //\n\nproto.dispatchEvent = function( type, event, args ) {\n  this.log( type, args );\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n  // trigger jQuery event\n  if ( !jQuery || !this.$element ) {\n    return;\n  }\n  // namespace jQuery event\n  type += '.infiniteScroll';\n  var $event = type;\n  if ( event ) {\n    // create jQuery event\n    var jQEvent = jQuery.Event( event );\n    jQEvent.type = type;\n    $event = jQEvent;\n  }\n  this.$element.trigger( $event, args );\n};\n\nvar loggers = {\n  initialized: function( className ) {\n    return 'on ' + className;\n  },\n  request: function( path ) {\n    return 'URL: ' + path;\n  },\n  load: function( response, path ) {\n    return ( response.title || '' ) + '. URL: ' + path;\n  },\n  error: function( error, path ) {\n    return error + '. URL: ' + path;\n  },\n  append: function( response, path, items ) {\n    return items.length + ' items. URL: ' + path;\n  },\n  last: function( response, path ) {\n    return 'URL: ' + path;\n  },\n  history: function( title, path ) {\n    return 'URL: ' + path;\n  },\n  pageIndex: function( index, origin ) {\n    return 'current page determined to be: ' + index + ' from ' + origin;\n  },\n};\n\n// log events\nproto.log = function( type, args ) {\n  if ( !this.options.debug ) {\n    return;\n  }\n  var message = '[InfiniteScroll] ' + type;\n  var logger = loggers[ type ];\n  if ( logger ) {\n    message += '. ' + logger.apply( this, args );\n  }\n  console.log( message );\n};\n\n// -------------------------- methods used amoung features -------------------------- //\n\nproto.updateMeasurements = function() {\n  this.windowHeight = window.innerHeight;\n  var rect = this.element.getBoundingClientRect();\n  this.top = rect.top + window.pageYOffset;\n};\n\nproto.updateScroller = function() {\n  var elementScroll = this.options.elementScroll;\n  if ( !elementScroll ) {\n    // default, use window\n    this.scroller = window;\n    return;\n  }\n  // if true, set to element, otherwise use option\n  this.scroller = elementScroll === true ? this.element :\n    utils.getQueryElement( elementScroll );\n  if ( !this.scroller ) {\n    throw 'Unable to find elementScroll: ' + elementScroll;\n  }\n};\n\n// -------------------------- page path -------------------------- //\n\nproto.updateGetPath = function() {\n  var optPath = this.options.path;\n  if ( !optPath ) {\n    console.error( 'InfiniteScroll path option required. Set as: ' + optPath );\n    return;\n  }\n  // function\n  var type = typeof optPath;\n  if ( type == 'function' ) {\n    this.getPath = optPath;\n    return;\n  }\n  // template string: '/pages/{{#}}.html'\n  var templateMatch = type == 'string' && optPath.match('{{#}}');\n  if ( templateMatch ) {\n    this.updateGetPathTemplate( optPath );\n    return;\n  }\n  // selector: '.next-page-selector'\n  this.updateGetPathSelector( optPath );\n};\n\nproto.updateGetPathTemplate = function( optPath ) {\n  // set getPath with template string\n  this.getPath = function() {\n    var nextIndex = this.pageIndex + 1;\n    return optPath.replace( '{{#}}', nextIndex );\n  }.bind( this );\n  // get pageIndex from location\n  // convert path option into regex to look for pattern in location\n  var regexString = optPath.replace( '{{#}}', '(\\\\d\\\\d?\\\\d?)' );\n  var templateRe = new RegExp( regexString );\n  var match = location.href.match( templateRe );\n  if ( match ) {\n    this.pageIndex = parseInt( match[1], 10 );\n    this.log( 'pageIndex', [ this.pageIndex, 'template string' ] );\n  }\n};\n\nvar pathRegexes = [\n  // WordPress & Tumblr - example.com/page/2\n  // Jekyll - example.com/page2\n  /^(.*?\\/?page\\/?)(\\d\\d?\\d?)(.*?$)/,\n  // Drupal - example.com/?page=1\n  /^(.*?\\/?\\?page=)(\\d\\d?\\d?)(.*?$)/,\n  // catch all, last occurence of a number\n  /(.*?)(\\d\\d?\\d?)(?!.*\\d)(.*?$)/,\n];\n\nproto.updateGetPathSelector = function( optPath ) {\n  // parse href of link: '.next-page-link'\n  var hrefElem = document.querySelector( optPath );\n  if ( !hrefElem ) {\n    console.error( 'Bad InfiniteScroll path option. Next link not found: ' +\n      optPath );\n    return;\n  }\n  var href = hrefElem.getAttribute('href');\n  // try matching href to pathRegexes patterns\n  var pathParts, regex;\n  for ( var i=0; href && i < pathRegexes.length; i++ ) {\n    regex = pathRegexes[i];\n    var match = href.match( regex );\n    if ( match ) {\n      pathParts = match.slice(1); // remove first part\n      break;\n    }\n  }\n  if ( !pathParts ) {\n    console.error( 'InfiniteScroll unable to parse next link href: ' + href );\n    return;\n  }\n  this.isPathSelector = true; // flag for checkLastPage()\n  this.getPath = function() {\n    var nextIndex = this.pageIndex + 1;\n    return pathParts[0] + nextIndex + pathParts[2];\n  }.bind( this );\n  // get pageIndex from href\n  this.pageIndex = parseInt( pathParts[1], 10 ) - 1;\n  this.log( 'pageIndex', [ this.pageIndex, 'next link' ] );\n};\n\nproto.updateGetAbsolutePath = function() {\n  var path = this.getPath();\n  // path doesn't start with http or /\n  var isAbsolute = path.match( /^http/ ) || path.match( /^\\// );\n  if ( isAbsolute ) {\n    this.getAbsolutePath = this.getPath;\n    return;\n  }\n\n  var pathname = location.pathname;\n  // /foo/bar/index.html => /foo/bar\n  var directory = pathname.substring( 0, pathname.lastIndexOf('/') );\n\n  this.getAbsolutePath = function() {\n    return directory + '/' + this.getPath();\n  };\n};\n\n// -------------------------- nav -------------------------- //\n\n// hide navigation\nInfiniteScroll.create.hideNav = function() {\n  var nav = utils.getQueryElement( this.options.hideNav );\n  if ( !nav ) {\n    return;\n  }\n  nav.style.display = 'none';\n  this.nav = nav;\n};\n\nInfiniteScroll.destroy.hideNav = function() {\n  if ( this.nav ) {\n    this.nav.style.display = '';\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\nproto.destroy = function() {\n  this.allOff(); // remove all event listeners\n  // call destroy methods\n  for ( var method in InfiniteScroll.destroy ) {\n    InfiniteScroll.destroy[ method ].call( this );\n  }\n\n  delete this.element.infiniteScrollGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- utilities -------------------------- //\n\n// https://remysharp.com/2010/07/21/throttling-function-calls\nInfiniteScroll.throttle = function( fn, threshold ) {\n  threshold = threshold || 200;\n  var last, timeout;\n\n  return function() {\n    var now = +new Date();\n    var args = arguments;\n    var trigger = function() {\n      last = now;\n      fn.apply( this, args );\n    }.bind( this );\n    if ( last && now < last + threshold ) {\n      // hold on to it\n      clearTimeout( timeout );\n      timeout = setTimeout( trigger, threshold );\n    } else {\n      trigger();\n    }\n  };\n};\n\nInfiniteScroll.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.infiniteScrollGUID;\n  return id && instances[ id ];\n};\n\n// set internal jQuery, for Webpack + jQuery v3\nInfiniteScroll.setJQuery = function( $ ) {\n  jQuery = $;\n};\n\n// -------------------------- setup -------------------------- //\n\nutils.htmlInit( InfiniteScroll, 'infinite-scroll' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'infiniteScroll', InfiniteScroll );\n}\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n}));\n\n// page-load\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/page-load',[\n      './core',\n    ], function( InfiniteScroll ) {\n      return factory( window, InfiniteScroll );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./core')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.InfiniteScroll\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll ) {\n\nvar proto = InfiniteScroll.prototype;\n\n// InfiniteScroll.defaults.append = false;\nInfiniteScroll.defaults.loadOnScroll = true;\nInfiniteScroll.defaults.checkLastPage = true;\nInfiniteScroll.defaults.responseType = 'document';\n// InfiniteScroll.defaults.prefill = false;\n// InfiniteScroll.defaults.outlayer = null;\n\nInfiniteScroll.create.pageLoad = function() {\n  this.canLoad = true;\n  this.on( 'scrollThreshold', this.onScrollThresholdLoad );\n  this.on( 'load', this.checkLastPage );\n  if ( this.options.outlayer ) {\n    this.on( 'append', this.onAppendOutlayer );\n  }\n};\n\nproto.onScrollThresholdLoad = function() {\n  if ( this.options.loadOnScroll ) {\n    this.loadNextPage();\n  }\n};\n\nproto.loadNextPage = function() {\n  if ( this.isLoading || !this.canLoad ) {\n    return;\n  }\n\n  var path = this.getAbsolutePath();\n  this.isLoading = true;\n\n  var onLoad = function( response ) {\n    this.onPageLoad( response, path );\n  }.bind( this );\n\n  var onError = function( error ) {\n    this.onPageError( error, path );\n  }.bind( this );\n\n  request( path, this.options.responseType, onLoad, onError );\n  this.dispatchEvent( 'request', null, [ path ] );\n};\n\nproto.onPageLoad = function( response, path ) {\n  // done loading if not appending\n  if ( !this.options.append ) {\n    this.isLoading = false;\n  }\n  this.pageIndex++;\n  this.loadCount++;\n  this.dispatchEvent( 'load', null, [ response, path ] );\n  this.appendNextPage( response, path );\n  return response;\n};\n\nproto.appendNextPage = function( response, path ) {\n  var optAppend = this.options.append;\n  // do not append json\n  var isDocument = this.options.responseType == 'document';\n  if ( !isDocument || !optAppend ) {\n    return;\n  }\n\n  var items = response.querySelectorAll( optAppend );\n  var fragment = getItemsFragment( items );\n  var appendReady = function () {\n    this.appendItems( items, fragment );\n    this.isLoading = false;\n    this.dispatchEvent( 'append', null, [ response, path, items ] );\n  }.bind( this );\n\n  // TODO add hook for option to trigger appendReady\n  if ( this.options.outlayer ) {\n    this.appendOutlayerItems( fragment, appendReady );\n  } else {\n    appendReady();\n  }\n};\n\nproto.appendItems = function( items, fragment ) {\n  if ( !items || !items.length ) {\n    return;\n  }\n  // get fragment if not provided\n  fragment = fragment || getItemsFragment( items );\n  refreshScripts( fragment );\n  this.element.appendChild( fragment );\n};\n\nfunction getItemsFragment( items ) {\n  // add items to fragment\n  var fragment = document.createDocumentFragment();\n  for ( var i=0; items && i < items.length; i++ ) {\n    fragment.appendChild( items[i] );\n  }\n  return fragment;\n}\n\n// replace <script>s with copies so they load\n// <script>s added by InfiniteScroll will not load\n// similar to https://stackoverflow.com/questions/610995\nfunction refreshScripts( fragment ) {\n  var scripts = fragment.querySelectorAll('script');\n  for ( var i=0; i < scripts.length; i++ ) {\n    var script = scripts[i];\n    var freshScript = document.createElement('script');\n    copyAttributes( script, freshScript );\n    // copy inner script code. #718, #782\n    freshScript.innerHTML = script.innerHTML;\n    script.parentNode.replaceChild( freshScript, script );\n  }\n}\n\nfunction copyAttributes( fromNode, toNode ) {\n  var attrs = fromNode.attributes;\n  for ( var i=0; i < attrs.length; i++ ) {\n    var attr = attrs[i];\n    toNode.setAttribute( attr.name, attr.value );\n  }\n}\n\n// ----- outlayer ----- //\n\nproto.appendOutlayerItems = function( fragment, appendReady ) {\n  var imagesLoaded = InfiniteScroll.imagesLoaded || window.imagesLoaded;\n  if ( !imagesLoaded ) {\n    console.error('[InfiniteScroll] imagesLoaded required for outlayer option');\n    this.isLoading = false;\n    return;\n  }\n  // append once images loaded\n  imagesLoaded( fragment, appendReady );\n};\n\nproto.onAppendOutlayer = function( response, path, items ) {\n  this.options.outlayer.appended( items );\n};\n\n// ----- checkLastPage ----- //\n\n// check response for next element\nproto.checkLastPage = function( response, path ) {\n  var checkLastPage = this.options.checkLastPage;\n  if ( !checkLastPage ) {\n    return;\n  }\n\n  var pathOpt = this.options.path;\n  // if path is function, check if next path is truthy\n  if ( typeof pathOpt == 'function' ) {\n    var nextPath = this.getPath();\n    if ( !nextPath ) {\n      this.lastPageReached( response, path );\n      return;\n    }\n  }\n  // get selector from checkLastPage or path option\n  var selector;\n  if ( typeof checkLastPage == 'string' ) {\n    selector = checkLastPage;\n  } else if ( this.isPathSelector ) {\n    // path option is selector string\n    selector = pathOpt;\n  }\n  // check last page for selector\n  // bail if no selector or not document response\n  if ( !selector || !response.querySelector ) {\n    return;\n  }\n  // check if response has selector\n  var nextElem = response.querySelector( selector );\n  if ( !nextElem ) {\n    this.lastPageReached( response, path );\n  }\n};\n\nproto.lastPageReached = function( response, path ) {\n  this.canLoad = false;\n  this.dispatchEvent( 'last', null, [ response, path ] );\n};\n\n// ----- error ----- //\n\nproto.onPageError = function( error, path ) {\n  this.isLoading = false;\n  this.canLoad = false;\n  this.dispatchEvent( 'error', null, [ error, path ] );\n  return error;\n};\n\n// -------------------------- prefill -------------------------- //\n\nInfiniteScroll.create.prefill = function() {\n  if ( !this.options.prefill ) {\n    return;\n  }\n  var append = this.options.append;\n  if ( !append ) {\n    console.error( 'append option required for prefill. Set as :' + append );\n    return;\n  }\n  this.updateMeasurements();\n  this.updateScroller();\n  this.isPrefilling = true;\n  this.on( 'append', this.prefill );\n  this.once( 'error', this.stopPrefill );\n  this.once( 'last', this.stopPrefill );\n  this.prefill();\n};\n\nproto.prefill = function() {\n  var distance = this.getPrefillDistance();\n  this.isPrefilling = distance >= 0;\n  if ( this.isPrefilling ) {\n    this.log('prefill');\n    this.loadNextPage();\n  } else {\n    this.stopPrefill();\n  }\n};\n\nproto.getPrefillDistance = function() {\n  // element scroll\n  if ( this.options.elementScroll ) {\n    return this.scroller.clientHeight - this.scroller.scrollHeight;\n  }\n  // window\n  return this.windowHeight - this.element.clientHeight;\n};\n\nproto.stopPrefill = function() {\n  this.log('stopPrefill');\n  this.off( 'append', this.prefill );\n};\n\n// -------------------------- request -------------------------- //\n\nfunction request( url, responseType, onLoad, onError ) {\n  var req = new XMLHttpRequest();\n  req.open( 'GET', url, true );\n  // set responseType document to return DOM\n  req.responseType = responseType || '';\n\n  // set X-Requested-With header to check that is ajax request\n  req.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n  req.onload = function() {\n    if ( req.status == 200 ) {\n      onLoad( req.response );\n    } else {\n      // not 200 OK, error\n      var error = new Error( req.statusText );\n      onError( error );\n    }\n  };\n\n  // Handle network errors\n  req.onerror = function() {\n    var error = new Error( 'Network error requesting ' + url );\n    onError( error );\n  };\n\n  req.send();\n}\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n}));\n\n// scroll-watch\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/scroll-watch',[\n      './core',\n      'fizzy-ui-utils/utils',\n    ], function( InfiniteScroll, utils ) {\n      return factory( window, InfiniteScroll, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./core'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.InfiniteScroll,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll, utils ) {\n\nvar proto = InfiniteScroll.prototype;\n\n// default options\nInfiniteScroll.defaults.scrollThreshold = 400;\n// InfiniteScroll.defaults.elementScroll = null;\n\nInfiniteScroll.create.scrollWatch = function() {\n  // events\n  this.pageScrollHandler = this.onPageScroll.bind( this );\n  this.resizeHandler = this.onResize.bind( this );\n\n  var scrollThreshold = this.options.scrollThreshold;\n  var isEnable = scrollThreshold || scrollThreshold === 0;\n  if ( isEnable ) {\n    this.enableScrollWatch();\n  }\n};\n\nInfiniteScroll.destroy.scrollWatch = function() {\n  this.disableScrollWatch();\n};\n\nproto.enableScrollWatch = function() {\n  if ( this.isScrollWatching ) {\n    return;\n  }\n  this.isScrollWatching = true;\n  this.updateMeasurements();\n  this.updateScroller();\n  // TODO disable after error?\n  this.on( 'last', this.disableScrollWatch );\n  this.bindScrollWatchEvents( true );\n};\n\nproto.disableScrollWatch = function() {\n  if ( !this.isScrollWatching ) {\n    return;\n  }\n  this.bindScrollWatchEvents( false );\n  delete this.isScrollWatching;\n};\n\nproto.bindScrollWatchEvents = function( isBind ) {\n  var addRemove = isBind ? 'addEventListener' : 'removeEventListener';\n  this.scroller[ addRemove ]( 'scroll', this.pageScrollHandler );\n  window[ addRemove ]( 'resize', this.resizeHandler );\n};\n\nproto.onPageScroll = InfiniteScroll.throttle( function() {\n  var distance = this.getBottomDistance();\n  if ( distance <= this.options.scrollThreshold ) {\n    this.dispatchEvent('scrollThreshold');\n  }\n});\n\nproto.getBottomDistance = function() {\n  if ( this.options.elementScroll ) {\n    return this.getElementBottomDistance();\n  } else {\n    return this.getWindowBottomDistance();\n  }\n};\n\nproto.getWindowBottomDistance = function() {\n  var bottom = this.top + this.element.clientHeight;\n  var scrollY = window.pageYOffset + this.windowHeight;\n  return bottom - scrollY;\n};\n\nproto.getElementBottomDistance = function() {\n  var bottom = this.scroller.scrollHeight;\n  var scrollY = this.scroller.scrollTop + this.scroller.clientHeight;\n  return bottom - scrollY;\n};\n\nproto.onResize = function() {\n  this.updateMeasurements();\n};\n\nutils.debounceMethod( InfiniteScroll, 'onResize', 150 );\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n}));\n\n// history\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/history',[\n      './core',\n      'fizzy-ui-utils/utils',\n    ], function( InfiniteScroll, utils ) {\n      return factory( window, InfiniteScroll, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./core'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.InfiniteScroll,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll, utils ) {\n\nvar proto = InfiniteScroll.prototype;\n\nInfiniteScroll.defaults.history = 'replace';\n// InfiniteScroll.defaults.historyTitle = false;\n\nvar link = document.createElement('a');\n\n// ----- create/destroy ----- //\n\nInfiniteScroll.create.history = function() {\n  if ( !this.options.history ) {\n    return;\n  }\n  // check for same origin\n  link.href = this.getAbsolutePath();\n  // MS Edge does not have origin on link https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12236493/\n  var linkOrigin = link.origin || link.protocol + '//' + link.host;\n  var isSameOrigin = linkOrigin == location.origin;\n  if ( !isSameOrigin ) {\n    console.error( '[InfiniteScroll] cannot set history with different origin: ' +\n      link.origin + ' on ' + location.origin +\n      ' . History behavior disabled.' );\n    return;\n  }\n\n  // two ways to handle changing history\n  if ( this.options.append ) {\n    this.createHistoryAppend();\n  } else {\n    this.createHistoryPageLoad();\n  }\n};\n\nproto.createHistoryAppend = function() {\n  this.updateMeasurements();\n  this.updateScroller();\n  // array of scroll positions of appended pages\n  this.scrollPages = [\n    {\n      // first page\n      top: 0,\n      path: location.href,\n      title: document.title,\n    }\n  ];\n  this.scrollPageIndex = 0;\n  // events\n  this.scrollHistoryHandler = this.onScrollHistory.bind( this );\n  this.unloadHandler = this.onUnload.bind( this );\n  this.scroller.addEventListener( 'scroll', this.scrollHistoryHandler );\n  this.on( 'append', this.onAppendHistory );\n  this.bindHistoryAppendEvents( true );\n};\n\nproto.bindHistoryAppendEvents = function( isBind ) {\n  var addRemove = isBind ? 'addEventListener' : 'removeEventListener';\n  this.scroller[ addRemove ]( 'scroll', this.scrollHistoryHandler );\n  window[ addRemove ]( 'unload', this.unloadHandler );\n};\n\nproto.createHistoryPageLoad = function() {\n  this.on( 'load', this.onPageLoadHistory );\n};\n\nInfiniteScroll.destroy.history =\nproto.destroyHistory = function() {\n  var isHistoryAppend = this.options.history && this.options.append;\n  if ( isHistoryAppend ) {\n    this.bindHistoryAppendEvents( false );\n  }\n};\n\n// ----- append history ----- //\n\nproto.onAppendHistory = function( response, path, items ) {\n  // do not proceed if no items. #779\n  if ( !items || !items.length ) {\n    return;\n  }\n  var firstItem = items[0];\n  var elemScrollY = this.getElementScrollY( firstItem );\n  // resolve path\n  link.href = path;\n  // add page data to hash\n  this.scrollPages.push({\n    top: elemScrollY,\n    path: link.href,\n    title: response.title,\n  });\n};\n\nproto.getElementScrollY = function( elem ) {\n  if ( this.options.elementScroll ) {\n    return this.getElementElementScrollY( elem );\n  } else {\n    return this.getElementWindowScrollY( elem );\n  }\n};\n\nproto.getElementWindowScrollY = function( elem ) {\n  var rect = elem.getBoundingClientRect();\n  return rect.top + window.pageYOffset;\n};\n\n// wow, stupid name\nproto.getElementElementScrollY = function( elem ) {\n  return elem.offsetTop - this.top;\n};\n\nproto.onScrollHistory = function() {\n  // cycle through positions, find biggest without going over\n  var scrollViewY = this.getScrollViewY();\n  var pageIndex, page;\n  for ( var i=0; i < this.scrollPages.length; i++ ) {\n    var scrollPage = this.scrollPages[i];\n    if ( scrollPage.top >= scrollViewY ) {\n      break;\n    }\n    pageIndex = i;\n    page = scrollPage;\n  }\n  // set history if changed\n  if ( pageIndex != this.scrollPageIndex ) {\n    this.scrollPageIndex = pageIndex;\n    this.setHistory( page.title, page.path );\n  }\n};\n\nutils.debounceMethod( InfiniteScroll, 'onScrollHistory', 150 );\n\nproto.getScrollViewY = function() {\n  if ( this.options.elementScroll ) {\n    return this.scroller.scrollTop + this.scroller.clientHeight/2;\n  } else {\n    return window.pageYOffset + this.windowHeight/2;\n  }\n};\n\nproto.setHistory = function( title, path ) {\n  var optHistory = this.options.history;\n  var historyMethod = optHistory && history[ optHistory + 'State' ];\n  if ( !historyMethod ) {\n    return;\n  }\n\n  history[ optHistory + 'State' ]( null, title, path );\n\n  if ( this.options.historyTitle ) {\n    document.title = title;\n  }\n\n  this.dispatchEvent( 'history', null, [ title, path ] );\n};\n\n// scroll to top to prevent initial scroll-reset after page refresh\n// https://stackoverflow.com/a/18633915/182183\nproto.onUnload = function() {\n  var pageIndex = this.scrollPageIndex;\n  if ( pageIndex === 0 ) {\n    return;\n  }\n  // calculate where scroll position would be on refresh\n  var scrollPage = this.scrollPages[ pageIndex ];\n  var scrollY = window.pageYOffset - scrollPage.top + this.top;\n  // disable scroll event before setting scroll #679\n  this.destroyHistory();\n  scrollTo( 0, scrollY );\n};\n\n// ----- load history ----- //\n\n// update URL\nproto.onPageLoadHistory = function( response, path ) {\n  this.setHistory( response.title, path );\n};\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n}));\n\n// button\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/button',[\n      './core',\n      'fizzy-ui-utils/utils',\n    ], function( InfiniteScroll, utils ) {\n      return factory( window, InfiniteScroll, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./core'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.InfiniteScroll,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll, utils ) {\n\n// InfiniteScroll.defaults.button = null;\n\nInfiniteScroll.create.button = function() {\n  var buttonElem = utils.getQueryElement( this.options.button );\n  if ( buttonElem ) {\n    this.button = new InfiniteScrollButton( buttonElem, this );\n    return;\n  }\n};\n\nInfiniteScroll.destroy.button = function() {\n  if ( this.button ) {\n    this.button.destroy();\n  }\n};\n\n// -------------------------- InfiniteScrollButton -------------------------- //\n\nfunction InfiniteScrollButton( element, infScroll ) {\n  this.element = element;\n  this.infScroll = infScroll;\n  // events\n  this.clickHandler = this.onClick.bind( this );\n  this.element.addEventListener( 'click', this.clickHandler );\n  infScroll.on( 'request', this.disable.bind( this ) );\n  infScroll.on( 'load', this.enable.bind( this ) );\n  infScroll.on( 'error', this.hide.bind( this ) );\n  infScroll.on( 'last', this.hide.bind( this ) );\n}\n\nInfiniteScrollButton.prototype.onClick = function( event ) {\n  event.preventDefault();\n  this.infScroll.loadNextPage();\n};\n\nInfiniteScrollButton.prototype.enable = function() {\n  this.element.removeAttribute('disabled');\n};\n\nInfiniteScrollButton.prototype.disable = function() {\n  this.element.disabled = 'disabled';\n};\n\nInfiniteScrollButton.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nInfiniteScrollButton.prototype.destroy = function() {\n  this.element.removeEventListener( 'click', this.clickHandler );\n};\n\n// --------------------------  -------------------------- //\n\nInfiniteScroll.Button = InfiniteScrollButton;\n\nreturn InfiniteScroll;\n\n}));\n\n// status\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'infinite-scroll/js/status',[\n      './core',\n      'fizzy-ui-utils/utils',\n    ], function( InfiniteScroll, utils ) {\n      return factory( window, InfiniteScroll, utils );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('./core'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n      window,\n      window.InfiniteScroll,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, InfiniteScroll, utils ) { \n\nvar proto = InfiniteScroll.prototype;\n\n// InfiniteScroll.defaults.status = null;\n\nInfiniteScroll.create.status = function() {\n  var statusElem = utils.getQueryElement( this.options.status );\n  if ( !statusElem ) {\n    return;\n  }\n  // elements\n  this.statusElement = statusElem;\n  this.statusEventElements = {\n    request: statusElem.querySelector('.infinite-scroll-request'),\n    error: statusElem.querySelector('.infinite-scroll-error'),\n    last: statusElem.querySelector('.infinite-scroll-last'),\n  };\n  // events\n  this.on( 'request', this.showRequestStatus );\n  this.on( 'error', this.showErrorStatus );\n  this.on( 'last', this.showLastStatus );\n  this.bindHideStatus('on');\n};\n\nproto.bindHideStatus = function( bindMethod ) {\n  var hideEvent = this.options.append ? 'append' : 'load';\n  this[ bindMethod ]( hideEvent, this.hideAllStatus );\n};\n\nproto.showRequestStatus = function() {\n  this.showStatus('request');\n};\n\nproto.showErrorStatus = function() {\n  this.showStatus('error');\n};\n\nproto.showLastStatus = function() {\n  this.showStatus('last');\n  // prevent last then append event race condition from showing last status #706\n  this.bindHideStatus('off');\n};\n\nproto.showStatus = function( eventName ) {\n  show( this.statusElement );\n  this.hideStatusEventElements();\n  var eventElem = this.statusEventElements[ eventName ];\n  show( eventElem );\n};\n\nproto.hideAllStatus = function() {\n  hide( this.statusElement );\n  this.hideStatusEventElements();\n};\n\nproto.hideStatusEventElements = function() {\n  for ( var type in this.statusEventElements ) {\n    var eventElem = this.statusEventElements[ type ];\n    hide( eventElem );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction hide( elem ) {\n  setDisplay( elem, 'none' );\n}\n\nfunction show( elem ) {\n  setDisplay( elem, 'block' );\n}\n\nfunction setDisplay( elem, value ) {\n  if ( elem ) {\n    elem.style.display = value;\n  }\n}\n\n// --------------------------  -------------------------- //\n\nreturn InfiniteScroll;\n\n}));\n\n/*!\n * Infinite Scroll v3.0.4\n * Automatically add next page\n *\n * Licensed GPLv3 for open source use\n * or Infinite Scroll Commercial License for commercial use\n *\n * https://infinite-scroll.com\n * Copyright 2018 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'infinite-scroll/js/core',\n      'infinite-scroll/js/page-load',\n      'infinite-scroll/js/scroll-watch',\n      'infinite-scroll/js/history',\n      'infinite-scroll/js/button',\n      'infinite-scroll/js/status',\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('./core'),\n      require('./page-load'),\n      require('./scroll-watch'),\n      require('./history'),\n      require('./button'),\n      require('./status')\n    );\n  }\n\n})( window, function factory( InfiniteScroll ) {\n  return InfiniteScroll;\n});\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'imagesloaded/imagesloaded',[\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n","// ==================================================\n// fancyBox v3.3.5\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2018 fancyApps\n//\n// ==================================================\n(function(window, document, $, undefined) {\n  \"use strict\";\n\n  window.console = window.console || {\n    info: function(stuff) {}\n  };\n\n  // If there's no jQuery, fancyBox can't work\n  // =========================================\n\n  if (!$) {\n    return;\n  }\n\n  // Check if fancyBox is already initialized\n  // ========================================\n\n  if ($.fn.fancybox) {\n    console.info(\"fancyBox already initialized\");\n\n    return;\n  }\n\n  // Private default settings\n  // ========================\n\n  var defaults = {\n    // Enable infinite gallery navigation\n    loop: false,\n\n    // Horizontal space between slides\n    gutter: 50,\n\n    // Enable keyboard navigation\n    keyboard: true,\n\n    // Should display navigation arrows at the screen edges\n    arrows: true,\n\n    // Should display counter at the top left corner\n    infobar: true,\n\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\n    smallBtn: \"auto\",\n\n    // Should display toolbar (buttons at the top)\n    // Can be true, false, \"auto\"\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\n    toolbar: \"auto\",\n\n    // What buttons should appear in the top right corner.\n    // Buttons will be created using templates from `btnTpl` option\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n    buttons: [\n      \"zoom\",\n      //\"share\",\n      //\"slideShow\",\n      //\"fullScreen\",\n      //\"download\",\n      \"thumbs\",\n      \"close\"\n    ],\n\n    // Detect \"idle\" time in seconds\n    idleTime: 3,\n\n    // Disable right-click and use simple image protection for images\n    protect: false,\n\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n    modal: false,\n\n    image: {\n      // Wait for images to load before displaying\n      //   true  - wait for image to load and then display;\n      //   false - display thumbnail and load the full-sized image over top,\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\n      preload: false\n    },\n\n    ajax: {\n      // Object containing settings for ajax request\n      settings: {\n        // This helps to indicate that request comes from the modal\n        // Feel free to change naming\n        data: {\n          fancybox: true\n        }\n      }\n    },\n\n    iframe: {\n      // Iframe template\n      tpl:\n        '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\n\n      // Preload iframe before displaying it\n      // This allows to calculate iframe content width and height\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n      preload: true,\n\n      // Custom CSS styling for iframe wrapping element\n      // You can use this to set custom iframe dimensions\n      css: {},\n\n      // Iframe tag attributes\n      attr: {\n        scrolling: \"auto\"\n      }\n    },\n\n    // Default content type if cannot be detected automatically\n    defaultType: \"image\",\n\n    // Open/close animation type\n    // Possible values:\n    //   false            - disable\n    //   \"zoom\"           - zoom images from/to thumbnail\n    //   \"fade\"\n    //   \"zoom-in-out\"\n    //\n    animationEffect: \"zoom\",\n\n    // Duration in ms for open/close animation\n    animationDuration: 366,\n\n    // Should image change opacity while zooming\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\n    zoomOpacity: \"auto\",\n\n    // Transition effect between slides\n    //\n    // Possible values:\n    //   false            - disable\n    //   \"fade'\n    //   \"slide'\n    //   \"circular'\n    //   \"tube'\n    //   \"zoom-in-out'\n    //   \"rotate'\n    //\n    transitionEffect: \"fade\",\n\n    // Duration in ms for transition animation\n    transitionDuration: 366,\n\n    // Custom CSS class for slide element\n    slideClass: \"\",\n\n    // Custom CSS class for layout\n    baseClass: \"\",\n\n    // Base template for layout\n    baseTpl:\n      '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n      '<div class=\"fancybox-bg\"></div>' +\n      '<div class=\"fancybox-inner\">' +\n      '<div class=\"fancybox-infobar\">' +\n      \"<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>\" +\n      \"</div>\" +\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n      '<div class=\"fancybox-stage\"></div>' +\n      '<div class=\"fancybox-caption\"></div>' +\n      \"</div>\" +\n      \"</div>\",\n\n    // Loading indicator template\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\n\n    // Error message template\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\n\n    btnTpl: {\n      download:\n        '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24\" />' +\n        \"</svg>\" +\n        \"</a>\",\n\n      zoom:\n        '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29\" />' +\n        \"</svg>\" +\n        \"</button>\",\n\n      close:\n        '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\n        \"</svg>\" +\n        \"</button>\",\n\n      // This small close button will be appended to your html/inline/ajax content by default,\n      // if \"smallBtn\" option is not set to false\n      smallBtn:\n        '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"><svg viewBox=\"0 0 32 32\"><path d=\"M10,10 L22,22 M22,10 L10,22\"></path></svg></button>',\n\n      // Arrows\n      arrowLeft:\n        '<a data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\" href=\"javascript:;\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M18,12 L10,20 L18,28 M10,20 L30,20\"></path>' +\n        \"</svg>\" +\n        \"</a>\",\n\n      arrowRight:\n        '<a data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\" href=\"javascript:;\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M10,20 L30,20 M22,12 L30,20 L22,28\"></path>' +\n        \"</svg>\" +\n        \"</a>\"\n    },\n\n    // Container is injected into this element\n    parentEl: \"body\",\n\n    // Focus handling\n    // ==============\n\n    // Try to focus on the first focusable element after opening\n    autoFocus: false,\n\n    // Put focus back to active element after closing\n    backFocus: true,\n\n    // Do not let user to focus on element outside modal content\n    trapFocus: true,\n\n    // Module specific options\n    // =======================\n\n    fullScreen: {\n      autoStart: false\n    },\n\n    // Set `touch: false` to disable dragging/swiping\n    touch: {\n      vertical: true, // Allow to drag content vertically\n      momentum: true // Continue movement after releasing mouse/touch when panning\n    },\n\n    // Hash value when initializing manually,\n    // set `false` to disable hash change\n    hash: null,\n\n    // Customize or add new media types\n    // Example:\n    /*\n        media : {\n            youtube : {\n                params : {\n                    autoplay : 0\n                }\n            }\n        }\n        */\n    media: {},\n\n    slideShow: {\n      autoStart: false,\n      speed: 4000\n    },\n\n    thumbs: {\n      autoStart: false, // Display thumbnails on opening\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\n      parentEl: \".fancybox-container\", // Container is injected into this element\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n    },\n\n    // Use mousewheel to navigate gallery\n    // If 'auto' - enabled for images only\n    wheel: \"auto\",\n\n    // Callbacks\n    //==========\n\n    // See Documentation/API/Events for more information\n    // Example:\n    /*\n\t\tafterShow: function( instance, current ) {\n\t\t\tconsole.info( 'Clicked element:' );\n\t\t\tconsole.info( current.opts.$orig );\n\t\t}\n\t*/\n\n    onInit: $.noop, // When instance has been initialized\n\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\n    afterLoad: $.noop, // When the content of a slide is done loading\n\n    beforeShow: $.noop, // Before open animation starts\n    afterShow: $.noop, // When content is done loading and animating\n\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\n    afterClose: $.noop, // After instance has been closed\n\n    onActivate: $.noop, // When instance is brought to front\n    onDeactivate: $.noop, // When other instance has been activated\n\n    // Interaction\n    // ===========\n\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n    // each option can be string or method that returns value.\n    //\n    // Possible values:\n    //   \"close\"           - close instance\n    //   \"next\"            - move to next gallery item\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n    //   \"toggleControls\"  - show/hide controls\n    //   \"zoom\"            - zoom image (if loaded)\n    //   false             - do nothing\n\n    // Clicked on the content\n    clickContent: function(current, event) {\n      return current.type === \"image\" ? \"zoom\" : false;\n    },\n\n    // Clicked on the slide\n    clickSlide: \"close\",\n\n    // Clicked on the background (backdrop) element;\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\n    clickOutside: \"close\",\n\n    // Same as previous two, but for double click\n    dblclickContent: false,\n    dblclickSlide: false,\n    dblclickOutside: false,\n\n    // Custom options when mobile device is detected\n    // =============================================\n\n    mobile: {\n      idleTime: false,\n      clickContent: function(current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : false;\n      },\n      clickSlide: function(current, event) {\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\n      },\n      dblclickContent: function(current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      },\n      dblclickSlide: function(current, event) {\n        return current.type === \"image\" ? \"zoom\" : false;\n      }\n    },\n\n    // Internationalization\n    // ====================\n\n    lang: \"en\",\n    i18n: {\n      en: {\n        CLOSE: \"Close\",\n        NEXT: \"Next\",\n        PREV: \"Previous\",\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\n        PLAY_START: \"Start slideshow\",\n        PLAY_STOP: \"Pause slideshow\",\n        FULL_SCREEN: \"Full screen\",\n        THUMBS: \"Thumbnails\",\n        DOWNLOAD: \"Download\",\n        SHARE: \"Share\",\n        ZOOM: \"Zoom\"\n      },\n      de: {\n        CLOSE: \"Schliessen\",\n        NEXT: \"Weiter\",\n        PREV: \"Zurck\",\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spter nochmal.\",\n        PLAY_START: \"Diaschau starten\",\n        PLAY_STOP: \"Diaschau beenden\",\n        FULL_SCREEN: \"Vollbild\",\n        THUMBS: \"Vorschaubilder\",\n        DOWNLOAD: \"Herunterladen\",\n        SHARE: \"Teilen\",\n        ZOOM: \"Mastab\"\n      }\n    }\n  };\n\n  // Few useful variables and methods\n  // ================================\n\n  var $W = $(window);\n  var $D = $(document);\n\n  var called = 0;\n\n  // Check if an object is a jQuery object and not a native JavaScript object\n  // ========================================================================\n  var isQuery = function(obj) {\n    return obj && obj.hasOwnProperty && obj instanceof $;\n  };\n\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n  // ===============================================================================\n  var requestAFrame = (function() {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function(callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  // Detect the supported transition-end event property name\n  // =======================================================\n  var transitionEnd = (function() {\n    var el = document.createElement(\"fakeelement\"),\n      t;\n\n    var transitions = {\n      transition: \"transitionend\",\n      OTransition: \"oTransitionEnd\",\n      MozTransition: \"transitionend\",\n      WebkitTransition: \"webkitTransitionEnd\"\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n\n    return \"transitionend\";\n  })();\n\n  // Force redraw on an element.\n  // This helps in cases where the browser doesn't redraw an updated element properly\n  // ================================================================================\n  var forceRedraw = function($el) {\n    return $el && $el.length && $el[0].offsetHeight;\n  };\n\n  // Exclude array (`buttons`) options from deep merging\n  // ===================================================\n  var mergeOpts = function(opts1, opts2) {\n    var rez = $.extend(true, {}, opts1, opts2);\n\n    $.each(opts2, function(key, value) {\n      if ($.isArray(value)) {\n        rez[key] = value;\n      }\n    });\n\n    return rez;\n  };\n\n  // Class definition\n  // ================\n\n  var FancyBox = function(content, opts, index) {\n    var self = this;\n\n    self.opts = mergeOpts({index: index}, $.fancybox.defaults);\n\n    if ($.isPlainObject(opts)) {\n      self.opts = mergeOpts(self.opts, opts);\n    }\n\n    if ($.fancybox.isMobile) {\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\n    }\n\n    self.id = self.opts.id || ++called;\n\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\n    self.prevIndex = null;\n\n    self.prevPos = null;\n    self.currPos = 0;\n\n    self.firstRun = true;\n\n    // All group items\n    self.group = [];\n\n    // Existing slides (for current, next and previous gallery items)\n    self.slides = {};\n\n    // Create group elements\n    self.addContent(content);\n\n    if (!self.group.length) {\n      return;\n    }\n\n    // Save last active element\n    self.$lastFocus = $(document.activeElement).trigger(\"blur\");\n\n    self.init();\n  };\n\n  $.extend(FancyBox.prototype, {\n    // Create DOM structure\n    // ====================\n\n    init: function() {\n      var self = this,\n        firstItem = self.group[self.currIndex],\n        firstItemOpts = firstItem.opts,\n        scrollbarWidth = $.fancybox.scrollbarWidth,\n        $scrollDiv,\n        $container,\n        buttonStr;\n\n      // Hide scrollbars\n      // ===============\n\n      if (!$.fancybox.getInstance() && firstItemOpts.hideScrollbar !== false) {\n        $(\"body\").addClass(\"fancybox-active\");\n\n        if (!$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight) {\n          if (scrollbarWidth === undefined) {\n            $scrollDiv = $('<div style=\"width:100px;height:100px;overflow:scroll;\" />').appendTo(\"body\");\n\n            scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\n\n            $scrollDiv.remove();\n          }\n\n          $(\"head\").append(\n            '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' +\n              scrollbarWidth +\n              \"px; }</style>\"\n          );\n\n          $(\"body\").addClass(\"compensate-for-scrollbar\");\n        }\n      }\n\n      // Build html markup and set references\n      // ====================================\n\n      // Build html code for buttons and insert into main template\n      buttonStr = \"\";\n\n      $.each(firstItemOpts.buttons, function(index, value) {\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\n      });\n\n      // Create markup from base template, it will be initially hidden to\n      // avoid unnecessary work like painting while initializing is not complete\n      $container = $(\n        self.translate(\n          self,\n          firstItemOpts.baseTpl\n            .replace(\"{{buttons}}\", buttonStr)\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\n        )\n      )\n        .attr(\"id\", \"fancybox-container-\" + self.id)\n        .addClass(\"fancybox-is-hidden\")\n        .addClass(firstItemOpts.baseClass)\n        .data(\"FancyBox\", self)\n        .appendTo(firstItemOpts.parentEl);\n\n      // Create object holding references to jQuery wrapped nodes\n      self.$refs = {\n        container: $container\n      };\n\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function(item) {\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\n      });\n\n      self.trigger(\"onInit\");\n\n      // Enable events, deactive previous instances\n      self.activate();\n\n      // Build slides, load and reveal content\n      self.jumpTo(self.currIndex);\n    },\n\n    // Simple i18n support - replaces object keys found in template\n    // with corresponding values\n    // ============================================================\n\n    translate: function(obj, str) {\n      var arr = obj.opts.i18n[obj.opts.lang];\n\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\n        var value = arr[n];\n\n        if (value === undefined) {\n          return match;\n        }\n\n        return value;\n      });\n    },\n\n    // Populate current group with fresh content\n    // Check if each object has valid type and content\n    // ===============================================\n\n    addContent: function(content) {\n      var self = this,\n        items = $.makeArray(content),\n        thumbs;\n\n      $.each(items, function(i, item) {\n        var obj = {},\n          opts = {},\n          $item,\n          type,\n          found,\n          src,\n          srcParts;\n\n        // Step 1 - Make sure we have an object\n        // ====================================\n\n        if ($.isPlainObject(item)) {\n          // We probably have manual usage here, something like\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n          obj = item;\n          opts = item.opts || item;\n        } else if ($.type(item) === \"object\" && $(item).length) {\n          // Here we probably have jQuery collection returned by some selector\n          $item = $(item);\n\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\n          opts = $item.data() || {};\n          opts = $.extend(true, {}, opts, opts.options);\n\n          // Here we store clicked element\n          opts.$orig = $item;\n\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\n\n          // Assume that simple syntax is used, for example:\n          //   `$.fancybox.open( $(\"#test\"), {} );`\n          if (!obj.type && !obj.src) {\n            obj.type = \"inline\";\n            obj.src = item;\n          }\n        } else {\n          // Assume we have a simple html code, for example:\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n          obj = {\n            type: \"html\",\n            src: item + \"\"\n          };\n        }\n\n        // Each gallery object has full collection of options\n        obj.opts = $.extend(true, {}, self.opts, opts);\n\n        // Do not merge buttons array\n        if ($.isArray(opts.buttons)) {\n          obj.opts.buttons = opts.buttons;\n        }\n\n        // Step 2 - Make sure we have content type, if not - try to guess\n        // ==============================================================\n\n        type = obj.type || obj.opts.type;\n        src = obj.src || \"\";\n\n        if (!type && src) {\n          if ((found = src.match(/\\.(mp4|mov|ogv)((\\?|#).*)?$/i))) {\n            type = \"video\";\n\n            if (!obj.opts.videoFormat) {\n              obj.opts.videoFormat = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\n            }\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n            type = \"image\";\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n            type = \"iframe\";\n          } else if (src.charAt(0) === \"#\") {\n            type = \"inline\";\n          }\n        }\n\n        if (type) {\n          obj.type = type;\n        } else {\n          self.trigger(\"objectNeedsType\", obj);\n        }\n\n        if (!obj.contentType) {\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\n        }\n\n        // Step 3 - Some adjustments\n        // =========================\n\n        obj.index = self.group.length;\n\n        if (obj.opts.smallBtn == \"auto\") {\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\n        }\n\n        if (obj.opts.toolbar === \"auto\") {\n          obj.opts.toolbar = !obj.opts.smallBtn;\n        }\n\n        // Find thumbnail image\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\n          obj.opts.$thumb = obj.opts.$trigger.find(\"img:first\");\n        }\n\n        if ((!obj.opts.$thumb || !obj.opts.$thumb.length) && obj.opts.$orig) {\n          obj.opts.$thumb = obj.opts.$orig.find(\"img:first\");\n        }\n\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\n        if ($.type(obj.opts.caption) === \"function\") {\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\n        }\n\n        if ($.type(self.opts.caption) === \"function\") {\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\n        }\n\n        // Make sure we have caption as a string or jQuery object\n        if (!(obj.opts.caption instanceof $)) {\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\n        }\n\n        // Check if url contains \"filter\" used to filter the content\n        // Example: \"ajax.html #something\"\n        if (obj.type === \"ajax\") {\n          srcParts = src.split(/\\s+/, 2);\n\n          if (srcParts.length > 1) {\n            obj.src = srcParts.shift();\n\n            obj.opts.filter = srcParts.shift();\n          }\n        }\n\n        // Hide all buttons and disable interactivity for modal items\n        if (obj.opts.modal) {\n          obj.opts = $.extend(true, obj.opts, {\n            // Remove buttons\n            infobar: 0,\n            toolbar: 0,\n\n            smallBtn: 0,\n\n            // Disable keyboard navigation\n            keyboard: 0,\n\n            // Disable some modules\n            slideShow: 0,\n            fullScreen: 0,\n            thumbs: 0,\n            touch: 0,\n\n            // Disable click event handlers\n            clickContent: false,\n            clickSlide: false,\n            clickOutside: false,\n            dblclickContent: false,\n            dblclickSlide: false,\n            dblclickOutside: false\n          });\n        }\n\n        // Step 4 - Add processed object to group\n        // ======================================\n\n        self.group.push(obj);\n      });\n\n      // Update controls if gallery is already opened\n      if (Object.keys(self.slides).length) {\n        self.updateControls();\n\n        // Update thumbnails, if needed\n        thumbs = self.Thumbs;\n\n        if (thumbs && thumbs.isActive) {\n          thumbs.create();\n\n          thumbs.focus();\n        }\n      }\n    },\n\n    // Attach an event handler functions for:\n    //   - navigation buttons\n    //   - browser scrolling, resizing;\n    //   - focusing\n    //   - keyboard\n    //   - detect idle\n    // ======================================\n\n    addEvents: function() {\n      var self = this;\n\n      self.removeEvents();\n\n      // Make navigation elements clickable\n      self.$refs.container\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function(e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.close(e);\n        })\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function(e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.previous();\n        })\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function(e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          self.next();\n        })\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function(e) {\n          // Click handler for zoom button\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\n        });\n\n      // Handle page scrolling and browser resizing\n      $W.on(\"orientationchange.fb resize.fb\", function(e) {\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\n          requestAFrame(function() {\n            self.update();\n          });\n        } else {\n          self.$refs.stage.hide();\n\n          setTimeout(function() {\n            self.$refs.stage.show();\n\n            self.update();\n          }, $.fancybox.isMobile ? 600 : 250);\n        }\n      });\n\n      // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\n      // (a.k.a. \"escaping the modal\")\n      $D.on(\"focusin.fb\", function(e) {\n        var instance = $.fancybox ? $.fancybox.getInstance() : null;\n\n        if (\n          instance.isClosing ||\n          !instance.current ||\n          !instance.current.opts.trapFocus ||\n          $(e.target).hasClass(\"fancybox-container\") ||\n          $(e.target).is(document)\n        ) {\n          return;\n        }\n\n        if (instance && $(e.target).css(\"position\") !== \"fixed\" && !instance.$refs.container.has(e.target).length) {\n          e.stopPropagation();\n\n          instance.focus();\n        }\n      });\n\n      // Enable keyboard navigation\n      $D.on(\"keydown.fb\", function(e) {\n        var current = self.current,\n          keycode = e.keyCode || e.which;\n\n        if (!current || !current.opts.keyboard) {\n          return;\n        }\n\n        if (e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input\") || $(e.target).is(\"textarea\")) {\n          return;\n        }\n\n        // Backspace and Esc keys\n        if (keycode === 8 || keycode === 27) {\n          e.preventDefault();\n\n          self.close(e);\n\n          return;\n        }\n\n        // Left arrow and Up arrow\n        if (keycode === 37 || keycode === 38) {\n          e.preventDefault();\n\n          self.previous();\n\n          return;\n        }\n\n        // Righ arrow and Down arrow\n        if (keycode === 39 || keycode === 40) {\n          e.preventDefault();\n\n          self.next();\n\n          return;\n        }\n\n        self.trigger(\"afterKeydown\", e, keycode);\n      });\n\n      // Hide controls after some inactivity period\n      if (self.group[self.currIndex].opts.idleTime) {\n        self.idleSecondsCounter = 0;\n\n        $D.on(\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\n          function(e) {\n            self.idleSecondsCounter = 0;\n\n            if (self.isIdle) {\n              self.showControls();\n            }\n\n            self.isIdle = false;\n          }\n        );\n\n        self.idleInterval = window.setInterval(function() {\n          self.idleSecondsCounter++;\n\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\n            self.isIdle = true;\n            self.idleSecondsCounter = 0;\n\n            self.hideControls();\n          }\n        }, 1000);\n      }\n    },\n\n    // Remove events added by the core\n    // ===============================\n\n    removeEvents: function() {\n      var self = this;\n\n      $W.off(\"orientationchange.fb resize.fb\");\n      $D.off(\"focusin.fb keydown.fb .fb-idle\");\n\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\n\n      if (self.idleInterval) {\n        window.clearInterval(self.idleInterval);\n\n        self.idleInterval = null;\n      }\n    },\n\n    // Change to previous gallery item\n    // ===============================\n\n    previous: function(duration) {\n      return this.jumpTo(this.currPos - 1, duration);\n    },\n\n    // Change to next gallery item\n    // ===========================\n\n    next: function(duration) {\n      return this.jumpTo(this.currPos + 1, duration);\n    },\n\n    // Switch to selected gallery item\n    // ===============================\n\n    jumpTo: function(pos, duration) {\n      var self = this,\n        groupLen = self.group.length,\n        firstRun,\n        loop,\n        current,\n        previous,\n        canvasWidth,\n        currentPos,\n        transitionProps;\n\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\n        return;\n      }\n\n      pos = parseInt(pos, 10);\n\n      // Should loop?\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n      if (!loop && (pos < 0 || pos >= groupLen)) {\n        return false;\n      }\n\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\n\n      if (groupLen < 2 && !firstRun && !!self.isDragging) {\n        return;\n      }\n\n      previous = self.current;\n\n      self.prevIndex = self.currIndex;\n      self.prevPos = self.currPos;\n\n      // Create slides\n      current = self.createSlide(pos);\n\n      if (groupLen > 1) {\n        if (loop || current.index > 0) {\n          self.createSlide(pos - 1);\n        }\n\n        if (loop || current.index < groupLen - 1) {\n          self.createSlide(pos + 1);\n        }\n      }\n\n      self.current = current;\n      self.currIndex = current.index;\n      self.currPos = current.pos;\n\n      self.trigger(\"beforeShow\", firstRun);\n\n      self.updateControls();\n\n      currentPos = $.fancybox.getTranslate(current.$slide);\n\n      current.isMoved = (currentPos.left !== 0 || currentPos.top !== 0) && !current.$slide.hasClass(\"fancybox-animated\");\n\n      // Validate duration length\n      current.forcedDuration = undefined;\n\n      if ($.isNumeric(duration)) {\n        current.forcedDuration = duration;\n      } else {\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\n      }\n\n      duration = parseInt(duration, 10);\n\n      // Fresh start - reveal container, current slide and start loading content\n      if (firstRun) {\n        if (current.opts.animationEffect && duration) {\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\n        }\n\n        self.$refs.container.removeClass(\"fancybox-is-hidden\");\n\n        forceRedraw(self.$refs.container);\n\n        self.$refs.container.addClass(\"fancybox-is-open\");\n\n        forceRedraw(self.$refs.container);\n\n        // Make current slide visible\n        current.$slide.addClass(\"fancybox-slide--previous\");\n\n        // Attempt to load content into slide;\n        // at this point image would start loading, but inline/html content would load immediately\n        self.loadSlide(current);\n\n        current.$slide.removeClass(\"fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\n\n        self.preload(\"image\");\n\n        return;\n      }\n\n      // Clean up\n      $.each(self.slides, function(index, slide) {\n        $.fancybox.stop(slide.$slide);\n      });\n\n      // Make current that slide is visible even if content is still loading\n      current.$slide.removeClass(\"fancybox-slide--next fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\n\n      // If slides have been dragged, animate them to correct position\n      if (current.isMoved) {\n        canvasWidth = Math.round(current.$slide.width());\n\n        $.each(self.slides, function(index, slide) {\n          var pos = slide.pos - current.pos;\n\n          $.fancybox.animate(\n            slide.$slide,\n            {\n              top: 0,\n              left: pos * canvasWidth + pos * slide.opts.gutter\n            },\n            duration,\n            function() {\n              slide.$slide.removeAttr(\"style\").removeClass(\"fancybox-slide--next fancybox-slide--previous\");\n\n              if (slide.pos === self.currPos) {\n                current.isMoved = false;\n\n                self.complete();\n              }\n            }\n          );\n        });\n      } else {\n        self.$refs.stage.children().removeAttr(\"style\");\n      }\n\n      // Start transition that reveals current content\n      // or wait when it will be loaded\n\n      if (current.isLoaded) {\n        self.revealContent(current);\n      } else {\n        self.loadSlide(current);\n      }\n\n      self.preload(\"image\");\n\n      if (previous.pos === current.pos) {\n        return;\n      }\n\n      // Handle previous slide\n      // =====================\n\n      transitionProps = \"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\");\n\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous\");\n\n      previous.isComplete = false;\n\n      if (!duration || (!current.isMoved && !current.opts.transitionEffect)) {\n        return;\n      }\n\n      if (current.isMoved) {\n        previous.$slide.addClass(transitionProps);\n      } else {\n        transitionProps = \"fancybox-animated \" + transitionProps + \" fancybox-fx-\" + current.opts.transitionEffect;\n\n        $.fancybox.animate(previous.$slide, transitionProps, duration, function() {\n          previous.$slide.removeClass(transitionProps).removeAttr(\"style\");\n        });\n      }\n    },\n\n    // Create new \"slide\" element\n    // These are gallery items  that are actually added to DOM\n    // =======================================================\n\n    createSlide: function(pos) {\n      var self = this,\n        $slide,\n        index;\n\n      index = pos % self.group.length;\n      index = index < 0 ? self.group.length + index : index;\n\n      if (!self.slides[pos] && self.group[index]) {\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\n\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\n          pos: pos,\n          $slide: $slide,\n          isLoaded: false\n        });\n\n        self.updateSlide(self.slides[pos]);\n      }\n\n      return self.slides[pos];\n    },\n\n    // Scale image to the actual size of the image;\n    // x and y values should be relative to the slide\n    // ==============================================\n\n    scaleToActual: function(x, y, duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\n        newImgWidth = current.width,\n        newImgHeight = current.height,\n        imgPos,\n        posX,\n        posY,\n        scaleX,\n        scaleY;\n\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      $.fancybox.stop($content);\n\n      self.isAnimating = true;\n\n      x = x === undefined ? canvasWidth * 0.5 : x;\n      y = y === undefined ? canvasHeight * 0.5 : y;\n\n      imgPos = $.fancybox.getTranslate($content);\n\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\n\n      scaleX = newImgWidth / imgPos.width;\n      scaleY = newImgHeight / imgPos.height;\n\n      // Get center position for original image\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\n\n      // Make sure image does not move away from edges\n      if (newImgWidth > canvasWidth) {\n        posX = imgPos.left * scaleX - (x * scaleX - x);\n\n        if (posX > 0) {\n          posX = 0;\n        }\n\n        if (posX < canvasWidth - newImgWidth) {\n          posX = canvasWidth - newImgWidth;\n        }\n      }\n\n      if (newImgHeight > canvasHeight) {\n        posY = imgPos.top * scaleY - (y * scaleY - y);\n\n        if (posY > 0) {\n          posY = 0;\n        }\n\n        if (posY < canvasHeight - newImgHeight) {\n          posY = canvasHeight - newImgHeight;\n        }\n      }\n\n      self.updateCursor(newImgWidth, newImgHeight);\n\n      $.fancybox.animate(\n        $content,\n        {\n          top: posY,\n          left: posX,\n          scaleX: scaleX,\n          scaleY: scaleY\n        },\n        duration || 330,\n        function() {\n          self.isAnimating = false;\n        }\n      );\n\n      // Stop slideshow\n      if (self.SlideShow && self.SlideShow.isActive) {\n        self.SlideShow.stop();\n      }\n    },\n\n    // Scale image to fit inside parent element\n    // ========================================\n\n    scaleToFit: function(duration) {\n      var self = this,\n        current = self.current,\n        $content = current.$content,\n        end;\n\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\n        return;\n      }\n\n      $.fancybox.stop($content);\n\n      self.isAnimating = true;\n\n      end = self.getFitPos(current);\n\n      self.updateCursor(end.width, end.height);\n\n      $.fancybox.animate(\n        $content,\n        {\n          top: end.top,\n          left: end.left,\n          scaleX: end.width / $content.width(),\n          scaleY: end.height / $content.height()\n        },\n        duration || 330,\n        function() {\n          self.isAnimating = false;\n        }\n      );\n    },\n\n    // Calculate image size to fit inside viewport\n    // ===========================================\n\n    getFitPos: function(slide) {\n      var self = this,\n        $content = slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height,\n        maxWidth,\n        maxHeight,\n        minRatio,\n        margin,\n        aspectRatio,\n        rez = {};\n\n      if (!slide.isLoaded || !$content || !$content.length) {\n        return false;\n      }\n\n      margin = {\n        top: parseInt(slide.$slide.css(\"paddingTop\"), 10),\n        right: parseInt(slide.$slide.css(\"paddingRight\"), 10),\n        bottom: parseInt(slide.$slide.css(\"paddingBottom\"), 10),\n        left: parseInt(slide.$slide.css(\"paddingLeft\"), 10)\n      };\n\n      // We can not use $slide width here, because it can have different diemensions while in transiton\n      maxWidth = parseInt(self.$refs.stage.width(), 10) - (margin.left + margin.right);\n      maxHeight = parseInt(self.$refs.stage.height(), 10) - (margin.top + margin.bottom);\n\n      if (!width || !height) {\n        width = maxWidth;\n        height = maxHeight;\n      }\n\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\n\n      // Use floor rounding to make sure it really fits\n      width = Math.floor(minRatio * width);\n      height = Math.floor(minRatio * height);\n\n      if (slide.type === \"image\") {\n        rez.top = Math.floor((maxHeight - height) * 0.5) + margin.top;\n        rez.left = Math.floor((maxWidth - width) * 0.5) + margin.left;\n      } else if (slide.contentType === \"video\") {\n        // Force aspect ratio for the video\n        // \"I say the whole world must learn of our peaceful ways by force!\"\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\n\n        if (height > width / aspectRatio) {\n          height = width / aspectRatio;\n        } else if (width > height * aspectRatio) {\n          width = height * aspectRatio;\n        }\n      }\n\n      rez.width = width;\n      rez.height = height;\n\n      return rez;\n    },\n\n    // Update content size and position for all slides\n    // ==============================================\n\n    update: function() {\n      var self = this;\n\n      $.each(self.slides, function(key, slide) {\n        self.updateSlide(slide);\n      });\n    },\n\n    // Update slide content position and size\n    // ======================================\n\n    updateSlide: function(slide, duration) {\n      var self = this,\n        $content = slide && slide.$content,\n        width = slide.width || slide.opts.width,\n        height = slide.height || slide.opts.height;\n\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\n        $.fancybox.stop($content);\n\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\n\n        if (slide.pos === self.currPos) {\n          self.isAnimating = false;\n\n          self.updateCursor();\n        }\n      }\n\n      slide.$slide.trigger(\"refresh\");\n\n      self.$refs.toolbar.toggleClass(\"compensate-for-scrollbar\", slide.$slide.get(0).scrollHeight > slide.$slide.get(0).clientHeight);\n\n      self.trigger(\"onUpdate\", slide);\n    },\n\n    // Horizontally center slide\n    // =========================\n\n    centerSlide: function(slide, duration) {\n      var self = this,\n        canvasWidth,\n        pos;\n\n      if (self.current) {\n        canvasWidth = Math.round(slide.$slide.width());\n        pos = slide.pos - self.current.pos;\n\n        $.fancybox.animate(\n          slide.$slide,\n          {\n            top: 0,\n            left: pos * canvasWidth + pos * slide.opts.gutter,\n            opacity: 1\n          },\n          duration === undefined ? 0 : duration,\n          null,\n          false\n        );\n      }\n    },\n\n    // Update cursor style depending if content can be zoomed\n    // ======================================================\n\n    updateCursor: function(nextWidth, nextHeight) {\n      var self = this,\n        current = self.current,\n        $container = self.$refs.container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut\"),\n        isZoomable;\n\n      if (!current || self.isClosing) {\n        return;\n      }\n\n      isZoomable = self.isZoomable();\n\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\n\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\n\n      // Set cursor to zoom in/out if click event is 'zoom'\n      if (\n        isZoomable &&\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) === \"zoom\"))\n      ) {\n        if (self.isScaledDown(nextWidth, nextHeight)) {\n          // If image is scaled down, then, obviously, it can be zoomed to full size\n          $container.addClass(\"fancybox-can-zoomIn\");\n        } else {\n          if (current.opts.touch) {\n            // If image size ir largen than available available and touch module is not disable,\n            // then user can do panning\n            $container.addClass(\"fancybox-can-drag\");\n          } else {\n            $container.addClass(\"fancybox-can-zoomOut\");\n          }\n        }\n      } else if (current.opts.touch && current.contentType !== \"video\") {\n        $container.addClass(\"fancybox-can-drag\");\n      }\n    },\n\n    // Check if current slide is zoomable\n    // ==================================\n\n    isZoomable: function() {\n      var self = this,\n        current = self.current,\n        fitPos;\n\n      // Assume that slide is zoomable if:\n      //   - image is still loading\n      //   - actual size of the image is smaller than available area\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\n        if (!current.isLoaded) {\n          return true;\n        }\n\n        fitPos = self.getFitPos(current);\n\n        if (current.width > fitPos.width || current.height > fitPos.height) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    // Check if current image dimensions are smaller than actual\n    // =========================================================\n\n    isScaledDown: function(nextWidth, nextHeight) {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content = current.$content;\n\n      if (nextWidth !== undefined && nextHeight !== undefined) {\n        rez = nextWidth < current.width && nextHeight < current.height;\n      } else if ($content) {\n        rez = $.fancybox.getTranslate($content);\n        rez = rez.width < current.width && rez.height < current.height;\n      }\n\n      return rez;\n    },\n\n    // Check if image dimensions exceed parent element\n    // ===============================================\n\n    canPan: function() {\n      var self = this,\n        rez = false,\n        current = self.current,\n        $content;\n\n      if (current.type === \"image\" && ($content = current.$content) && !current.hasError) {\n        rez = self.getFitPos(current);\n        rez = Math.abs($content.width() - rez.width) > 1 || Math.abs($content.height() - rez.height) > 1;\n      }\n\n      return rez;\n    },\n\n    // Load content into the slide\n    // ===========================\n\n    loadSlide: function(slide) {\n      var self = this,\n        type,\n        $slide,\n        ajaxLoad;\n\n      if (slide.isLoading || slide.isLoaded) {\n        return;\n      }\n\n      slide.isLoading = true;\n\n      self.trigger(\"beforeLoad\", slide);\n\n      type = slide.type;\n      $slide = slide.$slide;\n\n      $slide\n        .off(\"refresh\")\n        .trigger(\"onReset\")\n        .addClass(slide.opts.slideClass);\n\n      // Create content depending on the type\n      switch (type) {\n        case \"image\":\n          self.setImage(slide);\n\n          break;\n\n        case \"iframe\":\n          self.setIframe(slide);\n\n          break;\n\n        case \"html\":\n          self.setContent(slide, slide.src || slide.content);\n\n          break;\n\n        case \"video\":\n          self.setContent(\n            slide,\n            '<video class=\"fancybox-video\" controls controlsList=\"nodownload\">' +\n              '<source src=\"' +\n              slide.src +\n              '\" type=\"' +\n              slide.opts.videoFormat +\n              '\">' +\n              \"Your browser doesn't support HTML5 video\" +\n              \"</video\"\n          );\n\n          break;\n\n        case \"inline\":\n          if ($(slide.src).length) {\n            self.setContent(slide, $(slide.src));\n          } else {\n            self.setError(slide);\n          }\n\n          break;\n\n        case \"ajax\":\n          self.showLoading(slide);\n\n          ajaxLoad = $.ajax(\n            $.extend({}, slide.opts.ajax.settings, {\n              url: slide.src,\n              success: function(data, textStatus) {\n                if (textStatus === \"success\") {\n                  self.setContent(slide, data);\n                }\n              },\n              error: function(jqXHR, textStatus) {\n                if (jqXHR && textStatus !== \"abort\") {\n                  self.setError(slide);\n                }\n              }\n            })\n          );\n\n          $slide.one(\"onReset\", function() {\n            ajaxLoad.abort();\n          });\n\n          break;\n\n        default:\n          self.setError(slide);\n\n          break;\n      }\n\n      return true;\n    },\n\n    // Use thumbnail image, if possible\n    // ================================\n\n    setImage: function(slide) {\n      var self = this,\n        srcset = slide.opts.srcset || slide.opts.image.srcset,\n        thumbSrc,\n        found,\n        temp,\n        pxRatio,\n        windowWidth;\n\n      // Check if need to show loading icon\n      slide.timouts = setTimeout(function() {\n        var $img = slide.$image;\n\n        if (slide.isLoading && (!$img || !$img[0].complete) && !slide.hasError) {\n          self.showLoading(slide);\n        }\n      }, 350);\n\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\n      // This is necessary, because when you set an src attribute, the browser will preload the image\n      // before any javascript or even CSS is applied.\n      if (srcset) {\n        pxRatio = window.devicePixelRatio || 1;\n        windowWidth = window.innerWidth * pxRatio;\n\n        temp = srcset.split(\",\").map(function(el) {\n          var ret = {};\n\n          el\n            .trim()\n            .split(/\\s+/)\n            .forEach(function(el, i) {\n              var value = parseInt(el.substring(0, el.length - 1), 10);\n\n              if (i === 0) {\n                return (ret.url = el);\n              }\n\n              if (value) {\n                ret.value = value;\n                ret.postfix = el[el.length - 1];\n              }\n            });\n\n          return ret;\n        });\n\n        // Sort by value\n        temp.sort(function(a, b) {\n          return a.value - b.value;\n        });\n\n        // Ok, now we have an array of all srcset values\n        for (var j = 0; j < temp.length; j++) {\n          var el = temp[j];\n\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\n            found = el;\n            break;\n          }\n        }\n\n        // If not found, take the last one\n        if (!found && temp.length) {\n          found = temp[temp.length - 1];\n        }\n\n        if (found) {\n          slide.src = found.url;\n\n          // If we have default width/height values, we can calculate height for matching source\n          if (slide.width && slide.height && found.postfix == \"w\") {\n            slide.height = slide.width / slide.height * found.value;\n            slide.width = found.value;\n          }\n\n          slide.opts.srcset = srcset;\n        }\n      }\n\n      // This will be wrapper containing both ghost and actual image\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\n        .addClass(\"fancybox-is-hidden\")\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\n\n      // If we have a thumbnail, we can display it while actual image is loading\n      // Users will not stare at black screen and actual image will appear gradually\n      thumbSrc = slide.opts.thumb || (slide.opts.$thumb && slide.opts.$thumb.length ? slide.opts.$thumb.attr(\"src\") : false);\n\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && thumbSrc) {\n        slide.width = slide.opts.width;\n        slide.height = slide.opts.height;\n\n        slide.$ghost = $(\"<img />\")\n          .one(\"error\", function() {\n            $(this).remove();\n\n            slide.$ghost = null;\n          })\n          .one(\"load\", function() {\n            self.afterLoad(slide);\n          })\n          .addClass(\"fancybox-image\")\n          .appendTo(slide.$content)\n          .attr(\"src\", thumbSrc);\n      }\n\n      // Start loading actual image\n      self.setBigImage(slide);\n    },\n\n    // Create full-size image\n    // ======================\n\n    setBigImage: function(slide) {\n      var self = this,\n        $img = $(\"<img />\");\n\n      slide.$image = $img\n        .one(\"error\", function() {\n          self.setError(slide);\n        })\n        .one(\"load\", function() {\n          var sizes;\n\n          if (!slide.$ghost) {\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\n\n            self.afterLoad(slide);\n          }\n\n          // Clear timeout that checks if loading icon needs to be displayed\n          if (slide.timouts) {\n            clearTimeout(slide.timouts);\n            slide.timouts = null;\n          }\n\n          if (self.isClosing) {\n            return;\n          }\n\n          if (slide.opts.srcset) {\n            sizes = slide.opts.sizes;\n\n            if (!sizes || sizes === \"auto\") {\n              sizes =\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round(slide.width / slide.height * 100)) +\n                \"vw\";\n            }\n\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\n          }\n\n          // Hide temporary image after some delay\n          if (slide.$ghost) {\n            setTimeout(function() {\n              if (slide.$ghost && !self.isClosing) {\n                slide.$ghost.hide();\n              }\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\n          }\n\n          self.hideLoading(slide);\n        })\n        .addClass(\"fancybox-image\")\n        .attr(\"src\", slide.src)\n        .appendTo(slide.$content);\n\n      if (($img[0].complete || $img[0].readyState == \"complete\") && $img[0].naturalWidth && $img[0].naturalHeight) {\n        $img.trigger(\"load\");\n      } else if ($img[0].error) {\n        $img.trigger(\"error\");\n      }\n    },\n\n    // Computes the slide size from image size and maxWidth/maxHeight\n    // ==============================================================\n\n    resolveImageSlideSize: function(slide, imgWidth, imgHeight) {\n      var maxWidth = parseInt(slide.opts.width, 10),\n        maxHeight = parseInt(slide.opts.height, 10);\n\n      // Sets the default values from the image\n      slide.width = imgWidth;\n      slide.height = imgHeight;\n\n      if (maxWidth > 0) {\n        slide.width = maxWidth;\n        slide.height = Math.floor(maxWidth * imgHeight / imgWidth);\n      }\n\n      if (maxHeight > 0) {\n        slide.width = Math.floor(maxHeight * imgWidth / imgHeight);\n        slide.height = maxHeight;\n      }\n    },\n\n    // Create iframe wrapper, iframe and bindings\n    // ==========================================\n\n    setIframe: function(slide) {\n      var self = this,\n        opts = slide.opts.iframe,\n        $slide = slide.$slide,\n        $iframe;\n\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\n        .css(opts.css)\n        .appendTo($slide);\n\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\n        .attr(opts.attr)\n        .appendTo(slide.$content);\n\n      if (opts.preload) {\n        self.showLoading(slide);\n\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n        // (due to browser security policy)\n\n        $iframe.on(\"load.fb error.fb\", function(e) {\n          this.isReady = 1;\n\n          slide.$slide.trigger(\"refresh\");\n\n          self.afterLoad(slide);\n        });\n\n        // Recalculate iframe content size\n        // ===============================\n\n        $slide.on(\"refresh.fb\", function() {\n          var $content = slide.$content,\n            frameWidth = opts.css.width,\n            frameHeight = opts.css.height,\n            $contents,\n            $body;\n\n          if ($iframe[0].isReady !== 1) {\n            return;\n          }\n\n          try {\n            $contents = $iframe.contents();\n            $body = $contents.find(\"body\");\n          } catch (ignore) {}\n\n          // Calculate contnet dimensions if it is accessible\n          if ($body && $body.length && $body.children().length) {\n            $content.css({\n              width: \"\",\n              height: \"\"\n            });\n\n            if (frameWidth === undefined) {\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\n            }\n\n            if (frameWidth) {\n              $content.width(frameWidth);\n            }\n\n            if (frameHeight === undefined) {\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\n            }\n\n            if (frameHeight) {\n              $content.height(frameHeight);\n            }\n          }\n\n          $content.removeClass(\"fancybox-is-hidden\");\n        });\n      } else {\n        this.afterLoad(slide);\n      }\n\n      $iframe.attr(\"src\", slide.src);\n\n      // Remove iframe if closing or changing gallery item\n      $slide.one(\"onReset\", function() {\n        // This helps IE not to throw errors when closing\n        try {\n          $(this)\n            .find(\"iframe\")\n            .hide()\n            .unbind()\n            .attr(\"src\", \"//about:blank\");\n        } catch (ignore) {}\n\n        $(this)\n          .off(\"refresh.fb\")\n          .empty();\n\n        slide.isLoaded = false;\n      });\n    },\n\n    // Wrap and append content to the slide\n    // ======================================\n\n    setContent: function(slide, content) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      self.hideLoading(slide);\n\n      if (slide.$content) {\n        $.fancybox.stop(slide.$content);\n      }\n\n      slide.$slide.empty();\n\n      // If content is a jQuery object, then it will be moved to the slide.\n      // The placeholder is created so we will know where to put it back.\n      if (isQuery(content) && content.parent().length) {\n        // Make sure content is not already moved to fancyBox\n        content\n          .parent()\n          .parent(\".fancybox-slide--inline\")\n          .trigger(\"onReset\");\n\n        // Create temporary element marking original place of the content\n        slide.$placeholder = $(\"<div>\")\n          .hide()\n          .insertAfter(content);\n\n        // Make sure content is visible\n        content.css(\"display\", \"inline-block\");\n      } else if (!slide.hasError) {\n        // If content is just a plain text, try to convert it to html\n        if ($.type(content) === \"string\") {\n          content = $(\"<div>\")\n            .append($.trim(content))\n            .contents();\n\n          // If we have text node, then add wrapping element to make vertical alignment work\n          if (content[0].nodeType === 3) {\n            content = $(\"<div>\").html(content);\n          }\n        }\n\n        // If \"filter\" option is provided, then filter content\n        if (slide.opts.filter) {\n          content = $(\"<div>\")\n            .html(content)\n            .find(slide.opts.filter);\n        }\n      }\n\n      slide.$slide.one(\"onReset\", function() {\n        // Pause all html5 video/audio\n        $(this)\n          .find(\"video,audio\")\n          .trigger(\"pause\");\n\n        // Put content back\n        if (slide.$placeholder) {\n          slide.$placeholder.after(content.hide()).remove();\n\n          slide.$placeholder = null;\n        }\n\n        // Remove custom close button\n        if (slide.$smallBtn) {\n          slide.$smallBtn.remove();\n\n          slide.$smallBtn = null;\n        }\n\n        // Remove content and mark slide as not loaded\n        if (!slide.hasError) {\n          $(this).empty();\n\n          slide.isLoaded = false;\n        }\n      });\n\n      $(content).appendTo(slide.$slide);\n\n      if ($(content).is(\"video,audio\")) {\n        $(content).addClass(\"fancybox-video\");\n\n        $(content).wrap(\"<div></div>\");\n\n        slide.contentType = \"video\";\n\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\n      }\n\n      slide.$content = slide.$slide\n        .children()\n        .filter(\"div,form,main,video,audio\")\n        .first()\n        .addClass(\"fancybox-content\");\n\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\n\n      this.afterLoad(slide);\n    },\n\n    // Display error message\n    // =====================\n\n    setError: function(slide) {\n      slide.hasError = true;\n\n      slide.$slide\n        .trigger(\"onReset\")\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\n        .addClass(\"fancybox-slide--error\");\n\n      slide.contentType = \"html\";\n\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\n\n      if (slide.pos === this.currPos) {\n        this.isAnimating = false;\n      }\n    },\n\n    // Show loading icon inside the slide\n    // ==================================\n\n    showLoading: function(slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && !slide.$spinner) {\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl)).appendTo(slide.$slide);\n      }\n    },\n\n    // Remove loading icon from the slide\n    // ==================================\n\n    hideLoading: function(slide) {\n      var self = this;\n\n      slide = slide || self.current;\n\n      if (slide && slide.$spinner) {\n        slide.$spinner.remove();\n\n        delete slide.$spinner;\n      }\n    },\n\n    // Adjustments after slide content has been loaded\n    // ===============================================\n\n    afterLoad: function(slide) {\n      var self = this;\n\n      if (self.isClosing) {\n        return;\n      }\n\n      slide.isLoading = false;\n      slide.isLoaded = true;\n\n      self.trigger(\"afterLoad\", slide);\n\n      self.hideLoading(slide);\n\n      if (slide.pos === self.currPos) {\n        self.updateCursor();\n      }\n\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).prependTo(slide.$content);\n      }\n\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\n        // Disable right click\n        slide.$content.on(\"contextmenu.fb\", function(e) {\n          if (e.button == 2) {\n            e.preventDefault();\n          }\n\n          return true;\n        });\n\n        // Add fake element on top of the image\n        // This makes a bit harder for user to select image\n        if (slide.type === \"image\") {\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\n        }\n      }\n\n      self.revealContent(slide);\n    },\n\n    // Make content visible\n    // This method is called right after content has been loaded or\n    // user navigates gallery and transition should start\n    // ============================================================\n\n    revealContent: function(slide) {\n      var self = this,\n        $slide = slide.$slide,\n        end = false,\n        start = false,\n        effect,\n        effectClassName,\n        duration,\n        opacity;\n\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\n\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\n\n      // Do not animate if revealing the same slide\n      if (slide.pos === self.currPos) {\n        if (slide.isComplete) {\n          effect = false;\n        } else {\n          self.isAnimating = true;\n        }\n      }\n\n      if (slide.isMoved || slide.pos !== self.currPos || !duration) {\n        effect = false;\n      }\n\n      // Check if can zoom\n      if (effect === \"zoom\") {\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\n          end = self.getFitPos(slide);\n        } else {\n          effect = \"fade\";\n        }\n      }\n\n      // Zoom animation\n      // ==============\n      if (effect === \"zoom\") {\n        end.scaleX = end.width / start.width;\n        end.scaleY = end.height / start.height;\n\n        // Check if we need to animate opacity\n        opacity = slide.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\n        }\n\n        if (opacity) {\n          start.opacity = 0.1;\n          end.opacity = 1;\n        }\n\n        // Draw image at start position\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\n\n        forceRedraw(slide.$content);\n\n        // Start animation\n        $.fancybox.animate(slide.$content, end, duration, function() {\n          self.isAnimating = false;\n\n          self.complete();\n        });\n\n        return;\n      }\n\n      self.updateSlide(slide);\n\n      // Simply show content\n      // ===================\n\n      if (!effect) {\n        forceRedraw($slide);\n\n        slide.$content.removeClass(\"fancybox-is-hidden\");\n\n        if (slide.pos === self.currPos) {\n          self.complete();\n        }\n\n        return;\n      }\n\n      $.fancybox.stop($slide);\n\n      effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\n\n      $slide\n        .removeAttr(\"style\")\n        .removeClass(\"fancybox-slide--current fancybox-slide--next fancybox-slide--previous\")\n        .addClass(effectClassName);\n\n      slide.$content.removeClass(\"fancybox-is-hidden\");\n\n      // Force reflow for CSS3 transitions\n      forceRedraw($slide);\n\n      $.fancybox.animate(\n        $slide,\n        \"fancybox-slide--current\",\n        duration,\n        function(e) {\n          $slide.removeClass(effectClassName).removeAttr(\"style\");\n\n          if (slide.pos === self.currPos) {\n            self.complete();\n          }\n        },\n        true\n      );\n    },\n\n    // Check if we can and have to zoom from thumbnail\n    //================================================\n\n    getThumbPos: function(slide) {\n      var self = this,\n        rez = false,\n        $thumb = slide.opts.$thumb,\n        thumbPos = $thumb && $thumb.length && $thumb[0].ownerDocument === document ? $thumb.offset() : 0,\n        slidePos;\n\n      // Check if element is inside the viewport by at least 1 pixel\n      var isElementVisible = function($el) {\n        var element = $el[0],\n          elementRect = element.getBoundingClientRect(),\n          parentRects = [],\n          visibleInAllParents;\n\n        while (element.parentElement !== null) {\n          if ($(element.parentElement).css(\"overflow\") === \"hidden\" || $(element.parentElement).css(\"overflow\") === \"auto\") {\n            parentRects.push(element.parentElement.getBoundingClientRect());\n          }\n\n          element = element.parentElement;\n        }\n\n        visibleInAllParents = parentRects.every(function(parentRect) {\n          var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\n          var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\n\n          return visiblePixelX > 0 && visiblePixelY > 0;\n        });\n\n        return (\n          visibleInAllParents &&\n          elementRect.bottom > 0 &&\n          elementRect.right > 0 &&\n          elementRect.left < $(window).width() &&\n          elementRect.top < $(window).height()\n        );\n      };\n\n      if (thumbPos && isElementVisible($thumb)) {\n        slidePos = self.$refs.stage.offset();\n\n        rez = {\n          top: thumbPos.top - slidePos.top + parseFloat($thumb.css(\"border-top-width\") || 0),\n          left: thumbPos.left - slidePos.left + parseFloat($thumb.css(\"border-left-width\") || 0),\n          width: $thumb.width(),\n          height: $thumb.height(),\n          scaleX: 1,\n          scaleY: 1\n        };\n      }\n\n      return rez;\n    },\n\n    // Final adjustments after current gallery item is moved to position\n    // and it`s content is loaded\n    // ==================================================================\n\n    complete: function() {\n      var self = this,\n        current = self.current,\n        slides = {};\n\n      if (current.isMoved || !current.isLoaded) {\n        return;\n      }\n\n      if (!current.isComplete) {\n        current.isComplete = true;\n\n        current.$slide.siblings().trigger(\"onReset\");\n\n        self.preload(\"inline\");\n\n        // Trigger any CSS3 transiton inside the slide\n        forceRedraw(current.$slide);\n\n        current.$slide.addClass(\"fancybox-slide--complete\");\n\n        // Remove unnecessary slides\n        $.each(self.slides, function(key, slide) {\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\n            slides[slide.pos] = slide;\n          } else if (slide) {\n            $.fancybox.stop(slide.$slide);\n\n            slide.$slide.off().remove();\n          }\n        });\n\n        self.slides = slides;\n      }\n\n      self.isAnimating = false;\n\n      self.updateCursor();\n\n      self.trigger(\"afterShow\");\n\n      // Play first html5 video/audio\n      current.$slide\n        .find(\"video,audio\")\n        .filter(\":visible:first\")\n        .trigger(\"play\");\n\n      // Try to focus on the first focusable element\n      if (\n        $(document.activeElement).is(\"[disabled]\") ||\n        (current.opts.autoFocus && !(current.type == \"image\" || current.type === \"iframe\"))\n      ) {\n        self.focus();\n      }\n    },\n\n    // Preload next and previous slides\n    // ================================\n\n    preload: function(type) {\n      var self = this,\n        next = self.slides[self.currPos + 1],\n        prev = self.slides[self.currPos - 1];\n\n      if (next && next.type === type) {\n        self.loadSlide(next);\n      }\n\n      if (prev && prev.type === type) {\n        self.loadSlide(prev);\n      }\n    },\n\n    // Try to find and focus on the first focusable element\n    // ====================================================\n\n    focus: function() {\n      var current = this.current,\n        $el;\n\n      if (this.isClosing) {\n        return;\n      }\n\n      if (current && current.isComplete && current.$content) {\n        // Look for first input with autofocus attribute\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\n\n        if (!$el.length) {\n          $el = current.$content.find(\"button,:input,[tabindex],a\").filter(\":enabled:visible:first\");\n        }\n\n        $el = $el && $el.length ? $el : current.$content;\n\n        $el.trigger(\"focus\");\n      }\n    },\n\n    // Activates current instance - brings container to the front and enables keyboard,\n    // notifies other instances about deactivating\n    // =================================================================================\n\n    activate: function() {\n      var self = this;\n\n      // Deactivate all instances\n      $(\".fancybox-container\").each(function() {\n        var instance = $(this).data(\"FancyBox\");\n\n        // Skip self and closing instances\n        if (instance && instance.id !== self.id && !instance.isClosing) {\n          instance.trigger(\"onDeactivate\");\n\n          instance.removeEvents();\n\n          instance.isVisible = false;\n        }\n      });\n\n      self.isVisible = true;\n\n      if (self.current || self.isIdle) {\n        self.update();\n\n        self.updateControls();\n      }\n\n      self.trigger(\"onActivate\");\n\n      self.addEvents();\n    },\n\n    // Start closing procedure\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n    // =================================================================================\n\n    close: function(e, d) {\n      var self = this,\n        current = self.current,\n        effect,\n        duration,\n        $content,\n        domRect,\n        opacity,\n        start,\n        end;\n\n      var done = function() {\n        self.cleanUp(e);\n      };\n\n      if (self.isClosing) {\n        return false;\n      }\n\n      self.isClosing = true;\n\n      // If beforeClose callback prevents closing, make sure content is centered\n      if (self.trigger(\"beforeClose\", e) === false) {\n        self.isClosing = false;\n\n        requestAFrame(function() {\n          self.update();\n        });\n\n        return false;\n      }\n\n      // Remove all events\n      // If there are multiple instances, they will be set again by \"activate\" method\n      self.removeEvents();\n\n      if (current.timouts) {\n        clearTimeout(current.timouts);\n      }\n\n      $content = current.$content;\n      effect = current.opts.animationEffect;\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\n\n      // Remove other slides\n      current.$slide\n        .off(transitionEnd)\n        .removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\n\n      current.$slide\n        .siblings()\n        .trigger(\"onReset\")\n        .remove();\n\n      // Trigger animations\n      if (duration) {\n        self.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\");\n      }\n\n      // Clean up\n      self.hideLoading(current);\n\n      self.hideControls();\n\n      self.updateCursor();\n\n      // Check if possible to zoom-out\n      if (\n        effect === \"zoom\" &&\n        !(e !== true && $content && duration && current.type === \"image\" && !current.hasError && (end = self.getThumbPos(current)))\n      ) {\n        effect = \"fade\";\n      }\n\n      if (effect === \"zoom\") {\n        $.fancybox.stop($content);\n\n        domRect = $.fancybox.getTranslate($content);\n\n        start = {\n          top: domRect.top,\n          left: domRect.left,\n          scaleX: domRect.width / end.width,\n          scaleY: domRect.height / end.height,\n          width: end.width,\n          height: end.height\n        };\n\n        // Check if we need to animate opacity\n        opacity = current.opts.zoomOpacity;\n\n        if (opacity == \"auto\") {\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\n        }\n\n        if (opacity) {\n          end.opacity = 0;\n        }\n\n        $.fancybox.setTranslate($content, start);\n\n        forceRedraw($content);\n\n        $.fancybox.animate($content, end, duration, done);\n\n        return true;\n      }\n\n      if (effect && duration) {\n        // If skip animation\n        if (e === true) {\n          setTimeout(done, duration);\n        } else {\n          $.fancybox.animate(\n            current.$slide.removeClass(\"fancybox-slide--current\"),\n            \"fancybox-animated fancybox-slide--previous fancybox-fx-\" + effect,\n            duration,\n            done\n          );\n        }\n      } else {\n        done();\n      }\n\n      return true;\n    },\n\n    // Final adjustments after removing the instance\n    // =============================================\n\n    cleanUp: function(e) {\n      var self = this,\n        $body = $(\"body\"),\n        instance,\n        scrollTop;\n\n      self.current.$slide.trigger(\"onReset\");\n\n      self.$refs.container.empty().remove();\n\n      self.trigger(\"afterClose\", e);\n\n      // Place back focus\n      if (self.$lastFocus && !!self.current.opts.backFocus) {\n        self.$lastFocus.trigger(\"focus\");\n      }\n\n      self.current = null;\n\n      // Check if there are other instances\n      instance = $.fancybox.getInstance();\n\n      if (instance) {\n        instance.activate();\n      } else {\n        $body.removeClass(\"fancybox-active compensate-for-scrollbar\");\n\n        $(\"#fancybox-style-noscroll\").remove();\n      }\n    },\n\n    // Call callback and trigger an event\n    // ==================================\n\n    trigger: function(name, slide) {\n      var args = Array.prototype.slice.call(arguments, 1),\n        self = this,\n        obj = slide && slide.opts ? slide : self.current,\n        rez;\n\n      if (obj) {\n        args.unshift(obj);\n      } else {\n        obj = self;\n      }\n\n      args.unshift(self);\n\n      if ($.isFunction(obj.opts[name])) {\n        rez = obj.opts[name].apply(obj, args);\n      }\n\n      if (rez === false) {\n        return rez;\n      }\n\n      if (name === \"afterClose\" || !self.$refs) {\n        $D.trigger(name + \".fb\", args);\n      } else {\n        self.$refs.container.trigger(name + \".fb\", args);\n      }\n    },\n\n    // Update infobar values, navigation button states and reveal caption\n    // ==================================================================\n\n    updateControls: function(force) {\n      var self = this,\n        current = self.current,\n        index = current.index,\n        caption = current.opts.caption,\n        $container = self.$refs.container,\n        $caption = self.$refs.caption;\n\n      // Recalculate content dimensions\n      current.$slide.trigger(\"refresh\");\n\n      self.$caption = caption && caption.length ? $caption.html(caption) : null;\n\n      if (!self.isHiddenControls && !self.isIdle) {\n        self.showControls();\n      }\n\n      // Update info and navigation elements\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\n\n      $container.find(\"[data-fancybox-prev]\").toggleClass(\"disabled\", !current.opts.loop && index <= 0);\n      $container.find(\"[data-fancybox-next]\").toggleClass(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\n\n      if (current.type === \"image\") {\n        // Re-enable buttons; update download button source\n        $container\n          .find(\"[data-fancybox-zoom]\")\n          .show()\n          .end()\n          .find(\"[data-fancybox-download]\")\n          .attr(\"href\", current.opts.image.src || current.src)\n          .show();\n      } else if (current.opts.toolbar) {\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\n      }\n    },\n\n    // Hide toolbar and caption\n    // ========================\n\n    hideControls: function() {\n      this.isHiddenControls = true;\n\n      this.$refs.container.removeClass(\"fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav\");\n    },\n\n    showControls: function() {\n      var self = this,\n        opts = self.current ? self.current.opts : self.opts,\n        $container = self.$refs.container;\n\n      self.isHiddenControls = false;\n      self.idleSecondsCounter = 0;\n\n      $container\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\n\n      if (self.$caption) {\n        $container.addClass(\"fancybox-show-caption \");\n      } else {\n        $container.removeClass(\"fancybox-show-caption\");\n      }\n    },\n\n    // Toggle toolbar and caption\n    // ==========================\n\n    toggleControls: function() {\n      if (this.isHiddenControls) {\n        this.showControls();\n      } else {\n        this.hideControls();\n      }\n    }\n  });\n\n  $.fancybox = {\n    version: \"3.3.5\",\n    defaults: defaults,\n\n    // Get current instance and execute a command.\n    //\n    // Examples of usage:\n    //\n    //   $instance = $.fancybox.getInstance();\n    //   $.fancybox.getInstance().jumpTo( 1 );\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\n    //   $.fancybox.getInstance( function() {\n    //       console.info( this.currIndex );\n    //   });\n    // ======================================================\n\n    getInstance: function(command) {\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\n        args = Array.prototype.slice.call(arguments, 1);\n\n      if (instance instanceof FancyBox) {\n        if ($.type(command) === \"string\") {\n          instance[command].apply(instance, args);\n        } else if ($.type(command) === \"function\") {\n          command.apply(instance, args);\n        }\n\n        return instance;\n      }\n\n      return false;\n    },\n\n    // Create new instance\n    // ===================\n\n    open: function(items, opts, index) {\n      return new FancyBox(items, opts, index);\n    },\n\n    // Close current or all instances\n    // ==============================\n\n    close: function(all) {\n      var instance = this.getInstance();\n\n      if (instance) {\n        instance.close();\n\n        // Try to find and close next instance\n\n        if (all === true) {\n          this.close();\n        }\n      }\n    },\n\n    // Close all instances and unbind all events\n    // =========================================\n\n    destroy: function() {\n      this.close(true);\n\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\n    },\n\n    // Try to detect mobile devices\n    // ============================\n\n    isMobile:\n      document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n    // Detect if 'translate3d' support is available\n    // ============================================\n\n    use3d: (function() {\n      var div = document.createElement(\"div\");\n\n      return (\n        window.getComputedStyle &&\n        window.getComputedStyle(div) &&\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\n        !(document.documentMode && document.documentMode < 11)\n      );\n    })(),\n\n    // Helper function to get current visual state of an element\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n    // =====================================================================\n\n    getTranslate: function($el) {\n      var domRect;\n\n      if (!$el || !$el.length) {\n        return false;\n      }\n\n      domRect = $el[0].getBoundingClientRect();\n\n      return {\n        top: domRect.top || 0,\n        left: domRect.left || 0,\n        width: domRect.width,\n        height: domRect.height,\n        opacity: parseFloat($el.css(\"opacity\"))\n      };\n    },\n\n    // Shortcut for setting \"translate3d\" properties for element\n    // Can set be used to set opacity, too\n    // ========================================================\n\n    setTranslate: function($el, props) {\n      var str = \"\",\n        css = {};\n\n      if (!$el || !props) {\n        return;\n      }\n\n      if (props.left !== undefined || props.top !== undefined) {\n        str =\n          (props.left === undefined ? $el.position().left : props.left) +\n          \"px, \" +\n          (props.top === undefined ? $el.position().top : props.top) +\n          \"px\";\n\n        if (this.use3d) {\n          str = \"translate3d(\" + str + \", 0px)\";\n        } else {\n          str = \"translate(\" + str + \")\";\n        }\n      }\n\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\n        str = (str.length ? str + \" \" : \"\") + \"scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\n      }\n\n      if (str.length) {\n        css.transform = str;\n      }\n\n      if (props.opacity !== undefined) {\n        css.opacity = props.opacity;\n      }\n\n      if (props.width !== undefined) {\n        css.width = props.width;\n      }\n\n      if (props.height !== undefined) {\n        css.height = props.height;\n      }\n\n      return $el.css(css);\n    },\n\n    // Simple CSS transition handler\n    // =============================\n\n    animate: function($el, to, duration, callback, leaveAnimationName) {\n      var final = false;\n\n      if ($.isFunction(duration)) {\n        callback = duration;\n        duration = null;\n      }\n\n      if (!$.isPlainObject(to)) {\n        $el.removeAttr(\"style\");\n      }\n\n      $.fancybox.stop($el);\n\n      $el.on(transitionEnd, function(e) {\n        // Skip events from child elements and z-index change\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\n          return;\n        }\n\n        $.fancybox.stop($el);\n\n        if (final) {\n          $.fancybox.setTranslate($el, final);\n        }\n\n        if ($.isPlainObject(to)) {\n          if (leaveAnimationName === false) {\n            $el.removeAttr(\"style\");\n          }\n        } else if (leaveAnimationName !== true) {\n          $el.removeClass(to);\n        }\n\n        if ($.isFunction(callback)) {\n          callback(e);\n        }\n      });\n\n      if ($.isNumeric(duration)) {\n        $el.css(\"transition-duration\", duration + \"ms\");\n      }\n\n      // Start animation by changing CSS properties or class name\n      if ($.isPlainObject(to)) {\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\n          final = $.extend({}, to, {\n            width: $el.width() * to.scaleX,\n            height: $el.height() * to.scaleY,\n            scaleX: 1,\n            scaleY: 1\n          });\n\n          delete to.width;\n          delete to.height;\n\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\n            $el.parent().addClass(\"fancybox-is-scaling\");\n          }\n        }\n\n        $.fancybox.setTranslate($el, to);\n      } else {\n        $el.addClass(to);\n      }\n\n      // Make sure that `transitionend` callback gets fired\n      $el.data(\n        \"timer\",\n        setTimeout(function() {\n          $el.trigger(\"transitionend\");\n        }, duration + 16)\n      );\n    },\n\n    stop: function($el) {\n      if ($el && $el.length) {\n        clearTimeout($el.data(\"timer\"));\n\n        $el.off(\"transitionend\").css(\"transition-duration\", \"\");\n\n        $el.parent().removeClass(\"fancybox-is-scaling\");\n      }\n    }\n  };\n\n  // Default click handler for \"fancyboxed\" links\n  // ============================================\n\n  function _run(e, opts) {\n    var items = [],\n      index = 0,\n      $target,\n      value;\n\n    // Avoid opening multiple times\n    if (e && e.isDefaultPrevented()) {\n      return;\n    }\n\n    e.preventDefault();\n\n    opts = e && e.data ? e.data.options : opts || {};\n\n    $target = opts.$target || $(e.currentTarget);\n    value = $target.attr(\"data-fancybox\") || \"\";\n\n    // Get all related items and find index for clicked one\n    if (value) {\n      items = opts.selector ? $(opts.selector) : e.data ? e.data.items : [];\n      items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\n\n      index = items.index($target);\n\n      // Sometimes current item can not be found (for example, if some script clones items)\n      if (index < 0) {\n        index = 0;\n      }\n    } else {\n      items = [$target];\n    }\n\n    $.fancybox.open(items, opts, index);\n  }\n\n  // Create a jQuery plugin\n  // ======================\n\n  $.fn.fancybox = function(options) {\n    var selector;\n\n    options = options || {};\n    selector = options.selector || false;\n\n    if (selector) {\n      // Use body element instead of document so it executes first\n      $(\"body\")\n        .off(\"click.fb-start\", selector)\n        .on(\"click.fb-start\", selector, {options: options}, _run);\n    } else {\n      this.off(\"click.fb-start\").on(\n        \"click.fb-start\",\n        {\n          items: this,\n          options: options\n        },\n        _run\n      );\n    }\n\n    return this;\n  };\n\n  // Self initializing plugin for all elements having `data-fancybox` attribute\n  // ==========================================================================\n\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\n\n  // Enable \"trigger elements\"\n  // =========================\n\n  $D.on(\"click.fb-start\", \"[data-trigger]\", function(e) {\n    _run(e, {\n      $target: $('[data-fancybox=\"' + $(e.currentTarget).attr(\"data-trigger\") + '\"]').eq($(e.currentTarget).attr(\"data-index\") || 0),\n      $trigger: $(this)\n    });\n  });\n})(window, document, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n(function($) {\n  \"use strict\";\n\n  // Formats matching url to final form\n\n  var format = function(url, rez, params) {\n    if (!url) {\n      return;\n    }\n\n    params = params || \"\";\n\n    if ($.type(params) === \"object\") {\n      params = $.param(params, true);\n    }\n\n    $.each(rez, function(key, value) {\n      url = url.replace(\"$\" + key, value || \"\");\n    });\n\n    if (params.length) {\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\n    }\n\n    return url;\n  };\n\n  // Object containing properties for each media type\n\n  var defaults = {\n    youtube: {\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n      params: {\n        autoplay: 1,\n        autohide: 1,\n        fs: 1,\n        rel: 0,\n        hd: 1,\n        wmode: \"transparent\",\n        enablejsapi: 1,\n        html5: 1\n      },\n      paramPlace: 8,\n      type: \"iframe\",\n      url: \"//www.youtube.com/embed/$4\",\n      thumb: \"//img.youtube.com/vi/$4/hqdefault.jpg\"\n    },\n\n    vimeo: {\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n      params: {\n        autoplay: 1,\n        hd: 1,\n        show_title: 1,\n        show_byline: 1,\n        show_portrait: 0,\n        fullscreen: 1,\n        api: 1\n      },\n      paramPlace: 3,\n      type: \"iframe\",\n      url: \"//player.vimeo.com/video/$2\"\n    },\n\n    instagram: {\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n      type: \"image\",\n      url: \"//$1/p/$2/media/?size=l\"\n    },\n\n    // Examples:\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n    gmap_place: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n      type: \"iframe\",\n      url: function(rez) {\n        return (\n          \"//maps.google.\" +\n          rez[2] +\n          \"/?ll=\" +\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\n          \"&output=\" +\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\n        );\n      }\n    },\n\n    // Examples:\n    // https://www.google.com/maps/search/Empire+State+Building/\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n    gmap_search: {\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n      type: \"iframe\",\n      url: function(rez) {\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\n      }\n    }\n  };\n\n  $(document).on(\"objectNeedsType.fb\", function(e, instance, item) {\n    var url = item.src || \"\",\n      type = false,\n      media,\n      thumb,\n      rez,\n      params,\n      urlParams,\n      paramObj,\n      provider;\n\n    media = $.extend(true, {}, defaults, item.opts.media);\n\n    // Look for any matching media type\n    $.each(media, function(providerName, providerOpts) {\n      rez = url.match(providerOpts.matcher);\n\n      if (!rez) {\n        return;\n      }\n\n      type = providerOpts.type;\n      provider = providerName;\n      paramObj = {};\n\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\n        urlParams = rez[providerOpts.paramPlace];\n\n        if (urlParams[0] == \"?\") {\n          urlParams = urlParams.substring(1);\n        }\n\n        urlParams = urlParams.split(\"&\");\n\n        for (var m = 0; m < urlParams.length; ++m) {\n          var p = urlParams[m].split(\"=\", 2);\n\n          if (p.length == 2) {\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n          }\n        }\n      }\n\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\n\n      url =\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\n\n      thumb =\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\n\n      if (providerName === \"youtube\") {\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function(match, p1, m, s) {\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\n        });\n      } else if (providerName === \"vimeo\") {\n        url = url.replace(\"&%23\", \"#\");\n      }\n\n      return false;\n    });\n\n    // If it is found, then change content type and update the url\n\n    if (type) {\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\n        item.opts.thumb = thumb;\n      }\n\n      if (type === \"iframe\") {\n        item.opts = $.extend(true, item.opts, {\n          iframe: {\n            preload: false,\n            attr: {\n              scrolling: \"no\"\n            }\n          }\n        });\n      }\n\n      $.extend(item, {\n        type: type,\n        src: url,\n        origSrc: item.src,\n        contentSource: provider,\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\n      });\n    } else if (url) {\n      item.type = item.opts.defaultType;\n    }\n  });\n})(window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n(function(window, document, $) {\n  \"use strict\";\n\n  var requestAFrame = (function() {\n    return (\n      window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      // if all else fails, use setTimeout\n      function(callback) {\n        return window.setTimeout(callback, 1000 / 60);\n      }\n    );\n  })();\n\n  var cancelAFrame = (function() {\n    return (\n      window.cancelAnimationFrame ||\n      window.webkitCancelAnimationFrame ||\n      window.mozCancelAnimationFrame ||\n      window.oCancelAnimationFrame ||\n      function(id) {\n        window.clearTimeout(id);\n      }\n    );\n  })();\n\n  var getPointerXY = function(e) {\n    var result = [];\n\n    e = e.originalEvent || e || window.e;\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\n\n    for (var key in e) {\n      if (e[key].pageX) {\n        result.push({\n          x: e[key].pageX,\n          y: e[key].pageY\n        });\n      } else if (e[key].clientX) {\n        result.push({\n          x: e[key].clientX,\n          y: e[key].clientY\n        });\n      }\n    }\n\n    return result;\n  };\n\n  var distance = function(point2, point1, what) {\n    if (!point1 || !point2) {\n      return 0;\n    }\n\n    if (what === \"x\") {\n      return point2.x - point1.x;\n    } else if (what === \"y\") {\n      return point2.y - point1.y;\n    }\n\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n  };\n\n  var isClickable = function($el) {\n    if (\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio') ||\n      $.isFunction($el.get(0).onclick) ||\n      $el.data(\"selectable\")\n    ) {\n      return true;\n    }\n\n    // Check for attributes like data-fancybox-next or data-fancybox-close\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var hasScrollbars = function(el) {\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\n\n    return vertical || horizontal;\n  };\n\n  var isScrollable = function($el) {\n    var rez = false;\n\n    while (true) {\n      rez = hasScrollbars($el.get(0));\n\n      if (rez) {\n        break;\n      }\n\n      $el = $el.parent();\n\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\n        break;\n      }\n    }\n\n    return rez;\n  };\n\n  var Guestures = function(instance) {\n    var self = this;\n\n    self.instance = instance;\n\n    self.$bg = instance.$refs.bg;\n    self.$stage = instance.$refs.stage;\n    self.$container = instance.$refs.container;\n\n    self.destroy();\n\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\n  };\n\n  Guestures.prototype.destroy = function() {\n    this.$container.off(\".fb.touch\");\n  };\n\n  Guestures.prototype.ontouchstart = function(e) {\n    var self = this,\n      $target = $(e.target),\n      instance = self.instance,\n      current = instance.current,\n      $content = current.$content,\n      isTouchDevice = e.type == \"touchstart\";\n\n    // Do not respond to both (touch and mouse) events\n    if (isTouchDevice) {\n      self.$container.off(\"mousedown.fb.touch\");\n    }\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Ignore taping on links, buttons, input elements\n    if (!$target.length || isClickable($target) || isClickable($target.parent())) {\n      return;\n    }\n\n    // Ignore clicks on the scrollbar\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Ignore clicks while zooming or closing\n    if (!current || instance.isAnimating || instance.isClosing) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    self.realPoints = self.startPoints = getPointerXY(e);\n\n    if (!self.startPoints.length) {\n      return;\n    }\n\n    e.stopPropagation();\n\n    self.startEvent = e;\n\n    self.canTap = true;\n    self.$target = $target;\n    self.$content = $content;\n    self.opts = current.opts.touch;\n\n    self.isPanning = false;\n    self.isSwiping = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.startTime = new Date().getTime();\n    self.distanceX = self.distanceY = self.distance = 0;\n\n    self.canvasWidth = Math.round(current.$slide[0].clientWidth);\n    self.canvasHeight = Math.round(current.$slide[0].clientHeight);\n\n    self.contentLastPos = null;\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {top: 0, left: 0};\n    self.sliderStartPos = self.sliderLastPos || $.fancybox.getTranslate(current.$slide);\n\n    // Since position will be absolute, but we need to make it relative to the stage\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\n\n    self.sliderStartPos.top -= self.stagePos.top;\n    self.sliderStartPos.left -= self.stagePos.left;\n\n    self.contentStartPos.top -= self.stagePos.top;\n    self.contentStartPos.left -= self.stagePos.left;\n\n    $(document)\n      .off(\".fb.touch\")\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\n\n    if ($.fancybox.isMobile) {\n      document.addEventListener(\"scroll\", self.onscroll, true);\n    }\n\n    if (!(self.opts || instance.canPan()) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      if ($target.is(\".fancybox-image\")) {\n        e.preventDefault();\n      }\n\n      return;\n    }\n\n    if (!($.fancybox.isMobile && (isScrollable($target) || isScrollable($target.parent())))) {\n      e.preventDefault();\n    }\n\n    if (self.startPoints.length === 1 || current.hasError) {\n      if (self.instance.canPan()) {\n        $.fancybox.stop(self.$content);\n\n        self.$content.css(\"transition-duration\", \"\");\n\n        self.isPanning = true;\n      } else {\n        self.isSwiping = true;\n      }\n\n      self.$container.addClass(\"fancybox-controls--isGrabbing\");\n    }\n\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\n      self.canTap = false;\n      self.isSwiping = false;\n      self.isPanning = false;\n\n      self.isZooming = true;\n\n      $.fancybox.stop(self.$content);\n\n      self.$content.css(\"transition-duration\", \"\");\n\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\n\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\n\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\n    }\n  };\n\n  Guestures.prototype.onscroll = function(e) {\n    var self = this;\n\n    self.isScrolling = true;\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n  };\n\n  Guestures.prototype.ontouchmove = function(e) {\n    var self = this,\n      $target = $(e.target);\n\n    // Make sure user has not released over iframe or disabled element\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\n      self.ontouchend(e);\n      return;\n    }\n\n    if (self.isScrolling || !($target.is(self.$stage) || self.$stage.find($target).length)) {\n      self.canTap = false;\n\n      return;\n    }\n\n    self.newPoints = getPointerXY(e);\n\n    if (!(self.opts || self.instance.canPan()) || !self.newPoints.length || !self.newPoints.length) {\n      return;\n    }\n\n    if (!(self.isSwiping && self.isSwiping === true)) {\n      e.preventDefault();\n    }\n\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\n\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\n\n    // Skip false ontouchmove events (Chrome)\n    if (self.distance > 0) {\n      if (self.isSwiping) {\n        self.onSwipe(e);\n      } else if (self.isPanning) {\n        self.onPan();\n      } else if (self.isZooming) {\n        self.onZoom();\n      }\n    }\n  };\n\n  Guestures.prototype.onSwipe = function(e) {\n    var self = this,\n      swiping = self.isSwiping,\n      left = self.sliderStartPos.left || 0,\n      angle;\n\n    // If direction is not yet determined\n    if (swiping === true) {\n      // We need at least 10px distance to correctly calculate an angle\n      if (Math.abs(self.distance) > 10) {\n        self.canTap = false;\n\n        if (self.instance.group.length < 2 && self.opts.vertical) {\n          self.isSwiping = \"y\";\n        } else if (self.instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\n          self.isSwiping = \"x\";\n        } else {\n          angle = Math.abs(Math.atan2(self.distanceY, self.distanceX) * 180 / Math.PI);\n\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\n        }\n\n        self.canTap = false;\n\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && (isScrollable(self.$target) || isScrollable(self.$target.parent()))) {\n          self.isScrolling = true;\n\n          return;\n        }\n\n        self.instance.isDragging = self.isSwiping;\n\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n        self.startPoints = self.newPoints;\n\n        $.each(self.instance.slides, function(index, slide) {\n          $.fancybox.stop(slide.$slide);\n\n          slide.$slide.css(\"transition-duration\", \"\");\n\n          slide.inTransition = false;\n\n          if (slide.pos === self.instance.current.pos) {\n            self.sliderStartPos.left = $.fancybox.getTranslate(slide.$slide).left - $.fancybox.getTranslate(self.instance.$refs.stage).left;\n          }\n        });\n\n        // Stop slideshow\n        if (self.instance.SlideShow && self.instance.SlideShow.isActive) {\n          self.instance.SlideShow.stop();\n        }\n      }\n\n      return;\n    }\n\n    // Sticky edges\n    if (swiping == \"x\") {\n      if (\n        self.distanceX > 0 &&\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\n      ) {\n        left = left + Math.pow(self.distanceX, 0.8);\n      } else if (\n        self.distanceX < 0 &&\n        (self.instance.group.length < 2 ||\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\n      ) {\n        left = left - Math.pow(-self.distanceX, 0.8);\n      } else {\n        left = left + self.distanceX;\n      }\n    }\n\n    self.sliderLastPos = {\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\n      left: left\n    };\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function() {\n      if (self.sliderLastPos) {\n        $.each(self.instance.slides, function(index, slide) {\n          var pos = slide.pos - self.instance.currPos;\n\n          $.fancybox.setTranslate(slide.$slide, {\n            top: self.sliderLastPos.top,\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\n          });\n        });\n\n        self.$container.addClass(\"fancybox-is-sliding\");\n      }\n    });\n  };\n\n  Guestures.prototype.onPan = function() {\n    var self = this;\n\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\n      self.startPoints = self.newPoints;\n      return;\n    }\n\n    self.canTap = false;\n\n    self.contentLastPos = self.limitMovement();\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function() {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  // Make panning sticky to the edges\n  Guestures.prototype.limitMovement = function() {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    var distanceX = self.distanceX;\n    var distanceY = self.distanceY;\n\n    var contentStartPos = self.contentStartPos;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\n\n    if (currentWidth > canvasWidth) {\n      newOffsetX = currentOffsetX + distanceX;\n    } else {\n      newOffsetX = currentOffsetX;\n    }\n\n    newOffsetY = currentOffsetY + distanceY;\n\n    // Slow down proportionally to traveled distance\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\n\n    //   ->\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\n    }\n\n    //    <-\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\n    }\n\n    //   \\/\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\n    }\n\n    //   /\\\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.limitPosition = function(newOffsetX, newOffsetY, newWidth, newHeight) {\n    var self = this;\n\n    var canvasWidth = self.canvasWidth;\n    var canvasHeight = self.canvasHeight;\n\n    if (newWidth > canvasWidth) {\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n    } else {\n      // Center horizontally\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\n    }\n\n    if (newHeight > canvasHeight) {\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n    } else {\n      // Center vertically\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\n    }\n\n    return {\n      top: newOffsetY,\n      left: newOffsetX\n    };\n  };\n\n  Guestures.prototype.onZoom = function() {\n    var self = this;\n\n    // Calculate current distance between points to get pinch ratio and new width and height\n    var contentStartPos = self.contentStartPos;\n\n    var currentWidth = contentStartPos.width;\n    var currentHeight = contentStartPos.height;\n\n    var currentOffsetX = contentStartPos.left;\n    var currentOffsetY = contentStartPos.top;\n\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\n\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n    var newWidth = Math.floor(currentWidth * pinchRatio);\n    var newHeight = Math.floor(currentHeight * pinchRatio);\n\n    // This is the translation due to pinch-zooming\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n    // Point between the two touches\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\n\n    // And this is the translation due to translation of the centerpoint\n    // between the two fingers\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n    // The new offset is the old/current one plus the total translation\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\n\n    var newPos = {\n      top: newOffsetY,\n      left: newOffsetX,\n      scaleX: pinchRatio,\n      scaleY: pinchRatio\n    };\n\n    self.canTap = false;\n\n    self.newWidth = newWidth;\n    self.newHeight = newHeight;\n\n    self.contentLastPos = newPos;\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.requestId = requestAFrame(function() {\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\n    });\n  };\n\n  Guestures.prototype.ontouchend = function(e) {\n    var self = this;\n    var dMs = Math.max(new Date().getTime() - self.startTime, 1);\n\n    var swiping = self.isSwiping;\n    var panning = self.isPanning;\n    var zooming = self.isZooming;\n    var scrolling = self.isScrolling;\n\n    self.endPoints = getPointerXY(e);\n\n    self.$container.removeClass(\"fancybox-controls--isGrabbing\");\n\n    $(document).off(\".fb.touch\");\n\n    document.removeEventListener(\"scroll\", self.onscroll, true);\n\n    if (self.requestId) {\n      cancelAFrame(self.requestId);\n\n      self.requestId = null;\n    }\n\n    self.isSwiping = false;\n    self.isPanning = false;\n    self.isZooming = false;\n    self.isScrolling = false;\n\n    self.instance.isDragging = false;\n\n    if (self.canTap) {\n      return self.onTap(e);\n    }\n\n    self.speed = 366;\n\n    // Speed in px/ms\n    self.velocityX = self.distanceX / dMs * 0.5;\n    self.velocityY = self.distanceY / dMs * 0.5;\n\n    self.speedX = Math.max(self.speed * 0.5, Math.min(self.speed * 1.5, 1 / Math.abs(self.velocityX) * self.speed));\n\n    if (panning) {\n      self.endPanning();\n    } else if (zooming) {\n      self.endZooming();\n    } else {\n      self.endSwiping(swiping, scrolling);\n    }\n\n    return;\n  };\n\n  Guestures.prototype.endSwiping = function(swiping, scrolling) {\n    var self = this,\n      ret = false,\n      len = self.instance.group.length;\n\n    self.sliderLastPos = null;\n\n    // Close if swiped vertically / navigate if horizontally\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\n      // Continue vertical movement\n      $.fancybox.animate(\n        self.instance.current.$slide,\n        {\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\n          opacity: 0\n        },\n        200\n      );\n\n      ret = self.instance.close(true, 200);\n    } else if (swiping == \"x\" && self.distanceX > 50 && len > 1) {\n      ret = self.instance.previous(self.speedX);\n    } else if (swiping == \"x\" && self.distanceX < -50 && len > 1) {\n      ret = self.instance.next(self.speedX);\n    }\n\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\n      if (scrolling || len < 2) {\n        self.instance.centerSlide(self.instance.current, 150);\n      } else {\n        self.instance.jumpTo(self.instance.current.index);\n      }\n    }\n\n    self.$container.removeClass(\"fancybox-is-sliding\");\n  };\n\n  // Limit panning from edges\n  // ========================\n  Guestures.prototype.endPanning = function() {\n    var self = this;\n    var newOffsetX, newOffsetY, newPos;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    if (self.opts.momentum === false) {\n      newOffsetX = self.contentLastPos.left;\n      newOffsetY = self.contentLastPos.top;\n    } else {\n      // Continue movement\n      newOffsetX = self.contentLastPos.left + self.velocityX * self.speed;\n      newOffsetY = self.contentLastPos.top + self.velocityY * self.speed;\n    }\n\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\n\n    newPos.width = self.contentStartPos.width;\n    newPos.height = self.contentStartPos.height;\n\n    $.fancybox.animate(self.$content, newPos, 330);\n  };\n\n  Guestures.prototype.endZooming = function() {\n    var self = this;\n\n    var current = self.instance.current;\n\n    var newOffsetX, newOffsetY, newPos, reset;\n\n    var newWidth = self.newWidth;\n    var newHeight = self.newHeight;\n\n    if (!self.contentLastPos) {\n      return;\n    }\n\n    newOffsetX = self.contentLastPos.left;\n    newOffsetY = self.contentLastPos.top;\n\n    reset = {\n      top: newOffsetY,\n      left: newOffsetX,\n      width: newWidth,\n      height: newHeight,\n      scaleX: 1,\n      scaleY: 1\n    };\n\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n    $.fancybox.setTranslate(self.$content, reset);\n\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\n      self.instance.scaleToFit(150);\n    } else if (newWidth > current.width || newHeight > current.height) {\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\n    } else {\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\n\n      // Switch from scale() to width/height or animation will not work correctly\n      $.fancybox.setTranslate(self.$content, $.fancybox.getTranslate(self.$content));\n\n      $.fancybox.animate(self.$content, newPos, 150);\n    }\n  };\n\n  Guestures.prototype.onTap = function(e) {\n    var self = this;\n    var $target = $(e.target);\n\n    var instance = self.instance;\n    var current = instance.current;\n\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\n\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\n\n    var where;\n\n    var process = function(prefix) {\n      var action = current.opts[prefix];\n\n      if ($.isFunction(action)) {\n        action = action.apply(instance, [current, e]);\n      }\n\n      if (!action) {\n        return;\n      }\n\n      switch (action) {\n        case \"close\":\n          instance.close(self.startEvent);\n\n          break;\n\n        case \"toggleControls\":\n          instance.toggleControls(true);\n\n          break;\n\n        case \"next\":\n          instance.next();\n\n          break;\n\n        case \"nextOrClose\":\n          if (instance.group.length > 1) {\n            instance.next();\n          } else {\n            instance.close(self.startEvent);\n          }\n\n          break;\n\n        case \"zoom\":\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\n            if (instance.canPan()) {\n              instance.scaleToFit();\n            } else if (instance.isScaledDown()) {\n              instance.scaleToActual(tapX, tapY);\n            } else if (instance.group.length < 2) {\n              instance.close(self.startEvent);\n            }\n          }\n\n          break;\n      }\n    };\n\n    // Ignore right click\n    if (e.originalEvent && e.originalEvent.button == 2) {\n      return;\n    }\n\n    // Skip if clicked on the scrollbar\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\n      return;\n    }\n\n    // Check where is clicked\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\n      where = \"Outside\";\n    } else if ($target.is(\".fancybox-slide\")) {\n      where = \"Slide\";\n    } else if (\n      instance.current.$content &&\n      instance.current.$content\n        .find($target)\n        .addBack()\n        .filter($target).length\n    ) {\n      where = \"Content\";\n    } else {\n      return;\n    }\n\n    // Check if this is a double tap\n    if (self.tapped) {\n      // Stop previously created single tap\n      clearTimeout(self.tapped);\n      self.tapped = null;\n\n      // Skip if distance between taps is too big\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\n        return this;\n      }\n\n      // OK, now we assume that this is a double-tap\n      process(\"dblclick\" + where);\n    } else {\n      // Single tap will be processed if user has not clicked second time within 300ms\n      // or there is no need to wait for double-tap\n      self.tapX = tapX;\n      self.tapY = tapY;\n\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\n        self.tapped = setTimeout(function() {\n          self.tapped = null;\n\n          process(\"click\" + where);\n        }, 500);\n      } else {\n        process(\"click\" + where);\n      }\n    }\n\n    return this;\n  };\n\n  $(document).on(\"onActivate.fb\", function(e, instance) {\n    if (instance && !instance.Guestures) {\n      instance.Guestures = new Guestures(instance);\n    }\n  });\n})(window, document, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n(function(document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      slideShow:\n        '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M13,12 L27,20 L13,27 Z\" />' +\n        '<path d=\"M15,10 v19 M23,10 v19\" />' +\n        \"</svg>\" +\n        \"</button>\"\n    },\n    slideShow: {\n      autoStart: false,\n      speed: 3000\n    }\n  });\n\n  var SlideShow = function(instance) {\n    this.instance = instance;\n    this.init();\n  };\n\n  $.extend(SlideShow.prototype, {\n    timer: null,\n    isActive: false,\n    $button: null,\n\n    init: function() {\n      var self = this;\n\n      self.$button = self.instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function() {\n        self.toggle();\n      });\n\n      if (self.instance.group.length < 2 || !self.instance.group[self.instance.currIndex].opts.slideShow) {\n        self.$button.hide();\n      }\n    },\n\n    set: function(force) {\n      var self = this;\n\n      // Check if reached last element\n      if (\n        self.instance &&\n        self.instance.current &&\n        (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1)\n      ) {\n        self.timer = setTimeout(function() {\n          if (self.isActive) {\n            self.instance.jumpTo((self.instance.currIndex + 1) % self.instance.group.length);\n          }\n        }, self.instance.current.opts.slideShow.speed);\n      } else {\n        self.stop();\n        self.instance.idleSecondsCounter = 0;\n        self.instance.showControls();\n      }\n    },\n\n    clear: function() {\n      var self = this;\n\n      clearTimeout(self.timer);\n\n      self.timer = null;\n    },\n\n    start: function() {\n      var self = this;\n      var current = self.instance.current;\n\n      if (current) {\n        self.isActive = true;\n\n        self.$button\n          .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_STOP)\n          .removeClass(\"fancybox-button--play\")\n          .addClass(\"fancybox-button--pause\");\n\n        self.set(true);\n      }\n    },\n\n    stop: function() {\n      var self = this;\n      var current = self.instance.current;\n\n      self.clear();\n\n      self.$button\n        .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_START)\n        .removeClass(\"fancybox-button--pause\")\n        .addClass(\"fancybox-button--play\");\n\n      self.isActive = false;\n    },\n\n    toggle: function() {\n      var self = this;\n\n      if (self.isActive) {\n        self.stop();\n      } else {\n        self.start();\n      }\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function(e, instance) {\n      if (instance && !instance.SlideShow) {\n        instance.SlideShow = new SlideShow(instance);\n      }\n    },\n\n    \"beforeShow.fb\": function(e, instance, current, firstRun) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (firstRun) {\n        if (SlideShow && current.opts.slideShow.autoStart) {\n          SlideShow.start();\n        }\n      } else if (SlideShow && SlideShow.isActive) {\n        SlideShow.clear();\n      }\n    },\n\n    \"afterShow.fb\": function(e, instance, current) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow && SlideShow.isActive) {\n        SlideShow.set();\n      }\n    },\n\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\n      var SlideShow = instance && instance.SlideShow;\n\n      // \"P\" or Spacebar\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\n        keypress.preventDefault();\n\n        SlideShow.toggle();\n      }\n    },\n\n    \"beforeClose.fb onDeactivate.fb\": function(e, instance) {\n      var SlideShow = instance && instance.SlideShow;\n\n      if (SlideShow) {\n        SlideShow.stop();\n      }\n    }\n  });\n\n  // Page Visibility API to pause slideshow when window is not active\n  $(document).on(\"visibilitychange\", function() {\n    var instance = $.fancybox.getInstance();\n    var SlideShow = instance && instance.SlideShow;\n\n    if (SlideShow && SlideShow.isActive) {\n      if (document.hidden) {\n        SlideShow.clear();\n      } else {\n        SlideShow.set();\n      }\n    }\n  });\n})(document, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n(function(document, $) {\n  \"use strict\";\n\n  // Collection of methods supported by user browser\n  var fn = (function() {\n    var fnMap = [\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\n      // new WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // old WebKit (Safari 5.1)\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\n    ];\n\n    var ret = {};\n\n    for (var i = 0; i < fnMap.length; i++) {\n      var val = fnMap[i];\n\n      if (val && val[1] in document) {\n        for (var j = 0; j < val.length; j++) {\n          ret[fnMap[0][j]] = val[j];\n        }\n\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  // If browser does not have Full Screen API, then simply unset default button template and stop\n  if (!fn) {\n    if ($ && $.fancybox) {\n      $.fancybox.defaults.btnTpl.fullScreen = false;\n    }\n\n    return;\n  }\n\n  var FullScreen = {\n    request: function(elem) {\n      elem = elem || document.documentElement;\n\n      elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\n    },\n    exit: function() {\n      document[fn.exitFullscreen]();\n    },\n    toggle: function(elem) {\n      elem = elem || document.documentElement;\n\n      if (this.isFullscreen()) {\n        this.exit();\n      } else {\n        this.request(elem);\n      }\n    },\n    isFullscreen: function() {\n      return Boolean(document[fn.fullscreenElement]);\n    },\n    enabled: function() {\n      return Boolean(document[fn.fullscreenEnabled]);\n    }\n  };\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      fullScreen:\n        '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M9,12 v16 h22 v-16 h-22 v8\" />' +\n        \"</svg>\" +\n        \"</button>\"\n    },\n    fullScreen: {\n      autoStart: false\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function(e, instance) {\n      var $container;\n\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\n        $container = instance.$refs.container;\n\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function(e) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          FullScreen.toggle();\n        });\n\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\n          FullScreen.request();\n        }\n\n        // Expose API\n        instance.FullScreen = FullScreen;\n      } else if (instance) {\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\n      }\n    },\n\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\n      // \"F\"\n      if (instance && instance.FullScreen && keycode === 70) {\n        keypress.preventDefault();\n\n        instance.FullScreen.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function(e, instance) {\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\n        FullScreen.exit();\n      }\n    }\n  });\n\n  $(document).on(fn.fullscreenchange, function() {\n    var isFullscreen = FullScreen.isFullscreen(),\n      instance = $.fancybox.getInstance();\n\n    if (instance) {\n      // If image is zooming, then force to stop and reposition properly\n      if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\n        instance.current.$content.css(\"transition\", \"none\");\n\n        instance.isAnimating = false;\n\n        instance.update(true, true, 0);\n      }\n\n      instance.trigger(\"onFullscreenChange\", isFullscreen);\n\n      instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\n    }\n  });\n})(document, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n(function(document, $) {\n  \"use strict\";\n\n  var CLASS = \"fancybox-thumbs\",\n    CLASS_ACTIVE = CLASS + \"-active\",\n    CLASS_LOAD = CLASS + \"-loading\";\n\n  // Make sure there are default values\n  $.fancybox.defaults = $.extend(\n    true,\n    {\n      btnTpl: {\n        thumbs:\n          '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n          '<svg viewBox=\"0 0 120 120\">' +\n          '<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\n          \"</svg>\" +\n          \"</button>\"\n      },\n      thumbs: {\n        autoStart: false, // Display thumbnails on opening\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\n        parentEl: \".fancybox-container\", // Container is injected into this element\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\n      }\n    },\n    $.fancybox.defaults\n  );\n\n  var FancyThumbs = function(instance) {\n    this.init(instance);\n  };\n\n  $.extend(FancyThumbs.prototype, {\n    $button: null,\n    $grid: null,\n    $list: null,\n    isVisible: false,\n    isActive: false,\n\n    init: function(instance) {\n      var self = this,\n        first,\n        second;\n\n      self.instance = instance;\n\n      instance.Thumbs = self;\n\n      self.opts = instance.group[instance.currIndex].opts.thumbs;\n\n      // Enable thumbs if at least two group items have thumbnails\n      first = instance.group[0];\n      first = first.opts.thumb || (first.opts.$thumb && first.opts.$thumb.length ? first.opts.$thumb.attr(\"src\") : false);\n\n      if (instance.group.length > 1) {\n        second = instance.group[1];\n        second = second.opts.thumb || (second.opts.$thumb && second.opts.$thumb.length ? second.opts.$thumb.attr(\"src\") : false);\n      }\n\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\n\n      if (self.opts && first && second && first && second) {\n        self.$button.show().on(\"click\", function() {\n          self.toggle();\n        });\n\n        self.isActive = true;\n      } else {\n        self.$button.hide();\n      }\n    },\n\n    create: function() {\n      var self = this,\n        instance = self.instance,\n        parentEl = self.opts.parentEl,\n        list = [],\n        src;\n\n      if (!self.$grid) {\n        // Create main element\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\n          instance.$refs.container\n            .find(parentEl)\n            .addBack()\n            .filter(parentEl)\n        );\n\n        // Add \"click\" event that performs gallery navigation\n        self.$grid.on(\"click\", \"li\", function() {\n          instance.jumpTo($(this).attr(\"data-index\"));\n        });\n      }\n\n      // Build the list\n      if (!self.$list) {\n        self.$list = $(\"<ul>\").appendTo(self.$grid);\n      }\n\n      $.each(instance.group, function(i, item) {\n        src = item.opts.thumb || (item.opts.$thumb ? item.opts.$thumb.attr(\"src\") : null);\n\n        if (!src && item.type === \"image\") {\n          src = item.src;\n        }\n\n        list.push(\n          '<li data-index=\"' +\n            i +\n            '\" tabindex=\"0\" class=\"' +\n            CLASS_LOAD +\n            '\"' +\n            (src && src.length ? ' style=\"background-image:url(' + src + ')\" />' : \"\") +\n            \"></li>\"\n        );\n      });\n\n      self.$list[0].innerHTML = list.join(\"\");\n\n      if (self.opts.axis === \"x\") {\n        // Set fixed width for list element to enable horizontal scrolling\n        self.$list.width(\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\n            instance.group.length *\n              self.$list\n                .children()\n                .eq(0)\n                .outerWidth(true)\n        );\n      }\n    },\n\n    focus: function(duration) {\n      var self = this,\n        $list = self.$list,\n        $grid = self.$grid,\n        thumb,\n        thumbPos;\n\n      if (!self.instance.current) {\n        return;\n      }\n\n      thumb = $list\n        .children()\n        .removeClass(CLASS_ACTIVE)\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\n        .addClass(CLASS_ACTIVE);\n\n      thumbPos = thumb.position();\n\n      // Check if need to scroll to make current thumb visible\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\n        $list.stop().animate(\n          {\n            scrollTop: $list.scrollTop() + thumbPos.top\n          },\n          duration\n        );\n      } else if (\n        self.opts.axis === \"x\" &&\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\n      ) {\n        $list\n          .parent()\n          .stop()\n          .animate(\n            {\n              scrollLeft: thumbPos.left\n            },\n            duration\n          );\n      }\n    },\n\n    update: function() {\n      var that = this;\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\n\n      if (that.isVisible) {\n        if (!that.$grid) {\n          that.create();\n        }\n\n        that.instance.trigger(\"onThumbsShow\");\n\n        that.focus(0);\n      } else if (that.$grid) {\n        that.instance.trigger(\"onThumbsHide\");\n      }\n\n      // Update content position\n      that.instance.update();\n    },\n\n    hide: function() {\n      this.isVisible = false;\n      this.update();\n    },\n\n    show: function() {\n      this.isVisible = true;\n      this.update();\n    },\n\n    toggle: function() {\n      this.isVisible = !this.isVisible;\n      this.update();\n    }\n  });\n\n  $(document).on({\n    \"onInit.fb\": function(e, instance) {\n      var Thumbs;\n\n      if (instance && !instance.Thumbs) {\n        Thumbs = new FancyThumbs(instance);\n\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\n          Thumbs.show();\n        }\n      }\n    },\n\n    \"beforeShow.fb\": function(e, instance, item, firstRun) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible) {\n        Thumbs.focus(firstRun ? 0 : 250);\n      }\n    },\n\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\n      var Thumbs = instance && instance.Thumbs;\n\n      // \"G\"\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\n        keypress.preventDefault();\n\n        Thumbs.toggle();\n      }\n    },\n\n    \"beforeClose.fb\": function(e, instance) {\n      var Thumbs = instance && instance.Thumbs;\n\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\n        Thumbs.$grid.hide();\n      }\n    }\n  });\n})(document, window.jQuery || jQuery);\n\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n(function(document, $) {\n  \"use strict\";\n\n  $.extend(true, $.fancybox.defaults, {\n    btnTpl: {\n      share:\n        '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n        '<svg viewBox=\"0 0 40 40\">' +\n        '<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\n        \"</svg>\" +\n        \"</button>\"\n    },\n    share: {\n      url: function(instance, item) {\n        return (\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\n        );\n      },\n      tpl:\n        '<div class=\"fancybox-share\">' +\n        \"<h1>{{SHARE}}</h1>\" +\n        \"<p>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\n        \"<span>Facebook</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\n        \"<span>Twitter</span>\" +\n        \"</a>\" +\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\n        \"<span>Pinterest</span>\" +\n        \"</a>\" +\n        \"</p>\" +\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" /></p>' +\n        \"</div>\"\n    }\n  });\n\n  function escapeHtml(string) {\n    var entityMap = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"/\": \"&#x2F;\",\n      \"`\": \"&#x60;\",\n      \"=\": \"&#x3D;\"\n    };\n\n    return String(string).replace(/[&<>\"'`=\\/]/g, function(s) {\n      return entityMap[s];\n    });\n  }\n\n  $(document).on(\"click\", \"[data-fancybox-share]\", function() {\n    var instance = $.fancybox.getInstance(),\n      current = instance.current || null,\n      url,\n      tpl;\n\n    if (!current) {\n      return;\n    }\n\n    if ($.type(current.opts.share.url) === \"function\") {\n      url = current.opts.share.url.apply(current, [instance, current]);\n    }\n\n    tpl = current.opts.share.tpl\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\n\n    $.fancybox.open({\n      src: instance.translate(instance, tpl),\n      type: \"html\",\n      opts: {\n        animationEffect: false,\n        afterLoad: function(shareInstance, shareCurrent) {\n          // Close self if parent instance is closing\n          instance.$refs.container.one(\"beforeClose.fb\", function() {\n            shareInstance.close(null, 0);\n          });\n\n          // Opening links in a popup window\n          shareCurrent.$content.find(\".fancybox-share__links a\").click(function() {\n            window.open(this.href, \"Share\", \"width=550, height=450\");\n            return false;\n          });\n        }\n      }\n    });\n  });\n})(document, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n(function(document, window, $) {\n  \"use strict\";\n\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\n  if (!$.escapeSelector) {\n    $.escapeSelector = function(sel) {\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n      var fcssescape = function(ch, asCodePoint) {\n        if (asCodePoint) {\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n          if (ch === \"\\0\") {\n            return \"\\uFFFD\";\n          }\n\n          // Control characters and (dependent upon position) numbers get escaped as code points\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\n        }\n\n        // Other potentially-special ASCII characters get backslash-escaped\n        return \"\\\\\" + ch;\n      };\n\n      return (sel + \"\").replace(rcssescape, fcssescape);\n    };\n  }\n\n  // Get info about gallery name and current index from url\n  function parseUrl() {\n    var hash = window.location.hash.substr(1),\n      rez = hash.split(\"-\"),\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\n      gallery = rez.join(\"-\");\n\n    return {\n      hash: hash,\n      /* Index is starting from 1 */\n      index: index < 1 ? 1 : index,\n      gallery: gallery\n    };\n  }\n\n  // Trigger click evnt on links to open new fancyBox instance\n  function triggerFromUrl(url) {\n    var $el;\n\n    if (url.gallery !== \"\") {\n      // If we can find element matching 'data-fancybox' atribute, then trigger click event for that.\n      // It should start fancyBox\n      $el = $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\n        .eq(url.index - 1)\n        .trigger(\"click.fb-start\");\n    }\n  }\n\n  // Get gallery name from current instance\n  function getGalleryID(instance) {\n    var opts, ret;\n\n    if (!instance) {\n      return false;\n    }\n\n    opts = instance.current ? instance.current.opts : instance.opts;\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") : \"\");\n\n    return ret === \"\" ? false : ret;\n  }\n\n  // Start when DOM becomes ready\n  $(function() {\n    // Check if user has disabled this module\n    if ($.fancybox.defaults.hash === false) {\n      return;\n    }\n\n    // Update hash when opening/closing fancyBox\n    $(document).on({\n      \"onInit.fb\": function(e, instance) {\n        var url, gallery;\n\n        if (instance.group[instance.currIndex].opts.hash === false) {\n          return;\n        }\n\n        url = parseUrl();\n        gallery = getGalleryID(instance);\n\n        // Make sure gallery start index matches index from hash\n        if (gallery && url.gallery && gallery == url.gallery) {\n          instance.currIndex = url.index - 1;\n        }\n      },\n\n      \"beforeShow.fb\": function(e, instance, current, firstRun) {\n        var gallery;\n\n        if (!current || current.opts.hash === false) {\n          return;\n        }\n\n        // Check if need to update window hash\n        gallery = getGalleryID(instance);\n\n        if (!gallery) {\n          return;\n        }\n\n        // Variable containing last hash value set by fancyBox\n        // It will be used to determine if fancyBox needs to close after hash change is detected\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\n\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\n        if (window.location.hash === \"#\" + instance.currentHash) {\n          return;\n        }\n\n        if (!instance.origHash) {\n          instance.origHash = window.location.hash;\n        }\n\n        if (instance.hashTimer) {\n          clearTimeout(instance.hashTimer);\n        }\n\n        // Update hash\n        instance.hashTimer = setTimeout(function() {\n          if (\"replaceState\" in window.history) {\n            window.history[firstRun ? \"pushState\" : \"replaceState\"](\n              {},\n              document.title,\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\n            );\n\n            if (firstRun) {\n              instance.hasCreatedHistory = true;\n            }\n          } else {\n            window.location.hash = instance.currentHash;\n          }\n\n          instance.hashTimer = null;\n        }, 300);\n      },\n\n      \"beforeClose.fb\": function(e, instance, current) {\n        var gallery;\n\n        if (current.opts.hash === false) {\n          return;\n        }\n\n        gallery = getGalleryID(instance);\n\n        // Goto previous history entry\n        if (instance.currentHash && instance.hasCreatedHistory) {\n          window.history.back();\n        } else if (instance.currentHash) {\n          if (\"replaceState\" in window.history) {\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\n          } else {\n            window.location.hash = instance.origHash;\n          }\n        }\n\n        instance.currentHash = null;\n\n        clearTimeout(instance.hashTimer);\n      }\n    });\n\n    // Check if need to start/close after url has changed\n    $(window).on(\"hashchange.fb\", function() {\n      var url = parseUrl(),\n        fb;\n\n      // Find last fancyBox instance that has \"hash\"\n      $.each(\n        $(\".fancybox-container\")\n          .get()\n          .reverse(),\n        function(index, value) {\n          var tmp = $(value).data(\"FancyBox\");\n          //isClosing\n          if (tmp.currentHash) {\n            fb = tmp;\n            return false;\n          }\n        }\n      );\n\n      if (fb) {\n        // Now, compare hash values\n        if (fb.currentHash && fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\n          fb.currentHash = null;\n\n          fb.close();\n        }\n      } else if (url.gallery !== \"\") {\n        triggerFromUrl(url);\n      }\n    });\n\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\n    setTimeout(function() {\n      if (!$.fancybox.getInstance()) {\n        triggerFromUrl(parseUrl());\n      }\n    }, 50);\n  });\n})(document, window, window.jQuery || jQuery);\n\n// ==========================================================================\n//\n// Wheel\n// Basic mouse weheel support for gallery navigation\n//\n// ==========================================================================\n(function(document, $) {\n  \"use strict\";\n\n  var prevTime = new Date().getTime();\n\n  $(document).on({\n    \"onInit.fb\": function(e, instance, current) {\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function(e) {\n        var current = instance.current,\n          currTime = new Date().getTime();\n\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\n          return;\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\n          return;\n        }\n\n        e = e.originalEvent || e;\n\n        if (currTime - prevTime < 250) {\n          return;\n        }\n\n        prevTime = currTime;\n\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\n      });\n    }\n  });\n})(document, window.jQuery || jQuery);\n","/**\n * Owl Carousel v2.3.4\n * Copyright 2013-2018 David Deutsch\n * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE\n */\n/**\n * Owl carousel\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n * @todo Lazy Load Icon\n * @todo prevent animationend bubling\n * @todo itemsScaleUp\n * @todo Test Zepto\n * @todo stagePadding calculate wrong active classes\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates a carousel.\n\t * @class The Owl Carousel.\n\t * @public\n\t * @param {HTMLElement|jQuery} element - The element to create the carousel for.\n\t * @param {Object} [options] - The options\n\t */\n\tfunction Owl(element, options) {\n\n\t\t/**\n\t\t * Current settings for the carousel.\n\t\t * @public\n\t\t */\n\t\tthis.settings = null;\n\n\t\t/**\n\t\t * Current options set by the caller including defaults.\n\t\t * @public\n\t\t */\n\t\tthis.options = $.extend({}, Owl.Defaults, options);\n\n\t\t/**\n\t\t * Plugin element.\n\t\t * @public\n\t\t */\n\t\tthis.$element = $(element);\n\n\t\t/**\n\t\t * Proxied event handlers.\n\t\t * @protected\n\t\t */\n\t\tthis._handlers = {};\n\n\t\t/**\n\t\t * References to the running plugins of this carousel.\n\t\t * @protected\n\t\t */\n\t\tthis._plugins = {};\n\n\t\t/**\n\t\t * Currently suppressed events to prevent them from being retriggered.\n\t\t * @protected\n\t\t */\n\t\tthis._supress = {};\n\n\t\t/**\n\t\t * Absolute current position.\n\t\t * @protected\n\t\t */\n\t\tthis._current = null;\n\n\t\t/**\n\t\t * Animation speed in milliseconds.\n\t\t * @protected\n\t\t */\n\t\tthis._speed = null;\n\n\t\t/**\n\t\t * Coordinates of all items in pixel.\n\t\t * @todo The name of this member is missleading.\n\t\t * @protected\n\t\t */\n\t\tthis._coordinates = [];\n\n\t\t/**\n\t\t * Current breakpoint.\n\t\t * @todo Real media queries would be nice.\n\t\t * @protected\n\t\t */\n\t\tthis._breakpoint = null;\n\n\t\t/**\n\t\t * Current width of the plugin element.\n\t\t */\n\t\tthis._width = null;\n\n\t\t/**\n\t\t * All real items.\n\t\t * @protected\n\t\t */\n\t\tthis._items = [];\n\n\t\t/**\n\t\t * All cloned items.\n\t\t * @protected\n\t\t */\n\t\tthis._clones = [];\n\n\t\t/**\n\t\t * Merge values of all items.\n\t\t * @todo Maybe this could be part of a plugin.\n\t\t * @protected\n\t\t */\n\t\tthis._mergers = [];\n\n\t\t/**\n\t\t * Widths of all items.\n\t\t */\n\t\tthis._widths = [];\n\n\t\t/**\n\t\t * Invalidated parts within the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._invalidated = {};\n\n\t\t/**\n\t\t * Ordered list of workers for the update process.\n\t\t * @protected\n\t\t */\n\t\tthis._pipe = [];\n\n\t\t/**\n\t\t * Current state information for the drag operation.\n\t\t * @todo #261\n\t\t * @protected\n\t\t */\n\t\tthis._drag = {\n\t\t\ttime: null,\n\t\t\ttarget: null,\n\t\t\tpointer: null,\n\t\t\tstage: {\n\t\t\t\tstart: null,\n\t\t\t\tcurrent: null\n\t\t\t},\n\t\t\tdirection: null\n\t\t};\n\n\t\t/**\n\t\t * Current state information and their tags.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._states = {\n\t\t\tcurrent: {},\n\t\t\ttags: {\n\t\t\t\t'initializing': [ 'busy' ],\n\t\t\t\t'animating': [ 'busy' ],\n\t\t\t\t'dragging': [ 'interacting' ]\n\t\t\t}\n\t\t};\n\n\t\t$.each([ 'onResize', 'onThrottledResize' ], $.proxy(function(i, handler) {\n\t\t\tthis._handlers[handler] = $.proxy(this[handler], this);\n\t\t}, this));\n\n\t\t$.each(Owl.Plugins, $.proxy(function(key, plugin) {\n\t\t\tthis._plugins[key.charAt(0).toLowerCase() + key.slice(1)]\n\t\t\t\t= new plugin(this);\n\t\t}, this));\n\n\t\t$.each(Owl.Workers, $.proxy(function(priority, worker) {\n\t\t\tthis._pipe.push({\n\t\t\t\t'filter': worker.filter,\n\t\t\t\t'run': $.proxy(worker.run, this)\n\t\t\t});\n\t\t}, this));\n\n\t\tthis.setup();\n\t\tthis.initialize();\n\t}\n\n\t/**\n\t * Default options for the carousel.\n\t * @public\n\t */\n\tOwl.Defaults = {\n\t\titems: 3,\n\t\tloop: false,\n\t\tcenter: false,\n\t\trewind: false,\n\t\tcheckVisibility: true,\n\n\t\tmouseDrag: true,\n\t\ttouchDrag: true,\n\t\tpullDrag: true,\n\t\tfreeDrag: false,\n\n\t\tmargin: 0,\n\t\tstagePadding: 0,\n\n\t\tmerge: false,\n\t\tmergeFit: true,\n\t\tautoWidth: false,\n\n\t\tstartPosition: 0,\n\t\trtl: false,\n\n\t\tsmartSpeed: 250,\n\t\tfluidSpeed: false,\n\t\tdragEndSpeed: false,\n\n\t\tresponsive: {},\n\t\tresponsiveRefreshRate: 200,\n\t\tresponsiveBaseElement: window,\n\n\t\tfallbackEasing: 'swing',\n\t\tslideTransition: '',\n\n\t\tinfo: false,\n\n\t\tnestedItemSelector: false,\n\t\titemElement: 'div',\n\t\tstageElement: 'div',\n\n\t\trefreshClass: 'owl-refresh',\n\t\tloadedClass: 'owl-loaded',\n\t\tloadingClass: 'owl-loading',\n\t\trtlClass: 'owl-rtl',\n\t\tresponsiveClass: 'owl-responsive',\n\t\tdragClass: 'owl-drag',\n\t\titemClass: 'owl-item',\n\t\tstageClass: 'owl-stage',\n\t\tstageOuterClass: 'owl-stage-outer',\n\t\tgrabClass: 'owl-grab'\n\t};\n\n\t/**\n\t * Enumeration for width.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Width = {\n\t\tDefault: 'default',\n\t\tInner: 'inner',\n\t\tOuter: 'outer'\n\t};\n\n\t/**\n\t * Enumeration for types.\n\t * @public\n\t * @readonly\n\t * @enum {String}\n\t */\n\tOwl.Type = {\n\t\tEvent: 'event',\n\t\tState: 'state'\n\t};\n\n\t/**\n\t * Contains all registered plugins.\n\t * @public\n\t */\n\tOwl.Plugins = {};\n\n\t/**\n\t * List of workers involved in the update process.\n\t */\n\tOwl.Workers = [ {\n\t\tfilter: [ 'width', 'settings' ],\n\t\trun: function() {\n\t\t\tthis._width = this.$element.width();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = this._items && this._items[this.relative(this._current)];\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tthis.$stage.children('.cloned').remove();\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar margin = this.settings.margin || '',\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\trtl = this.settings.rtl,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': 'auto',\n\t\t\t\t\t'margin-left': rtl ? margin : '',\n\t\t\t\t\t'margin-right': rtl ? '' : margin\n\t\t\t\t};\n\n\t\t\t!grid && this.$stage.children().css(css);\n\n\t\t\tcache.css = css;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar width = (this.width() / this.settings.items).toFixed(3) - this.settings.margin,\n\t\t\t\tmerge = null,\n\t\t\t\titerator = this._items.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\twidths = [];\n\n\t\t\tcache.items = {\n\t\t\t\tmerge: false,\n\t\t\t\twidth: width\n\t\t\t};\n\n\t\t\twhile (iterator--) {\n\t\t\t\tmerge = this._mergers[iterator];\n\t\t\t\tmerge = this.settings.mergeFit && Math.min(merge, this.settings.items) || merge;\n\n\t\t\t\tcache.items.merge = merge > 1 || cache.items.merge;\n\n\t\t\t\twidths[iterator] = !grid ? this._items[iterator].width() : width * merge;\n\t\t\t}\n\n\t\t\tthis._widths = widths;\n\t\t}\n\t}, {\n\t\tfilter: [ 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar clones = [],\n\t\t\t\titems = this._items,\n\t\t\t\tsettings = this.settings,\n\t\t\t\t// TODO: Should be computed from number of min width items in stage\n\t\t\t\tview = Math.max(settings.items * 2, 4),\n\t\t\t\tsize = Math.ceil(items.length / 2) * 2,\n\t\t\t\trepeat = settings.loop && items.length ? settings.rewind ? view : Math.max(view, size) : 0,\n\t\t\t\tappend = '',\n\t\t\t\tprepend = '';\n\n\t\t\trepeat /= 2;\n\n\t\t\twhile (repeat > 0) {\n\t\t\t\t// Switch to only using appended clones\n\t\t\t\tclones.push(this.normalize(clones.length / 2, true));\n\t\t\t\tappend = append + items[clones[clones.length - 1]][0].outerHTML;\n\t\t\t\tclones.push(this.normalize(items.length - 1 - (clones.length - 1) / 2, true));\n\t\t\t\tprepend = items[clones[clones.length - 1]][0].outerHTML + prepend;\n\t\t\t\trepeat -= 1;\n\t\t\t}\n\n\t\t\tthis._clones = clones;\n\n\t\t\t$(append).addClass('cloned').appendTo(this.$stage);\n\t\t\t$(prepend).addClass('cloned').prependTo(this.$stage);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tsize = this._clones.length + this._items.length,\n\t\t\t\titerator = -1,\n\t\t\t\tprevious = 0,\n\t\t\t\tcurrent = 0,\n\t\t\t\tcoordinates = [];\n\n\t\t\twhile (++iterator < size) {\n\t\t\t\tprevious = coordinates[iterator - 1] || 0;\n\t\t\t\tcurrent = this._widths[this.relative(iterator)] + this.settings.margin;\n\t\t\t\tcoordinates.push(previous + current * rtl);\n\t\t\t}\n\n\t\t\tthis._coordinates = coordinates;\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar padding = this.settings.stagePadding,\n\t\t\t\tcoordinates = this._coordinates,\n\t\t\t\tcss = {\n\t\t\t\t\t'width': Math.ceil(Math.abs(coordinates[coordinates.length - 1])) + padding * 2,\n\t\t\t\t\t'padding-left': padding || '',\n\t\t\t\t\t'padding-right': padding || ''\n\t\t\t\t};\n\n\t\t\tthis.$stage.css(css);\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tvar iterator = this._coordinates.length,\n\t\t\t\tgrid = !this.settings.autoWidth,\n\t\t\t\titems = this.$stage.children();\n\n\t\t\tif (grid && cache.items.merge) {\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\tcache.css.width = this._widths[this.relative(iterator)];\n\t\t\t\t\titems.eq(iterator).css(cache.css);\n\t\t\t\t}\n\t\t\t} else if (grid) {\n\t\t\t\tcache.css.width = cache.items.width;\n\t\t\t\titems.css(cache.css);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tfilter: [ 'items' ],\n\t\trun: function() {\n\t\t\tthis._coordinates.length < 1 && this.$stage.removeAttr('style');\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'items', 'settings' ],\n\t\trun: function(cache) {\n\t\t\tcache.current = cache.current ? this.$stage.children().index(cache.current) : 0;\n\t\t\tcache.current = Math.max(this.minimum(), Math.min(this.maximum(), cache.current));\n\t\t\tthis.reset(cache.current);\n\t\t}\n\t}, {\n\t\tfilter: [ 'position' ],\n\t\trun: function() {\n\t\t\tthis.animate(this.coordinates(this._current));\n\t\t}\n\t}, {\n\t\tfilter: [ 'width', 'position', 'items', 'settings' ],\n\t\trun: function() {\n\t\t\tvar rtl = this.settings.rtl ? 1 : -1,\n\t\t\t\tpadding = this.settings.stagePadding * 2,\n\t\t\t\tbegin = this.coordinates(this.current()) + padding,\n\t\t\t\tend = begin + this.width() * rtl,\n\t\t\t\tinner, outer, matches = [], i, n;\n\n\t\t\tfor (i = 0, n = this._coordinates.length; i < n; i++) {\n\t\t\t\tinner = this._coordinates[i - 1] || 0;\n\t\t\t\touter = Math.abs(this._coordinates[i]) + padding * rtl;\n\n\t\t\t\tif ((this.op(inner, '<=', begin) && (this.op(inner, '>', end)))\n\t\t\t\t\t|| (this.op(outer, '<', begin) && this.op(outer, '>', end))) {\n\t\t\t\t\tmatches.push(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$stage.children('.active').removeClass('active');\n\t\t\tthis.$stage.children(':eq(' + matches.join('), :eq(') + ')').addClass('active');\n\n\t\t\tthis.$stage.children('.center').removeClass('center');\n\t\t\tif (this.settings.center) {\n\t\t\t\tthis.$stage.children().eq(this.current()).addClass('center');\n\t\t\t}\n\t\t}\n\t} ];\n\n\t/**\n\t * Create the stage DOM element\n\t */\n\tOwl.prototype.initializeStage = function() {\n\t\tthis.$stage = this.$element.find('.' + this.settings.stageClass);\n\n\t\t// if the stage is already in the DOM, grab it and skip stage initialization\n\t\tif (this.$stage.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$element.addClass(this.options.loadingClass);\n\n\t\t// create stage\n\t\tthis.$stage = $('<' + this.settings.stageElement + '>', {\n\t\t\t\"class\": this.settings.stageClass\n\t\t}).wrap( $( '<div/>', {\n\t\t\t\"class\": this.settings.stageOuterClass\n\t\t}));\n\n\t\t// append stage\n\t\tthis.$element.append(this.$stage.parent());\n\t};\n\n\t/**\n\t * Create item DOM elements\n\t */\n\tOwl.prototype.initializeItems = function() {\n\t\tvar $items = this.$element.find('.owl-item');\n\n\t\t// if the items are already in the DOM, grab them and skip item initialization\n\t\tif ($items.length) {\n\t\t\tthis._items = $items.get().map(function(item) {\n\t\t\t\treturn $(item);\n\t\t\t});\n\n\t\t\tthis._mergers = this._items.map(function() {\n\t\t\t\treturn 1;\n\t\t\t});\n\n\t\t\tthis.refresh();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// append content\n\t\tthis.replace(this.$element.children().not(this.$stage.parent()));\n\n\t\t// check visibility\n\t\tif (this.isVisible()) {\n\t\t\t// update view\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\t// invalidate width\n\t\t\tthis.invalidate('width');\n\t\t}\n\n\t\tthis.$element\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.addClass(this.options.loadedClass);\n\t};\n\n\t/**\n\t * Initializes the carousel.\n\t * @protected\n\t */\n\tOwl.prototype.initialize = function() {\n\t\tthis.enter('initializing');\n\t\tthis.trigger('initialize');\n\n\t\tthis.$element.toggleClass(this.settings.rtlClass, this.settings.rtl);\n\n\t\tif (this.settings.autoWidth && !this.is('pre-loading')) {\n\t\t\tvar imgs, nestedSelector, width;\n\t\t\timgs = this.$element.find('img');\n\t\t\tnestedSelector = this.settings.nestedItemSelector ? '.' + this.settings.nestedItemSelector : undefined;\n\t\t\twidth = this.$element.children(nestedSelector).width();\n\n\t\t\tif (imgs.length && width <= 0) {\n\t\t\t\tthis.preloadAutoWidthImages(imgs);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeStage();\n\t\tthis.initializeItems();\n\n\t\t// register event handlers\n\t\tthis.registerEventHandlers();\n\n\t\tthis.leave('initializing');\n\t\tthis.trigger('initialized');\n\t};\n\n\t/**\n\t * @returns {Boolean} visibility of $element\n\t *                    if you know the carousel will always be visible you can set `checkVisibility` to `false` to\n\t *                    prevent the expensive browser layout forced reflow the $element.is(':visible') does\n\t */\n\tOwl.prototype.isVisible = function() {\n\t\treturn this.settings.checkVisibility\n\t\t\t? this.$element.is(':visible')\n\t\t\t: true;\n\t};\n\n\t/**\n\t * Setups the current settings.\n\t * @todo Remove responsive classes. Why should adaptive designs be brought into IE8?\n\t * @todo Support for media queries by using `matchMedia` would be nice.\n\t * @public\n\t */\n\tOwl.prototype.setup = function() {\n\t\tvar viewport = this.viewport(),\n\t\t\toverwrites = this.options.responsive,\n\t\t\tmatch = -1,\n\t\t\tsettings = null;\n\n\t\tif (!overwrites) {\n\t\t\tsettings = $.extend({}, this.options);\n\t\t} else {\n\t\t\t$.each(overwrites, function(breakpoint) {\n\t\t\t\tif (breakpoint <= viewport && breakpoint > match) {\n\t\t\t\t\tmatch = Number(breakpoint);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsettings = $.extend({}, this.options, overwrites[match]);\n\t\t\tif (typeof settings.stagePadding === 'function') {\n\t\t\t\tsettings.stagePadding = settings.stagePadding();\n\t\t\t}\n\t\t\tdelete settings.responsive;\n\n\t\t\t// responsive class\n\t\t\tif (settings.responsiveClass) {\n\t\t\t\tthis.$element.attr('class',\n\t\t\t\t\tthis.$element.attr('class').replace(new RegExp('(' + this.options.responsiveClass + '-)\\\\S+\\\\s', 'g'), '$1' + match)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.trigger('change', { property: { name: 'settings', value: settings } });\n\t\tthis._breakpoint = match;\n\t\tthis.settings = settings;\n\t\tthis.invalidate('settings');\n\t\tthis.trigger('changed', { property: { name: 'settings', value: this.settings } });\n\t};\n\n\t/**\n\t * Updates option logic if necessery.\n\t * @protected\n\t */\n\tOwl.prototype.optionsLogic = function() {\n\t\tif (this.settings.autoWidth) {\n\t\t\tthis.settings.stagePadding = false;\n\t\t\tthis.settings.merge = false;\n\t\t}\n\t};\n\n\t/**\n\t * Prepares an item before add.\n\t * @todo Rename event parameter `content` to `item`.\n\t * @protected\n\t * @returns {jQuery|HTMLElement} - The item container.\n\t */\n\tOwl.prototype.prepare = function(item) {\n\t\tvar event = this.trigger('prepare', { content: item });\n\n\t\tif (!event.data) {\n\t\t\tevent.data = $('<' + this.settings.itemElement + '/>')\n\t\t\t\t.addClass(this.options.itemClass).append(item)\n\t\t}\n\n\t\tthis.trigger('prepared', { content: event.data });\n\n\t\treturn event.data;\n\t};\n\n\t/**\n\t * Updates the view.\n\t * @public\n\t */\n\tOwl.prototype.update = function() {\n\t\tvar i = 0,\n\t\t\tn = this._pipe.length,\n\t\t\tfilter = $.proxy(function(p) { return this[p] }, this._invalidated),\n\t\t\tcache = {};\n\n\t\twhile (i < n) {\n\t\t\tif (this._invalidated.all || $.grep(this._pipe[i].filter, filter).length > 0) {\n\t\t\t\tthis._pipe[i].run(cache);\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\n\t\tthis._invalidated = {};\n\n\t\t!this.is('valid') && this.enter('valid');\n\t};\n\n\t/**\n\t * Gets the width of the view.\n\t * @public\n\t * @param {Owl.Width} [dimension=Owl.Width.Default] - The dimension to return.\n\t * @returns {Number} - The width of the view in pixel.\n\t */\n\tOwl.prototype.width = function(dimension) {\n\t\tdimension = dimension || Owl.Width.Default;\n\t\tswitch (dimension) {\n\t\t\tcase Owl.Width.Inner:\n\t\t\tcase Owl.Width.Outer:\n\t\t\t\treturn this._width;\n\t\t\tdefault:\n\t\t\t\treturn this._width - this.settings.stagePadding * 2 + this.settings.margin;\n\t\t}\n\t};\n\n\t/**\n\t * Refreshes the carousel primarily for adaptive purposes.\n\t * @public\n\t */\n\tOwl.prototype.refresh = function() {\n\t\tthis.enter('refreshing');\n\t\tthis.trigger('refresh');\n\n\t\tthis.setup();\n\n\t\tthis.optionsLogic();\n\n\t\tthis.$element.addClass(this.options.refreshClass);\n\n\t\tthis.update();\n\n\t\tthis.$element.removeClass(this.options.refreshClass);\n\n\t\tthis.leave('refreshing');\n\t\tthis.trigger('refreshed');\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onThrottledResize = function() {\n\t\twindow.clearTimeout(this.resizeTimer);\n\t\tthis.resizeTimer = window.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate);\n\t};\n\n\t/**\n\t * Checks window `resize` event.\n\t * @protected\n\t */\n\tOwl.prototype.onResize = function() {\n\t\tif (!this._items.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._width === this.$element.width()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.isVisible()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.enter('resizing');\n\n\t\tif (this.trigger('resize').isDefaultPrevented()) {\n\t\t\tthis.leave('resizing');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.invalidate('width');\n\n\t\tthis.refresh();\n\n\t\tthis.leave('resizing');\n\t\tthis.trigger('resized');\n\t};\n\n\t/**\n\t * Registers event handlers.\n\t * @todo Check `msPointerEnabled`\n\t * @todo #261\n\t * @protected\n\t */\n\tOwl.prototype.registerEventHandlers = function() {\n\t\tif ($.support.transition) {\n\t\t\tthis.$stage.on($.support.transition.end + '.owl.core', $.proxy(this.onTransitionEnd, this));\n\t\t}\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\tthis.on(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tif (this.settings.mouseDrag) {\n\t\t\tthis.$element.addClass(this.options.dragClass);\n\t\t\tthis.$stage.on('mousedown.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('dragstart.owl.core selectstart.owl.core', function() { return false });\n\t\t}\n\n\t\tif (this.settings.touchDrag){\n\t\t\tthis.$stage.on('touchstart.owl.core', $.proxy(this.onDragStart, this));\n\t\t\tthis.$stage.on('touchcancel.owl.core', $.proxy(this.onDragEnd, this));\n\t\t}\n\t};\n\n\t/**\n\t * Handles `touchstart` and `mousedown` events.\n\t * @todo Horizontal swipe threshold as option\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragStart = function(event) {\n\t\tvar stage = null;\n\n\t\tif (event.which === 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ($.support.transform) {\n\t\t\tstage = this.$stage.css('transform').replace(/.*\\(|\\)| /g, '').split(',');\n\t\t\tstage = {\n\t\t\t\tx: stage[stage.length === 16 ? 12 : 4],\n\t\t\t\ty: stage[stage.length === 16 ? 13 : 5]\n\t\t\t};\n\t\t} else {\n\t\t\tstage = this.$stage.position();\n\t\t\tstage = {\n\t\t\t\tx: this.settings.rtl ?\n\t\t\t\t\tstage.left + this.$stage.width() - this.width() + this.settings.margin :\n\t\t\t\t\tstage.left,\n\t\t\t\ty: stage.top\n\t\t\t};\n\t\t}\n\n\t\tif (this.is('animating')) {\n\t\t\t$.support.transform ? this.animate(stage.x) : this.$stage.stop()\n\t\t\tthis.invalidate('position');\n\t\t}\n\n\t\tthis.$element.toggleClass(this.options.grabClass, event.type === 'mousedown');\n\n\t\tthis.speed(0);\n\n\t\tthis._drag.time = new Date().getTime();\n\t\tthis._drag.target = $(event.target);\n\t\tthis._drag.stage.start = stage;\n\t\tthis._drag.stage.current = stage;\n\t\tthis._drag.pointer = this.pointer(event);\n\n\t\t$(document).on('mouseup.owl.core touchend.owl.core', $.proxy(this.onDragEnd, this));\n\n\t\t$(document).one('mousemove.owl.core touchmove.owl.core', $.proxy(function(event) {\n\t\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event));\n\n\t\t\t$(document).on('mousemove.owl.core touchmove.owl.core', $.proxy(this.onDragMove, this));\n\n\t\t\tif (Math.abs(delta.x) < Math.abs(delta.y) && this.is('valid')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.enter('dragging');\n\t\t\tthis.trigger('drag');\n\t\t}, this));\n\t};\n\n\t/**\n\t * Handles the `touchmove` and `mousemove` events.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragMove = function(event) {\n\t\tvar minimum = null,\n\t\t\tmaximum = null,\n\t\t\tpull = null,\n\t\t\tdelta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this.difference(this._drag.stage.start, delta);\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tevent.preventDefault();\n\n\t\tif (this.settings.loop) {\n\t\t\tminimum = this.coordinates(this.minimum());\n\t\t\tmaximum = this.coordinates(this.maximum() + 1) - minimum;\n\t\t\tstage.x = (((stage.x - minimum) % maximum + maximum) % maximum) + minimum;\n\t\t} else {\n\t\t\tminimum = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum());\n\t\t\tmaximum = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum());\n\t\t\tpull = this.settings.pullDrag ? -1 * delta.x / 5 : 0;\n\t\t\tstage.x = Math.max(Math.min(stage.x, minimum + pull), maximum + pull);\n\t\t}\n\n\t\tthis._drag.stage.current = stage;\n\n\t\tthis.animate(stage.x);\n\t};\n\n\t/**\n\t * Handles the `touchend` and `mouseup` events.\n\t * @todo #261\n\t * @todo Threshold for click event\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onDragEnd = function(event) {\n\t\tvar delta = this.difference(this._drag.pointer, this.pointer(event)),\n\t\t\tstage = this._drag.stage.current,\n\t\t\tdirection = delta.x > 0 ^ this.settings.rtl ? 'left' : 'right';\n\n\t\t$(document).off('.owl.core');\n\n\t\tthis.$element.removeClass(this.options.grabClass);\n\n\t\tif (delta.x !== 0 && this.is('dragging') || !this.is('valid')) {\n\t\t\tthis.speed(this.settings.dragEndSpeed || this.settings.smartSpeed);\n\t\t\tthis.current(this.closest(stage.x, delta.x !== 0 ? direction : this._drag.direction));\n\t\t\tthis.invalidate('position');\n\t\t\tthis.update();\n\n\t\t\tthis._drag.direction = direction;\n\n\t\t\tif (Math.abs(delta.x) > 3 || new Date().getTime() - this._drag.time > 300) {\n\t\t\t\tthis._drag.target.one('click.owl.core', function() { return false; });\n\t\t\t}\n\t\t}\n\n\t\tif (!this.is('dragging')) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.leave('dragging');\n\t\tthis.trigger('dragged');\n\t};\n\n\t/**\n\t * Gets absolute position of the closest item for a coordinate.\n\t * @todo Setting `freeDrag` makes `closest` not reusable. See #165.\n\t * @protected\n\t * @param {Number} coordinate - The coordinate in pixel.\n\t * @param {String} direction - The direction to check for the closest item. Ether `left` or `right`.\n\t * @return {Number} - The absolute position of the closest item.\n\t */\n\tOwl.prototype.closest = function(coordinate, direction) {\n\t\tvar position = -1,\n\t\t\tpull = 30,\n\t\t\twidth = this.width(),\n\t\t\tcoordinates = this.coordinates();\n\n\t\tif (!this.settings.freeDrag) {\n\t\t\t// check closest item\n\t\t\t$.each(coordinates, $.proxy(function(index, value) {\n\t\t\t\t// on a left pull, check on current index\n\t\t\t\tif (direction === 'left' && coordinate > value - pull && coordinate < value + pull) {\n\t\t\t\t\tposition = index;\n\t\t\t\t// on a right pull, check on previous index\n\t\t\t\t// to do so, subtract width from value and set position = index + 1\n\t\t\t\t} else if (direction === 'right' && coordinate > value - width - pull && coordinate < value - width + pull) {\n\t\t\t\t\tposition = index + 1;\n\t\t\t\t} else if (this.op(coordinate, '<', value)\n\t\t\t\t\t&& this.op(coordinate, '>', coordinates[index + 1] !== undefined ? coordinates[index + 1] : value - width)) {\n\t\t\t\t\tposition = direction === 'left' ? index + 1 : index;\n\t\t\t\t}\n\t\t\t\treturn position === -1;\n\t\t\t}, this));\n\t\t}\n\n\t\tif (!this.settings.loop) {\n\t\t\t// non loop boundries\n\t\t\tif (this.op(coordinate, '>', coordinates[this.minimum()])) {\n\t\t\t\tposition = coordinate = this.minimum();\n\t\t\t} else if (this.op(coordinate, '<', coordinates[this.maximum()])) {\n\t\t\t\tposition = coordinate = this.maximum();\n\t\t\t}\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Animates the stage.\n\t * @todo #270\n\t * @public\n\t * @param {Number} coordinate - The coordinate in pixels.\n\t */\n\tOwl.prototype.animate = function(coordinate) {\n\t\tvar animate = this.speed() > 0;\n\n\t\tthis.is('animating') && this.onTransitionEnd();\n\n\t\tif (animate) {\n\t\t\tthis.enter('animating');\n\t\t\tthis.trigger('translate');\n\t\t}\n\n\t\tif ($.support.transform3d && $.support.transition) {\n\t\t\tthis.$stage.css({\n\t\t\t\ttransform: 'translate3d(' + coordinate + 'px,0px,0px)',\n\t\t\t\ttransition: (this.speed() / 1000) + 's' + (\n\t\t\t\t\tthis.settings.slideTransition ? ' ' + this.settings.slideTransition : ''\n\t\t\t\t)\n\t\t\t});\n\t\t} else if (animate) {\n\t\t\tthis.$stage.animate({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t}, this.speed(), this.settings.fallbackEasing, $.proxy(this.onTransitionEnd, this));\n\t\t} else {\n\t\t\tthis.$stage.css({\n\t\t\t\tleft: coordinate + 'px'\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Checks whether the carousel is in a specific state or not.\n\t * @param {String} state - The state to check.\n\t * @returns {Boolean} - The flag which indicates if the carousel is busy.\n\t */\n\tOwl.prototype.is = function(state) {\n\t\treturn this._states.current[state] && this._states.current[state] > 0;\n\t};\n\n\t/**\n\t * Sets the absolute position of the current item.\n\t * @public\n\t * @param {Number} [position] - The new absolute position or nothing to leave it unchanged.\n\t * @returns {Number} - The absolute position of the current item.\n\t */\n\tOwl.prototype.current = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._current;\n\t\t}\n\n\t\tif (this._items.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tposition = this.normalize(position);\n\n\t\tif (this._current !== position) {\n\t\t\tvar event = this.trigger('change', { property: { name: 'position', value: position } });\n\n\t\t\tif (event.data !== undefined) {\n\t\t\t\tposition = this.normalize(event.data);\n\t\t\t}\n\n\t\t\tthis._current = position;\n\n\t\t\tthis.invalidate('position');\n\n\t\t\tthis.trigger('changed', { property: { name: 'position', value: this._current } });\n\t\t}\n\n\t\treturn this._current;\n\t};\n\n\t/**\n\t * Invalidates the given part of the update routine.\n\t * @param {String} [part] - The part to invalidate.\n\t * @returns {Array.<String>} - The invalidated parts.\n\t */\n\tOwl.prototype.invalidate = function(part) {\n\t\tif ($.type(part) === 'string') {\n\t\t\tthis._invalidated[part] = true;\n\t\t\tthis.is('valid') && this.leave('valid');\n\t\t}\n\t\treturn $.map(this._invalidated, function(v, i) { return i });\n\t};\n\n\t/**\n\t * Resets the absolute position of the current item.\n\t * @public\n\t * @param {Number} position - The absolute position of the new item.\n\t */\n\tOwl.prototype.reset = function(position) {\n\t\tposition = this.normalize(position);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._speed = 0;\n\t\tthis._current = position;\n\n\t\tthis.suppress([ 'translate', 'translated' ]);\n\n\t\tthis.animate(this.coordinates(position));\n\n\t\tthis.release([ 'translate', 'translated' ]);\n\t};\n\n\t/**\n\t * Normalizes an absolute or a relative position of an item.\n\t * @public\n\t * @param {Number} position - The absolute or relative position to normalize.\n\t * @param {Boolean} [relative=false] - Whether the given position is relative or not.\n\t * @returns {Number} - The normalized position.\n\t */\n\tOwl.prototype.normalize = function(position, relative) {\n\t\tvar n = this._items.length,\n\t\t\tm = relative ? 0 : this._clones.length;\n\n\t\tif (!this.isNumeric(position) || n < 1) {\n\t\t\tposition = undefined;\n\t\t} else if (position < 0 || position >= n + m) {\n\t\t\tposition = ((position - m / 2) % n + n) % n + m / 2;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Converts an absolute position of an item into a relative one.\n\t * @public\n\t * @param {Number} position - The absolute position to convert.\n\t * @returns {Number} - The converted position.\n\t */\n\tOwl.prototype.relative = function(position) {\n\t\tposition -= this._clones.length / 2;\n\t\treturn this.normalize(position, true);\n\t};\n\n\t/**\n\t * Gets the maximum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.maximum = function(relative) {\n\t\tvar settings = this.settings,\n\t\t\tmaximum = this._coordinates.length,\n\t\t\titerator,\n\t\t\treciprocalItemsWidth,\n\t\t\telementWidth;\n\n\t\tif (settings.loop) {\n\t\t\tmaximum = this._clones.length / 2 + this._items.length - 1;\n\t\t} else if (settings.autoWidth || settings.merge) {\n\t\t\titerator = this._items.length;\n\t\t\tif (iterator) {\n\t\t\t\treciprocalItemsWidth = this._items[--iterator].width();\n\t\t\t\telementWidth = this.$element.width();\n\t\t\t\twhile (iterator--) {\n\t\t\t\t\treciprocalItemsWidth += this._items[iterator].width() + this.settings.margin;\n\t\t\t\t\tif (reciprocalItemsWidth > elementWidth) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaximum = iterator + 1;\n\t\t} else if (settings.center) {\n\t\t\tmaximum = this._items.length - 1;\n\t\t} else {\n\t\t\tmaximum = this._items.length - settings.items;\n\t\t}\n\n\t\tif (relative) {\n\t\t\tmaximum -= this._clones.length / 2;\n\t\t}\n\n\t\treturn Math.max(maximum, 0);\n\t};\n\n\t/**\n\t * Gets the minimum position for the current item.\n\t * @public\n\t * @param {Boolean} [relative=false] - Whether to return an absolute position or a relative position.\n\t * @returns {Number}\n\t */\n\tOwl.prototype.minimum = function(relative) {\n\t\treturn relative ? 0 : this._clones.length / 2;\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.items = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._items.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._items[position];\n\t};\n\n\t/**\n\t * Gets an item at the specified relative position.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @return {jQuery|Array.<jQuery>} - The item at the given position or all items if no position was given.\n\t */\n\tOwl.prototype.mergers = function(position) {\n\t\tif (position === undefined) {\n\t\t\treturn this._mergers.slice();\n\t\t}\n\n\t\tposition = this.normalize(position, true);\n\t\treturn this._mergers[position];\n\t};\n\n\t/**\n\t * Gets the absolute positions of clones for an item.\n\t * @public\n\t * @param {Number} [position] - The relative position of the item.\n\t * @returns {Array.<Number>} - The absolute positions of clones for the item or all if no position was given.\n\t */\n\tOwl.prototype.clones = function(position) {\n\t\tvar odd = this._clones.length / 2,\n\t\t\teven = odd + this._items.length,\n\t\t\tmap = function(index) { return index % 2 === 0 ? even + index / 2 : odd - (index + 1) / 2 };\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._clones, function(v, i) { return map(i) });\n\t\t}\n\n\t\treturn $.map(this._clones, function(v, i) { return v === position ? map(i) : null });\n\t};\n\n\t/**\n\t * Sets the current animation speed.\n\t * @public\n\t * @param {Number} [speed] - The animation speed in milliseconds or nothing to leave it unchanged.\n\t * @returns {Number} - The current animation speed in milliseconds.\n\t */\n\tOwl.prototype.speed = function(speed) {\n\t\tif (speed !== undefined) {\n\t\t\tthis._speed = speed;\n\t\t}\n\n\t\treturn this._speed;\n\t};\n\n\t/**\n\t * Gets the coordinate of an item.\n\t * @todo The name of this method is missleanding.\n\t * @public\n\t * @param {Number} position - The absolute position of the item within `minimum()` and `maximum()`.\n\t * @returns {Number|Array.<Number>} - The coordinate of the item in pixel or all coordinates.\n\t */\n\tOwl.prototype.coordinates = function(position) {\n\t\tvar multiplier = 1,\n\t\t\tnewPosition = position - 1,\n\t\t\tcoordinate;\n\n\t\tif (position === undefined) {\n\t\t\treturn $.map(this._coordinates, $.proxy(function(coordinate, index) {\n\t\t\t\treturn this.coordinates(index);\n\t\t\t}, this));\n\t\t}\n\n\t\tif (this.settings.center) {\n\t\t\tif (this.settings.rtl) {\n\t\t\t\tmultiplier = -1;\n\t\t\t\tnewPosition = position + 1;\n\t\t\t}\n\n\t\t\tcoordinate = this._coordinates[position];\n\t\t\tcoordinate += (this.width() - coordinate + (this._coordinates[newPosition] || 0)) / 2 * multiplier;\n\t\t} else {\n\t\t\tcoordinate = this._coordinates[newPosition] || 0;\n\t\t}\n\n\t\tcoordinate = Math.ceil(coordinate);\n\n\t\treturn coordinate;\n\t};\n\n\t/**\n\t * Calculates the speed for a translation.\n\t * @protected\n\t * @param {Number} from - The absolute position of the start item.\n\t * @param {Number} to - The absolute position of the target item.\n\t * @param {Number} [factor=undefined] - The time factor in milliseconds.\n\t * @returns {Number} - The time in milliseconds for the translation.\n\t */\n\tOwl.prototype.duration = function(from, to, factor) {\n\t\tif (factor === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(Math.max(Math.abs(to - from), 1), 6) * Math.abs((factor || this.settings.smartSpeed));\n\t};\n\n\t/**\n\t * Slides to the specified item.\n\t * @public\n\t * @param {Number} position - The position of the item.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.to = function(position, speed) {\n\t\tvar current = this.current(),\n\t\t\trevert = null,\n\t\t\tdistance = position - this.relative(current),\n\t\t\tdirection = (distance > 0) - (distance < 0),\n\t\t\titems = this._items.length,\n\t\t\tminimum = this.minimum(),\n\t\t\tmaximum = this.maximum();\n\n\t\tif (this.settings.loop) {\n\t\t\tif (!this.settings.rewind && Math.abs(distance) > items / 2) {\n\t\t\t\tdistance += direction * -1 * items;\n\t\t\t}\n\n\t\t\tposition = current + distance;\n\t\t\trevert = ((position - minimum) % items + items) % items + minimum;\n\n\t\t\tif (revert !== position && revert - distance <= maximum && revert - distance > 0) {\n\t\t\t\tcurrent = revert - distance;\n\t\t\t\tposition = revert;\n\t\t\t\tthis.reset(current);\n\t\t\t}\n\t\t} else if (this.settings.rewind) {\n\t\t\tmaximum += 1;\n\t\t\tposition = (position % maximum + maximum) % maximum;\n\t\t} else {\n\t\t\tposition = Math.max(minimum, Math.min(maximum, position));\n\t\t}\n\n\t\tthis.speed(this.duration(current, position, speed));\n\t\tthis.current(position);\n\n\t\tif (this.isVisible()) {\n\t\t\tthis.update();\n\t\t}\n\t};\n\n\t/**\n\t * Slides to the next item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.next = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) + 1, speed);\n\t};\n\n\t/**\n\t * Slides to the previous item.\n\t * @public\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t */\n\tOwl.prototype.prev = function(speed) {\n\t\tspeed = speed || false;\n\t\tthis.to(this.relative(this.current()) - 1, speed);\n\t};\n\n\t/**\n\t * Handles the end of an animation.\n\t * @protected\n\t * @param {Event} event - The event arguments.\n\t */\n\tOwl.prototype.onTransitionEnd = function(event) {\n\n\t\t// if css2 animation then event object is undefined\n\t\tif (event !== undefined) {\n\t\t\tevent.stopPropagation();\n\n\t\t\t// Catch only owl-stage transitionEnd event\n\t\t\tif ((event.target || event.srcElement || event.originalTarget) !== this.$stage.get(0)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tthis.leave('animating');\n\t\tthis.trigger('translated');\n\t};\n\n\t/**\n\t * Gets viewport width.\n\t * @protected\n\t * @return {Number} - The width in pixel.\n\t */\n\tOwl.prototype.viewport = function() {\n\t\tvar width;\n\t\tif (this.options.responsiveBaseElement !== window) {\n\t\t\twidth = $(this.options.responsiveBaseElement).width();\n\t\t} else if (window.innerWidth) {\n\t\t\twidth = window.innerWidth;\n\t\t} else if (document.documentElement && document.documentElement.clientWidth) {\n\t\t\twidth = document.documentElement.clientWidth;\n\t\t} else {\n\t\t\tconsole.warn('Can not detect viewport width.');\n\t\t}\n\t\treturn width;\n\t};\n\n\t/**\n\t * Replaces the current content.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The new content.\n\t */\n\tOwl.prototype.replace = function(content) {\n\t\tthis.$stage.empty();\n\t\tthis._items = [];\n\n\t\tif (content) {\n\t\t\tcontent = (content instanceof jQuery) ? content : $(content);\n\t\t}\n\n\t\tif (this.settings.nestedItemSelector) {\n\t\t\tcontent = content.find('.' + this.settings.nestedItemSelector);\n\t\t}\n\n\t\tcontent.filter(function() {\n\t\t\treturn this.nodeType === 1;\n\t\t}).each($.proxy(function(index, item) {\n\t\t\titem = this.prepare(item);\n\t\t\tthis.$stage.append(item);\n\t\t\tthis._items.push(item);\n\t\t\tthis._mergers.push(item.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}, this));\n\n\t\tthis.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0);\n\n\t\tthis.invalidate('items');\n\t};\n\n\t/**\n\t * Adds an item.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {HTMLElement|jQuery|String} content - The item content to add.\n\t * @param {Number} [position] - The relative position at which to insert the item otherwise the item will be added to the end.\n\t */\n\tOwl.prototype.add = function(content, position) {\n\t\tvar current = this.relative(this._current);\n\n\t\tposition = position === undefined ? this._items.length : this.normalize(position, true);\n\t\tcontent = content instanceof jQuery ? content : $(content);\n\n\t\tthis.trigger('add', { content: content, position: position });\n\n\t\tcontent = this.prepare(content);\n\n\t\tif (this._items.length === 0 || position === this._items.length) {\n\t\t\tthis._items.length === 0 && this.$stage.append(content);\n\t\t\tthis._items.length !== 0 && this._items[position - 1].after(content);\n\t\t\tthis._items.push(content);\n\t\t\tthis._mergers.push(content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t} else {\n\t\t\tthis._items[position].before(content);\n\t\t\tthis._items.splice(position, 0, content);\n\t\t\tthis._mergers.splice(position, 0, content.find('[data-merge]').addBack('[data-merge]').attr('data-merge') * 1 || 1);\n\t\t}\n\n\t\tthis._items[current] && this.reset(this._items[current].index());\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('added', { content: content, position: position });\n\t};\n\n\t/**\n\t * Removes an item by its position.\n\t * @todo Use `item` instead of `content` for the event arguments.\n\t * @public\n\t * @param {Number} position - The relative position of the item to remove.\n\t */\n\tOwl.prototype.remove = function(position) {\n\t\tposition = this.normalize(position, true);\n\n\t\tif (position === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.trigger('remove', { content: this._items[position], position: position });\n\n\t\tthis._items[position].remove();\n\t\tthis._items.splice(position, 1);\n\t\tthis._mergers.splice(position, 1);\n\n\t\tthis.invalidate('items');\n\n\t\tthis.trigger('removed', { content: null, position: position });\n\t};\n\n\t/**\n\t * Preloads images with auto width.\n\t * @todo Replace by a more generic approach\n\t * @protected\n\t */\n\tOwl.prototype.preloadAutoWidthImages = function(images) {\n\t\timages.each($.proxy(function(i, element) {\n\t\t\tthis.enter('pre-loading');\n\t\t\telement = $(element);\n\t\t\t$(new Image()).one('load', $.proxy(function(e) {\n\t\t\t\telement.attr('src', e.target.src);\n\t\t\t\telement.css('opacity', 1);\n\t\t\t\tthis.leave('pre-loading');\n\t\t\t\t!this.is('pre-loading') && !this.is('initializing') && this.refresh();\n\t\t\t}, this)).attr('src', element.attr('src') || element.attr('data-src') || element.attr('data-src-retina'));\n\t\t}, this));\n\t};\n\n\t/**\n\t * Destroys the carousel.\n\t * @public\n\t */\n\tOwl.prototype.destroy = function() {\n\n\t\tthis.$element.off('.owl.core');\n\t\tthis.$stage.off('.owl.core');\n\t\t$(document).off('.owl.core');\n\n\t\tif (this.settings.responsive !== false) {\n\t\t\twindow.clearTimeout(this.resizeTimer);\n\t\t\tthis.off(window, 'resize', this._handlers.onThrottledResize);\n\t\t}\n\n\t\tfor (var i in this._plugins) {\n\t\t\tthis._plugins[i].destroy();\n\t\t}\n\n\t\tthis.$stage.children('.cloned').remove();\n\n\t\tthis.$stage.unwrap();\n\t\tthis.$stage.children().contents().unwrap();\n\t\tthis.$stage.children().unwrap();\n\t\tthis.$stage.remove();\n\t\tthis.$element\n\t\t\t.removeClass(this.options.refreshClass)\n\t\t\t.removeClass(this.options.loadingClass)\n\t\t\t.removeClass(this.options.loadedClass)\n\t\t\t.removeClass(this.options.rtlClass)\n\t\t\t.removeClass(this.options.dragClass)\n\t\t\t.removeClass(this.options.grabClass)\n\t\t\t.attr('class', this.$element.attr('class').replace(new RegExp(this.options.responsiveClass + '-\\\\S+\\\\s', 'g'), ''))\n\t\t\t.removeData('owl.carousel');\n\t};\n\n\t/**\n\t * Operators to calculate right-to-left and left-to-right.\n\t * @protected\n\t * @param {Number} [a] - The left side operand.\n\t * @param {String} [o] - The operator.\n\t * @param {Number} [b] - The right side operand.\n\t */\n\tOwl.prototype.op = function(a, o, b) {\n\t\tvar rtl = this.settings.rtl;\n\t\tswitch (o) {\n\t\t\tcase '<':\n\t\t\t\treturn rtl ? a > b : a < b;\n\t\t\tcase '>':\n\t\t\t\treturn rtl ? a < b : a > b;\n\t\t\tcase '>=':\n\t\t\t\treturn rtl ? a <= b : a >= b;\n\t\t\tcase '<=':\n\t\t\t\treturn rtl ? a >= b : a <= b;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Attaches to an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The event handler to attach.\n\t * @param {Boolean} capture - Wether the event should be handled at the capturing phase or not.\n\t */\n\tOwl.prototype.on = function(element, event, listener, capture) {\n\t\tif (element.addEventListener) {\n\t\t\telement.addEventListener(event, listener, capture);\n\t\t} else if (element.attachEvent) {\n\t\t\telement.attachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Detaches from an internal event.\n\t * @protected\n\t * @param {HTMLElement} element - The event source.\n\t * @param {String} event - The event name.\n\t * @param {Function} listener - The attached event handler to detach.\n\t * @param {Boolean} capture - Wether the attached event handler was registered as a capturing listener or not.\n\t */\n\tOwl.prototype.off = function(element, event, listener, capture) {\n\t\tif (element.removeEventListener) {\n\t\t\telement.removeEventListener(event, listener, capture);\n\t\t} else if (element.detachEvent) {\n\t\t\telement.detachEvent('on' + event, listener);\n\t\t}\n\t};\n\n\t/**\n\t * Triggers a public event.\n\t * @todo Remove `status`, `relatedTarget` should be used instead.\n\t * @protected\n\t * @param {String} name - The event name.\n\t * @param {*} [data=null] - The event data.\n\t * @param {String} [namespace=carousel] - The event namespace.\n\t * @param {String} [state] - The state which is associated with the event.\n\t * @param {Boolean} [enter=false] - Indicates if the call enters the specified state or not.\n\t * @returns {Event} - The event arguments.\n\t */\n\tOwl.prototype.trigger = function(name, data, namespace, state, enter) {\n\t\tvar status = {\n\t\t\titem: { count: this._items.length, index: this.current() }\n\t\t}, handler = $.camelCase(\n\t\t\t$.grep([ 'on', name, namespace ], function(v) { return v })\n\t\t\t\t.join('-').toLowerCase()\n\t\t), event = $.Event(\n\t\t\t[ name, 'owl', namespace || 'carousel' ].join('.').toLowerCase(),\n\t\t\t$.extend({ relatedTarget: this }, status, data)\n\t\t);\n\n\t\tif (!this._supress[name]) {\n\t\t\t$.each(this._plugins, function(name, plugin) {\n\t\t\t\tif (plugin.onTrigger) {\n\t\t\t\t\tplugin.onTrigger(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.register({ type: Owl.Type.Event, name: name });\n\t\t\tthis.$element.trigger(event);\n\n\t\t\tif (this.settings && typeof this.settings[handler] === 'function') {\n\t\t\t\tthis.settings[handler].call(this, event);\n\t\t\t}\n\t\t}\n\n\t\treturn event;\n\t};\n\n\t/**\n\t * Enters a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.enter = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tif (this._states.current[name] === undefined) {\n\t\t\t\tthis._states.current[name] = 0;\n\t\t\t}\n\n\t\t\tthis._states.current[name]++;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Leaves a state.\n\t * @param name - The state name.\n\t */\n\tOwl.prototype.leave = function(name) {\n\t\t$.each([ name ].concat(this._states.tags[name] || []), $.proxy(function(i, name) {\n\t\t\tthis._states.current[name]--;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Registers an event or state.\n\t * @public\n\t * @param {Object} object - The event or state to register.\n\t */\n\tOwl.prototype.register = function(object) {\n\t\tif (object.type === Owl.Type.Event) {\n\t\t\tif (!$.event.special[object.name]) {\n\t\t\t\t$.event.special[object.name] = {};\n\t\t\t}\n\n\t\t\tif (!$.event.special[object.name].owl) {\n\t\t\t\tvar _default = $.event.special[object.name]._default;\n\t\t\t\t$.event.special[object.name]._default = function(e) {\n\t\t\t\t\tif (_default && _default.apply && (!e.namespace || e.namespace.indexOf('owl') === -1)) {\n\t\t\t\t\t\treturn _default.apply(this, arguments);\n\t\t\t\t\t}\n\t\t\t\t\treturn e.namespace && e.namespace.indexOf('owl') > -1;\n\t\t\t\t};\n\t\t\t\t$.event.special[object.name].owl = true;\n\t\t\t}\n\t\t} else if (object.type === Owl.Type.State) {\n\t\t\tif (!this._states.tags[object.name]) {\n\t\t\t\tthis._states.tags[object.name] = object.tags;\n\t\t\t} else {\n\t\t\t\tthis._states.tags[object.name] = this._states.tags[object.name].concat(object.tags);\n\t\t\t}\n\n\t\t\tthis._states.tags[object.name] = $.grep(this._states.tags[object.name], $.proxy(function(tag, i) {\n\t\t\t\treturn $.inArray(tag, this._states.tags[object.name]) === i;\n\t\t\t}, this));\n\t\t}\n\t};\n\n\t/**\n\t * Suppresses events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to suppress.\n\t */\n\tOwl.prototype.suppress = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tthis._supress[event] = true;\n\t\t}, this));\n\t};\n\n\t/**\n\t * Releases suppressed events.\n\t * @protected\n\t * @param {Array.<String>} events - The events to release.\n\t */\n\tOwl.prototype.release = function(events) {\n\t\t$.each(events, $.proxy(function(index, event) {\n\t\t\tdelete this._supress[event];\n\t\t}, this));\n\t};\n\n\t/**\n\t * Gets unified pointer coordinates from event.\n\t * @todo #261\n\t * @protected\n\t * @param {Event} - The `mousedown` or `touchstart` event.\n\t * @returns {Object} - Contains `x` and `y` coordinates of current pointer position.\n\t */\n\tOwl.prototype.pointer = function(event) {\n\t\tvar result = { x: null, y: null };\n\n\t\tevent = event.originalEvent || event || window.event;\n\n\t\tevent = event.touches && event.touches.length ?\n\t\t\tevent.touches[0] : event.changedTouches && event.changedTouches.length ?\n\t\t\t\tevent.changedTouches[0] : event;\n\n\t\tif (event.pageX) {\n\t\t\tresult.x = event.pageX;\n\t\t\tresult.y = event.pageY;\n\t\t} else {\n\t\t\tresult.x = event.clientX;\n\t\t\tresult.y = event.clientY;\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t/**\n\t * Determines if the input is a Number or something that can be coerced to a Number\n\t * @protected\n\t * @param {Number|String|Object|Array|Boolean|RegExp|Function|Symbol} - The input to be tested\n\t * @returns {Boolean} - An indication if the input is a Number or can be coerced to a Number\n\t */\n\tOwl.prototype.isNumeric = function(number) {\n\t\treturn !isNaN(parseFloat(number));\n\t};\n\n\t/**\n\t * Gets the difference of two vectors.\n\t * @todo #261\n\t * @protected\n\t * @param {Object} - The first vector.\n\t * @param {Object} - The second vector.\n\t * @returns {Object} - The difference.\n\t */\n\tOwl.prototype.difference = function(first, second) {\n\t\treturn {\n\t\t\tx: first.x - second.x,\n\t\t\ty: first.y - second.y\n\t\t};\n\t};\n\n\t/**\n\t * The jQuery Plugin for the Owl Carousel\n\t * @todo Navigation plugin `next` and `prev`\n\t * @public\n\t */\n\t$.fn.owlCarousel = function(option) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('owl.carousel');\n\n\t\t\tif (!data) {\n\t\t\t\tdata = new Owl(this, typeof option == 'object' && option);\n\t\t\t\t$this.data('owl.carousel', data);\n\n\t\t\t\t$.each([\n\t\t\t\t\t'next', 'prev', 'to', 'destroy', 'refresh', 'replace', 'add', 'remove'\n\t\t\t\t], function(i, event) {\n\t\t\t\t\tdata.register({ type: Owl.Type.Event, name: event });\n\t\t\t\t\tdata.$element.on(event + '.owl.carousel.core', $.proxy(function(e) {\n\t\t\t\t\t\tif (e.namespace && e.relatedTarget !== this) {\n\t\t\t\t\t\t\tthis.suppress([ event ]);\n\t\t\t\t\t\t\tdata[event].apply(this, [].slice.call(arguments, 1));\n\t\t\t\t\t\t\tthis.release([ event ]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, data));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof option == 'string' && option.charAt(0) !== '_') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * The constructor for the jQuery Plugin\n\t * @public\n\t */\n\t$.fn.owlCarousel.Constructor = Owl;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoRefresh Plugin\n * @version 2.3.4\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto refresh plugin.\n\t * @class The Auto Refresh Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoRefresh = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Refresh interval.\n\t\t * @protected\n\t\t * @type {number}\n\t\t */\n\t\tthis._interval = null;\n\n\t\t/**\n\t\t * Whether the element is currently visible or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._visible = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoRefresh) {\n\t\t\t\t\tthis.watch();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoRefresh.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoRefresh.Defaults = {\n\t\tautoRefresh: true,\n\t\tautoRefreshInterval: 500\n\t};\n\n\t/**\n\t * Watches the element.\n\t */\n\tAutoRefresh.prototype.watch = function() {\n\t\tif (this._interval) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = this._core.isVisible();\n\t\tthis._interval = window.setInterval($.proxy(this.refresh, this), this._core.settings.autoRefreshInterval);\n\t};\n\n\t/**\n\t * Refreshes the element.\n\t */\n\tAutoRefresh.prototype.refresh = function() {\n\t\tif (this._core.isVisible() === this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._visible = !this._visible;\n\n\t\tthis._core.$element.toggleClass('owl-hidden', !this._visible);\n\n\t\tthis._visible && (this._core.invalidate('width') && this._core.refresh());\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoRefresh.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\twindow.clearInterval(this._interval);\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoRefresh = AutoRefresh;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Lazy Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the lazy plugin.\n\t * @class The Lazy Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Lazy = function(carousel) {\n\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Already loaded items.\n\t\t * @protected\n\t\t * @type {Array.<jQuery>}\n\t\t */\n\t\tthis._loaded = [];\n\n\t\t/**\n\t\t * Event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel change.owl.carousel resized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._core.settings || !this._core.settings.lazyLoad) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ((e.property && e.property.name == 'position') || e.type == 'initialized') {\n\t\t\t\t\tvar settings = this._core.settings,\n\t\t\t\t\t\tn = (settings.center && Math.ceil(settings.items / 2) || settings.items),\n\t\t\t\t\t\ti = ((settings.center && n * -1) || 0),\n\t\t\t\t\t\tposition = (e.property && e.property.value !== undefined ? e.property.value : this._core.current()) + i,\n\t\t\t\t\t\tclones = this._core.clones().length,\n\t\t\t\t\t\tload = $.proxy(function(i, v) { this.load(v) }, this);\n\t\t\t\t\t//TODO: Need documentation for this new option\n\t\t\t\t\tif (settings.lazyLoadEager > 0) {\n\t\t\t\t\t\tn += settings.lazyLoadEager;\n\t\t\t\t\t\t// If the carousel is looping also preload images that are to the \"left\"\n\t\t\t\t\t\tif (settings.loop) {\n              position -= settings.lazyLoadEager;\n              n++;\n            }\n\t\t\t\t\t}\n\n\t\t\t\t\twhile (i++ < n) {\n\t\t\t\t\t\tthis.load(clones / 2 + this._core.relative(position));\n\t\t\t\t\t\tclones && $.each(this._core.clones(this._core.relative(position)), load);\n\t\t\t\t\t\tposition++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set the default options\n\t\tthis._core.options = $.extend({}, Lazy.Defaults, this._core.options);\n\n\t\t// register event handler\n\t\tthis._core.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tLazy.Defaults = {\n\t\tlazyLoad: false,\n\t\tlazyLoadEager: 0\n\t};\n\n\t/**\n\t * Loads all resources of an item at the specified position.\n\t * @param {Number} position - The absolute position of the item.\n\t * @protected\n\t */\n\tLazy.prototype.load = function(position) {\n\t\tvar $item = this._core.$stage.children().eq(position),\n\t\t\t$elements = $item && $item.find('.owl-lazy');\n\n\t\tif (!$elements || $.inArray($item.get(0), this._loaded) > -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t$elements.each($.proxy(function(index, element) {\n\t\t\tvar $element = $(element), image,\n                url = (window.devicePixelRatio > 1 && $element.attr('data-src-retina')) || $element.attr('data-src') || $element.attr('data-srcset');\n\n\t\t\tthis._core.trigger('load', { element: $element, url: url }, 'lazy');\n\n\t\t\tif ($element.is('img')) {\n\t\t\t\t$element.one('load.owl.lazy', $.proxy(function() {\n\t\t\t\t\t$element.css('opacity', 1);\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this)).attr('src', url);\n            } else if ($element.is('source')) {\n                $element.one('load.owl.lazy', $.proxy(function() {\n                    this._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n                }, this)).attr('srcset', url);\n\t\t\t} else {\n\t\t\t\timage = new Image();\n\t\t\t\timage.onload = $.proxy(function() {\n\t\t\t\t\t$element.css({\n\t\t\t\t\t\t'background-image': 'url(\"' + url + '\")',\n\t\t\t\t\t\t'opacity': '1'\n\t\t\t\t\t});\n\t\t\t\t\tthis._core.trigger('loaded', { element: $element, url: url }, 'lazy');\n\t\t\t\t}, this);\n\t\t\t\timage.src = url;\n\t\t\t}\n\t\t}, this));\n\n\t\tthis._loaded.push($item.get(0));\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tLazy.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis._core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Lazy = Lazy;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * AutoHeight Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the auto height plugin.\n\t * @class The Auto Height Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar AutoHeight = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\tthis._previousHeight = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight && e.property.name === 'position'){\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'loaded.owl.lazy': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoHeight\n\t\t\t\t\t&& e.element.closest('.' + this._core.settings.itemClass).index() === this._core.current()) {\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, AutoHeight.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\t\tthis._intervalId = null;\n\t\tvar refThis = this;\n\n\t\t// These changes have been taken from a PR by gavrochelegnou proposed in #1575\n\t\t// and have been made compatible with the latest jQuery version\n\t\t$(window).on('load', function() {\n\t\t\tif (refThis._core.settings.autoHeight) {\n\t\t\t\trefThis.update();\n\t\t\t}\n\t\t});\n\n\t\t// Autoresize the height of the carousel when window is resized\n\t\t// When carousel has images, the height is dependent on the width\n\t\t// and should also change on resize\n\t\t$(window).resize(function() {\n\t\t\tif (refThis._core.settings.autoHeight) {\n\t\t\t\tif (refThis._intervalId != null) {\n\t\t\t\t\tclearTimeout(refThis._intervalId);\n\t\t\t\t}\n\n\t\t\t\trefThis._intervalId = setTimeout(function() {\n\t\t\t\t\trefThis.update();\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t});\n\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoHeight.Defaults = {\n\t\tautoHeight: false,\n\t\tautoHeightClass: 'owl-height'\n\t};\n\n\t/**\n\t * Updates the view.\n\t */\n\tAutoHeight.prototype.update = function() {\n\t\tvar start = this._core._current,\n\t\t\tend = start + this._core.settings.items,\n\t\t\tlazyLoadEnabled = this._core.settings.lazyLoad,\n\t\t\tvisible = this._core.$stage.children().toArray().slice(start, end),\n\t\t\theights = [],\n\t\t\tmaxheight = 0;\n\n\t\t$.each(visible, function(index, item) {\n\t\t\theights.push($(item).height());\n\t\t});\n\n\t\tmaxheight = Math.max.apply(null, heights);\n\n\t\tif (maxheight <= 1 && lazyLoadEnabled && this._previousHeight) {\n\t\t\tmaxheight = this._previousHeight;\n\t\t}\n\n\t\tthis._previousHeight = maxheight;\n\n\t\tthis._core.$stage.parent()\n\t\t\t.height(maxheight)\n\t\t\t.addClass(this._core.settings.autoHeightClass);\n\t};\n\n\tAutoHeight.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] !== 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.AutoHeight = AutoHeight;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Video Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the video plugin.\n\t * @class The Video Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Video = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Cache all video URLs.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._videos = {};\n\n\t\t/**\n\t\t * Current playing item.\n\t\t * @protected\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis._playing = null;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @todo The cloned content removale is too late\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis._core.register({ type: 'state', name: 'playing', tags: [ 'interacting' ] });\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'resize.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.video && this.isInFullScreen()) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.is('resizing')) {\n\t\t\t\t\tthis._core.$stage.find('.cloned .owl-video-frame').remove();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position' && this._playing) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (!e.namespace) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar $element = $(e.content).find('.owl-video');\n\n\t\t\t\tif ($element.length) {\n\t\t\t\t\t$element.css('display', 'none');\n\t\t\t\t\tthis.fetch($element, $(e.content));\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Video.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\tthis._core.$element.on('click.owl.video', '.owl-video-play-icon', $.proxy(function(e) {\n\t\t\tthis.play(e);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tVideo.Defaults = {\n\t\tvideo: false,\n\t\tvideoHeight: false,\n\t\tvideoWidth: false\n\t};\n\n\t/**\n\t * Gets the video ID and the type (YouTube/Vimeo/vzaar only).\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {jQuery} item - The item containing the video.\n\t */\n\tVideo.prototype.fetch = function(target, item) {\n\t\t\tvar type = (function() {\n\t\t\t\t\tif (target.attr('data-vimeo-id')) {\n\t\t\t\t\t\treturn 'vimeo';\n\t\t\t\t\t} else if (target.attr('data-vzaar-id')) {\n\t\t\t\t\t\treturn 'vzaar'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 'youtube';\n\t\t\t\t\t}\n\t\t\t\t})(),\n\t\t\t\tid = target.attr('data-vimeo-id') || target.attr('data-youtube-id') || target.attr('data-vzaar-id'),\n\t\t\t\twidth = target.attr('data-width') || this._core.settings.videoWidth,\n\t\t\t\theight = target.attr('data-height') || this._core.settings.videoHeight,\n\t\t\t\turl = target.attr('href');\n\n\t\tif (url) {\n\n\t\t\t/*\n\t\t\t\t\tParses the id's out of the following urls (and probably more):\n\t\t\t\t\thttps://www.youtube.com/watch?v=:id\n\t\t\t\t\thttps://youtu.be/:id\n\t\t\t\t\thttps://vimeo.com/:id\n\t\t\t\t\thttps://vimeo.com/channels/:channel/:id\n\t\t\t\t\thttps://vimeo.com/groups/:group/videos/:id\n\t\t\t\t\thttps://app.vzaar.com/videos/:id\n\n\t\t\t\t\tVisual example: https://regexper.com/#(http%3A%7Chttps%3A%7C)%5C%2F%5C%2F(player.%7Cwww.%7Capp.)%3F(vimeo%5C.com%7Cyoutu(be%5C.com%7C%5C.be%7Cbe%5C.googleapis%5C.com)%7Cvzaar%5C.com)%5C%2F(video%5C%2F%7Cvideos%5C%2F%7Cembed%5C%2F%7Cchannels%5C%2F.%2B%5C%2F%7Cgroups%5C%2F.%2B%5C%2F%7Cwatch%5C%3Fv%3D%7Cv%5C%2F)%3F(%5BA-Za-z0-9._%25-%5D*)(%5C%26%5CS%2B)%3F\n\t\t\t*/\n\n\t\t\tid = url.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com|be\\-nocookie\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/);\n\n\t\t\tif (id[3].indexOf('youtu') > -1) {\n\t\t\t\ttype = 'youtube';\n\t\t\t} else if (id[3].indexOf('vimeo') > -1) {\n\t\t\t\ttype = 'vimeo';\n\t\t\t} else if (id[3].indexOf('vzaar') > -1) {\n\t\t\t\ttype = 'vzaar';\n\t\t\t} else {\n\t\t\t\tthrow new Error('Video URL not supported.');\n\t\t\t}\n\t\t\tid = id[6];\n\t\t} else {\n\t\t\tthrow new Error('Missing video URL.');\n\t\t}\n\n\t\tthis._videos[url] = {\n\t\t\ttype: type,\n\t\t\tid: id,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\n\t\titem.attr('data-video', url);\n\n\t\tthis.thumbnail(target, this._videos[url]);\n\t};\n\n\t/**\n\t * Creates video thumbnail.\n\t * @protected\n\t * @param {jQuery} target - The target containing the video data.\n\t * @param {Object} info - The video info object.\n\t * @see `fetch`\n\t */\n\tVideo.prototype.thumbnail = function(target, video) {\n\t\tvar tnLink,\n\t\t\ticon,\n\t\t\tpath,\n\t\t\tdimensions = video.width && video.height ? 'width:' + video.width + 'px;height:' + video.height + 'px;' : '',\n\t\t\tcustomTn = target.find('img'),\n\t\t\tsrcType = 'src',\n\t\t\tlazyClass = '',\n\t\t\tsettings = this._core.settings,\n\t\t\tcreate = function(path) {\n\t\t\t\ticon = '<div class=\"owl-video-play-icon\"></div>';\n\n\t\t\t\tif (settings.lazyLoad) {\n\t\t\t\t\ttnLink = $('<div/>',{\n\t\t\t\t\t\t\"class\": 'owl-video-tn ' + lazyClass,\n\t\t\t\t\t\t\"srcType\": path\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttnLink = $( '<div/>', {\n\t\t\t\t\t\t\"class\": \"owl-video-tn\",\n\t\t\t\t\t\t\"style\": 'opacity:1;background-image:url(' + path + ')'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\ttarget.after(tnLink);\n\t\t\t\ttarget.after(icon);\n\t\t\t};\n\n\t\t// wrap video content into owl-video-wrapper div\n\t\ttarget.wrap( $( '<div/>', {\n\t\t\t\"class\": \"owl-video-wrapper\",\n\t\t\t\"style\": dimensions\n\t\t}));\n\n\t\tif (this._core.settings.lazyLoad) {\n\t\t\tsrcType = 'data-src';\n\t\t\tlazyClass = 'owl-lazy';\n\t\t}\n\n\t\t// custom thumbnail\n\t\tif (customTn.length) {\n\t\t\tcreate(customTn.attr(srcType));\n\t\t\tcustomTn.remove();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (video.type === 'youtube') {\n\t\t\tpath = \"//img.youtube.com/vi/\" + video.id + \"/hqdefault.jpg\";\n\t\t\tcreate(path);\n\t\t} else if (video.type === 'vimeo') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vimeo.com/api/v2/video/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data[0].thumbnail_large;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (video.type === 'vzaar') {\n\t\t\t$.ajax({\n\t\t\t\ttype: 'GET',\n\t\t\t\turl: '//vzaar.com/api/videos/' + video.id + '.json',\n\t\t\t\tjsonp: 'callback',\n\t\t\t\tdataType: 'jsonp',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tpath = data.framegrab_url;\n\t\t\t\t\tcreate(path);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Stops the current video.\n\t * @public\n\t */\n\tVideo.prototype.stop = function() {\n\t\tthis._core.trigger('stop', null, 'video');\n\t\tthis._playing.find('.owl-video-frame').remove();\n\t\tthis._playing.removeClass('owl-video-playing');\n\t\tthis._playing = null;\n\t\tthis._core.leave('playing');\n\t\tthis._core.trigger('stopped', null, 'video');\n\t};\n\n\t/**\n\t * Starts the current video.\n\t * @public\n\t * @param {Event} event - The event arguments.\n\t */\n\tVideo.prototype.play = function(event) {\n\t\tvar target = $(event.target),\n\t\t\titem = target.closest('.' + this._core.settings.itemClass),\n\t\t\tvideo = this._videos[item.attr('data-video')],\n\t\t\twidth = video.width || '100%',\n\t\t\theight = video.height || this._core.$stage.height(),\n\t\t\thtml,\n\t\t\tiframe;\n\n\t\tif (this._playing) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._core.enter('playing');\n\t\tthis._core.trigger('play', null, 'video');\n\n\t\titem = this._core.items(this._core.relative(item.index()));\n\n\t\tthis._core.reset(item.index());\n\n\t\thtml = $( '<iframe frameborder=\"0\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>' );\n\t\thtml.attr( 'height', height );\n\t\thtml.attr( 'width', width );\n\t\tif (video.type === 'youtube') {\n\t\t\thtml.attr( 'src', '//www.youtube.com/embed/' + video.id + '?autoplay=1&rel=0&v=' + video.id );\n\t\t} else if (video.type === 'vimeo') {\n\t\t\thtml.attr( 'src', '//player.vimeo.com/video/' + video.id + '?autoplay=1' );\n\t\t} else if (video.type === 'vzaar') {\n\t\t\thtml.attr( 'src', '//view.vzaar.com/' + video.id + '/player?autoplay=true' );\n\t\t}\n\n\t\tiframe = $(html).wrap( '<div class=\"owl-video-frame\" />' ).insertAfter(item.find('.owl-video'));\n\n\t\tthis._playing = item.addClass('owl-video-playing');\n\t};\n\n\t/**\n\t * Checks whether an video is currently in full screen mode or not.\n\t * @todo Bad style because looks like a readonly method but changes members.\n\t * @protected\n\t * @returns {Boolean}\n\t */\n\tVideo.prototype.isInFullScreen = function() {\n\t\tvar element = document.fullscreenElement || document.mozFullScreenElement ||\n\t\t\t\tdocument.webkitFullscreenElement;\n\n\t\treturn element && $(element).parent().hasClass('owl-video-frame');\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tVideo.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis._core.$element.off('click.owl.video');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Video = Video;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Animate Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the animate plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Animate = function(scope) {\n\t\tthis.core = scope;\n\t\tthis.core.options = $.extend({}, Animate.Defaults, this.core.options);\n\t\tthis.swapping = true;\n\t\tthis.previous = undefined;\n\t\tthis.next = undefined;\n\n\t\tthis.handlers = {\n\t\t\t'change.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.previous = this.core.current();\n\t\t\t\t\tthis.next = e.property.value;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'drag.owl.carousel dragged.owl.carousel translated.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.swapping = e.type == 'translated';\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'translate.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn)) {\n\t\t\t\t\tthis.swap();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\tthis.core.$element.on(this.handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAnimate.Defaults = {\n\t\tanimateOut: false,\n\t\tanimateIn: false\n\t};\n\n\t/**\n\t * Toggles the animation classes whenever an translations starts.\n\t * @protected\n\t * @returns {Boolean|undefined}\n\t */\n\tAnimate.prototype.swap = function() {\n\n\t\tif (this.core.settings.items !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!$.support.animation || !$.support.transition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.core.speed(0);\n\n\t\tvar left,\n\t\t\tclear = $.proxy(this.clear, this),\n\t\t\tprevious = this.core.$stage.children().eq(this.previous),\n\t\t\tnext = this.core.$stage.children().eq(this.next),\n\t\t\tincoming = this.core.settings.animateIn,\n\t\t\toutgoing = this.core.settings.animateOut;\n\n\t\tif (this.core.current() === this.previous) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (outgoing) {\n\t\t\tleft = this.core.coordinates(this.previous) - this.core.coordinates(this.next);\n\t\t\tprevious.one($.support.animation.end, clear)\n\t\t\t\t.css( { 'left': left + 'px' } )\n\t\t\t\t.addClass('animated owl-animated-out')\n\t\t\t\t.addClass(outgoing);\n\t\t}\n\n\t\tif (incoming) {\n\t\t\tnext.one($.support.animation.end, clear)\n\t\t\t\t.addClass('animated owl-animated-in')\n\t\t\t\t.addClass(incoming);\n\t\t}\n\t};\n\n\tAnimate.prototype.clear = function(e) {\n\t\t$(e.target).css( { 'left': '' } )\n\t\t\t.removeClass('animated owl-animated-out owl-animated-in')\n\t\t\t.removeClass(this.core.settings.animateIn)\n\t\t\t.removeClass(this.core.settings.animateOut);\n\t\tthis.core.onTransitionEnd();\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tAnimate.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tfor (handler in this.handlers) {\n\t\t\tthis.core.$element.off(handler, this.handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Animate = Animate;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Autoplay Plugin\n * @version 2.3.4\n * @author Bartosz Wojciechowski\n * @author Artus Kolanowski\n * @author David Deutsch\n * @author Tom De Caluw\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\t/**\n\t * Creates the autoplay plugin.\n\t * @class The Autoplay Plugin\n\t * @param {Owl} scope - The Owl Carousel\n\t */\n\tvar Autoplay = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * The autoplay timeout id.\n\t\t * @type {Number}\n\t\t */\n\t\tthis._call = null;\n\n\t\t/**\n\t\t * Depending on the state of the plugin, this variable contains either\n\t\t * the start time of the timer or the current timer value if it's\n\t\t * paused. Since we start in a paused state we initialize the timer\n\t\t * value.\n\t\t * @type {Number}\n\t\t */\n\t\tthis._time = 0;\n\n\t\t/**\n\t\t * Stores the timeout currently used.\n\t\t * @type {Number}\n\t\t */\n\t\tthis._timeout = 0;\n\n\t\t/**\n\t\t * Indicates whenever the autoplay is paused.\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = true;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'settings') {\n\t\t\t\t\tif (this._core.settings.autoplay) {\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.stop();\n\t\t\t\t\t}\n\t\t\t\t} else if (e.namespace && e.property.name === 'position' && this._paused) {\n\t\t\t\t\t// Reset the timer. This code is triggered when the position\n\t\t\t\t\t// of the carousel was changed through user interaction.\n\t\t\t\t\tthis._time = 0;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.autoplay) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'play.owl.autoplay': $.proxy(function(e, t, s) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.play(t, s);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'stop.owl.autoplay': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseover.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'mouseleave.owl.autoplay': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchstart.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause && this._core.is('rotating')) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'touchend.owl.core': $.proxy(function() {\n\t\t\t\tif (this._core.settings.autoplayHoverPause) {\n\t\t\t\t\tthis.play();\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// register event handlers\n\t\tthis._core.$element.on(this._handlers);\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Autoplay.Defaults, this._core.options);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tAutoplay.Defaults = {\n\t\tautoplay: false,\n\t\tautoplayTimeout: 5000,\n\t\tautoplayHoverPause: false,\n\t\tautoplaySpeed: false\n\t};\n\n\t/**\n\t * Transition to the next slide and set a timeout for the next transition.\n\t * @private\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype._next = function(speed) {\n\t\tthis._call = window.setTimeout(\n\t\t\t$.proxy(this._next, this, speed),\n\t\t\tthis._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()\n\t\t);\n\n\t\tif (this._core.is('interacting') || document.hidden) {\n\t\t\treturn;\n\t\t}\n\t\tthis._core.next(speed || this._core.settings.autoplaySpeed);\n\t}\n\n\t/**\n\t * Reads the current timer value when the timer is playing.\n\t * @public\n\t */\n\tAutoplay.prototype.read = function() {\n\t\treturn new Date().getTime() - this._time;\n\t};\n\n\t/**\n\t * Starts the autoplay.\n\t * @public\n\t * @param {Number} [timeout] - The interval before the next animation starts.\n\t * @param {Number} [speed] - The animation speed for the animations.\n\t */\n\tAutoplay.prototype.play = function(timeout, speed) {\n\t\tvar elapsed;\n\n\t\tif (!this._core.is('rotating')) {\n\t\t\tthis._core.enter('rotating');\n\t\t}\n\n\t\ttimeout = timeout || this._core.settings.autoplayTimeout;\n\n\t\t// Calculate the elapsed time since the last transition. If the carousel\n\t\t// wasn't playing this calculation will yield zero.\n\t\telapsed = Math.min(this._time % (this._timeout || timeout), timeout);\n\n\t\tif (this._paused) {\n\t\t\t// Start the clock.\n\t\t\tthis._time = this.read();\n\t\t\tthis._paused = false;\n\t\t} else {\n\t\t\t// Clear the active timeout to allow replacement.\n\t\t\twindow.clearTimeout(this._call);\n\t\t}\n\n\t\t// Adjust the origin of the timer to match the new timeout value.\n\t\tthis._time += this.read() % timeout - elapsed;\n\n\t\tthis._timeout = timeout;\n\t\tthis._call = window.setTimeout($.proxy(this._next, this, speed), timeout - elapsed);\n\t};\n\n\t/**\n\t * Stops the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.stop = function() {\n\t\tif (this._core.is('rotating')) {\n\t\t\t// Reset the clock.\n\t\t\tthis._time = 0;\n\t\t\tthis._paused = true;\n\n\t\t\twindow.clearTimeout(this._call);\n\t\t\tthis._core.leave('rotating');\n\t\t}\n\t};\n\n\t/**\n\t * Pauses the autoplay.\n\t * @public\n\t */\n\tAutoplay.prototype.pause = function() {\n\t\tif (this._core.is('rotating') && !this._paused) {\n\t\t\t// Pause the clock.\n\t\t\tthis._time = this.read();\n\t\t\tthis._paused = true;\n\n\t\t\twindow.clearTimeout(this._call);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t */\n\tAutoplay.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\tthis.stop();\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.autoplay = Autoplay;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Navigation Plugin\n * @version 2.3.4\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the navigation plugin.\n\t * @class The Navigation Plugin\n\t * @param {Owl} carousel - The Owl Carousel.\n\t */\n\tvar Navigation = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Indicates whether the plugin is initialized or not.\n\t\t * @protected\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._initialized = false;\n\n\t\t/**\n\t\t * The current paging indexes.\n\t\t * @protected\n\t\t * @type {Array}\n\t\t */\n\t\tthis._pages = [];\n\n\t\t/**\n\t\t * All DOM elements of the user interface.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._controls = {};\n\n\t\t/**\n\t\t * Markup for an indicator.\n\t\t * @protected\n\t\t * @type {Array.<String>}\n\t\t */\n\t\tthis._templates = [];\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * Overridden methods of the carousel.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._overrides = {\n\t\t\tnext: this._core.next,\n\t\t\tprev: this._core.prev,\n\t\t\tto: this._core.to\n\t\t};\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.push('<div class=\"' + this._core.settings.dotClass + '\">' +\n\t\t\t\t\t\t$(e.content).find('[data-dot]').addBack('[data-dot]').attr('data-dot') + '</div>');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'added.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 0, this._templates.pop());\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'remove.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.dotsData) {\n\t\t\t\t\tthis._templates.splice(e.position, 1);\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name == 'position') {\n\t\t\t\t\tthis.draw();\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && !this._initialized) {\n\t\t\t\t\tthis._core.trigger('initialize', null, 'navigation');\n\t\t\t\t\tthis.initialize();\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._initialized = true;\n\t\t\t\t\tthis._core.trigger('initialized', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'refreshed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._initialized) {\n\t\t\t\t\tthis._core.trigger('refresh', null, 'navigation');\n\t\t\t\t\tthis.update();\n\t\t\t\t\tthis.draw();\n\t\t\t\t\tthis._core.trigger('refreshed', null, 'navigation');\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Navigation.Defaults, this._core.options);\n\n\t\t// register event handlers\n\t\tthis.$element.on(this._handlers);\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t * @todo Rename `slideBy` to `navBy`\n\t */\n\tNavigation.Defaults = {\n\t\tnav: false,\n\t\tnavText: [\n\t\t\t'<span aria-label=\"' + 'Previous' + '\">&#x2039;</span>',\n\t\t\t'<span aria-label=\"' + 'Next' + '\">&#x203a;</span>'\n\t\t],\n\t\tnavSpeed: false,\n\t\tnavElement: 'button type=\"button\" role=\"presentation\"',\n\t\tnavContainer: false,\n\t\tnavContainerClass: 'owl-nav',\n\t\tnavClass: [\n\t\t\t'owl-prev',\n\t\t\t'owl-next'\n\t\t],\n\t\tslideBy: 1,\n\t\tdotClass: 'owl-dot',\n\t\tdotsClass: 'owl-dots',\n\t\tdots: true,\n\t\tdotsEach: false,\n\t\tdotsData: false,\n\t\tdotsSpeed: false,\n\t\tdotsContainer: false\n\t};\n\n\t/**\n\t * Initializes the layout of the plugin and extends the carousel.\n\t * @protected\n\t */\n\tNavigation.prototype.initialize = function() {\n\t\tvar override,\n\t\t\tsettings = this._core.settings;\n\n\t\t// create DOM structure for relative navigation\n\t\tthis._controls.$relative = (settings.navContainer ? $(settings.navContainer)\n\t\t\t: $('<div>').addClass(settings.navContainerClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$previous = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[0])\n\t\t\t.html(settings.navText[0])\n\t\t\t.prependTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.prev(settings.navSpeed);\n\t\t\t}, this));\n\t\tthis._controls.$next = $('<' + settings.navElement + '>')\n\t\t\t.addClass(settings.navClass[1])\n\t\t\t.html(settings.navText[1])\n\t\t\t.appendTo(this._controls.$relative)\n\t\t\t.on('click', $.proxy(function(e) {\n\t\t\t\tthis.next(settings.navSpeed);\n\t\t\t}, this));\n\n\t\t// create DOM structure for absolute navigation\n\t\tif (!settings.dotsData) {\n\t\t\tthis._templates = [ $('<button role=\"button\">')\n\t\t\t\t.addClass(settings.dotClass)\n\t\t\t\t.append($('<span>'))\n\t\t\t\t.prop('outerHTML') ];\n\t\t}\n\n\t\tthis._controls.$absolute = (settings.dotsContainer ? $(settings.dotsContainer)\n\t\t\t: $('<div>').addClass(settings.dotsClass).appendTo(this.$element)).addClass('disabled');\n\n\t\tthis._controls.$absolute.on('click', 'button', $.proxy(function(e) {\n\t\t\tvar index = $(e.target).parent().is(this._controls.$absolute)\n\t\t\t\t? $(e.target).index() : $(e.target).parent().index();\n\n\t\t\te.preventDefault();\n\n\t\t\tthis.to(index, settings.dotsSpeed);\n\t\t}, this));\n\n\t\t/*$el.on('focusin', function() {\n\t\t\t$(document).off(\".carousel\");\n\n\t\t\t$(document).on('keydown.carousel', function(e) {\n\t\t\t\tif(e.keyCode == 37) {\n\t\t\t\t\t$el.trigger('prev.owl')\n\t\t\t\t}\n\t\t\t\tif(e.keyCode == 39) {\n\t\t\t\t\t$el.trigger('next.owl')\n\t\t\t\t}\n\t\t\t});\n\t\t});*/\n\n\t\t// override public methods of the carousel\n\t\tfor (override in this._overrides) {\n\t\t\tthis._core[override] = $.proxy(this[override], this);\n\t\t}\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @protected\n\t */\n\tNavigation.prototype.destroy = function() {\n\t\tvar handler, control, property, override, settings;\n\t\tsettings = this._core.settings;\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (control in this._controls) {\n\t\t\tif (control === '$relative' && settings.navContainer) {\n\t\t\t\tthis._controls[control].html('');\n\t\t\t} else {\n\t\t\t\tthis._controls[control].remove();\n\t\t\t}\n\t\t}\n\t\tfor (override in this.overides) {\n\t\t\tthis._core[override] = this._overrides[override];\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the internal state.\n\t * @protected\n\t */\n\tNavigation.prototype.update = function() {\n\t\tvar i, j, k,\n\t\t\tlower = this._core.clones().length / 2,\n\t\t\tupper = lower + this._core.items().length,\n\t\t\tmaximum = this._core.maximum(true),\n\t\t\tsettings = this._core.settings,\n\t\t\tsize = settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items;\n\n\t\tif (settings.slideBy !== 'page') {\n\t\t\tsettings.slideBy = Math.min(settings.slideBy, settings.items);\n\t\t}\n\n\t\tif (settings.dots || settings.slideBy == 'page') {\n\t\t\tthis._pages = [];\n\n\t\t\tfor (i = lower, j = 0, k = 0; i < upper; i++) {\n\t\t\t\tif (j >= size || j === 0) {\n\t\t\t\t\tthis._pages.push({\n\t\t\t\t\t\tstart: Math.min(maximum, i - lower),\n\t\t\t\t\t\tend: i - lower + size - 1\n\t\t\t\t\t});\n\t\t\t\t\tif (Math.min(maximum, i - lower) === maximum) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tj = 0, ++k;\n\t\t\t\t}\n\t\t\t\tj += this._core.mergers(this._core.relative(i));\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Draws the user interface.\n\t * @todo The option `dotsData` wont work.\n\t * @protected\n\t */\n\tNavigation.prototype.draw = function() {\n\t\tvar difference,\n\t\t\tsettings = this._core.settings,\n\t\t\tdisabled = this._core.items().length <= settings.items,\n\t\t\tindex = this._core.relative(this._core.current()),\n\t\t\tloop = settings.loop || settings.rewind;\n\n\t\tthis._controls.$relative.toggleClass('disabled', !settings.nav || disabled);\n\n\t\tif (settings.nav) {\n\t\t\tthis._controls.$previous.toggleClass('disabled', !loop && index <= this._core.minimum(true));\n\t\t\tthis._controls.$next.toggleClass('disabled', !loop && index >= this._core.maximum(true));\n\t\t}\n\n\t\tthis._controls.$absolute.toggleClass('disabled', !settings.dots || disabled);\n\n\t\tif (settings.dots) {\n\t\t\tdifference = this._pages.length - this._controls.$absolute.children().length;\n\n\t\t\tif (settings.dotsData && difference !== 0) {\n\t\t\t\tthis._controls.$absolute.html(this._templates.join(''));\n\t\t\t} else if (difference > 0) {\n\t\t\t\tthis._controls.$absolute.append(new Array(difference + 1).join(this._templates[0]));\n\t\t\t} else if (difference < 0) {\n\t\t\t\tthis._controls.$absolute.children().slice(difference).remove();\n\t\t\t}\n\n\t\t\tthis._controls.$absolute.find('.active').removeClass('active');\n\t\t\tthis._controls.$absolute.children().eq($.inArray(this.current(), this._pages)).addClass('active');\n\t\t}\n\t};\n\n\t/**\n\t * Extends event data.\n\t * @protected\n\t * @param {Event} event - The event object which gets thrown.\n\t */\n\tNavigation.prototype.onTrigger = function(event) {\n\t\tvar settings = this._core.settings;\n\n\t\tevent.page = {\n\t\t\tindex: $.inArray(this.current(), this._pages),\n\t\t\tcount: this._pages.length,\n\t\t\tsize: settings && (settings.center || settings.autoWidth || settings.dotsData\n\t\t\t\t? 1 : settings.dotsEach || settings.items)\n\t\t};\n\t};\n\n\t/**\n\t * Gets the current page position of the carousel.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.current = function() {\n\t\tvar current = this._core.relative(this._core.current());\n\t\treturn $.grep(this._pages, $.proxy(function(page, index) {\n\t\t\treturn page.start <= current && page.end >= current;\n\t\t}, this)).pop();\n\t};\n\n\t/**\n\t * Gets the current succesor/predecessor position.\n\t * @protected\n\t * @returns {Number}\n\t */\n\tNavigation.prototype.getPosition = function(successor) {\n\t\tvar position, length,\n\t\t\tsettings = this._core.settings;\n\n\t\tif (settings.slideBy == 'page') {\n\t\t\tposition = $.inArray(this.current(), this._pages);\n\t\t\tlength = this._pages.length;\n\t\t\tsuccessor ? ++position : --position;\n\t\t\tposition = this._pages[((position % length) + length) % length].start;\n\t\t} else {\n\t\t\tposition = this._core.relative(this._core.current());\n\t\t\tlength = this._core.items().length;\n\t\t\tsuccessor ? position += settings.slideBy : position -= settings.slideBy;\n\t\t}\n\n\t\treturn position;\n\t};\n\n\t/**\n\t * Slides to the next item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.next = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(true), speed);\n\t};\n\n\t/**\n\t * Slides to the previous item or page.\n\t * @public\n\t * @param {Number} [speed=false] - The time in milliseconds for the transition.\n\t */\n\tNavigation.prototype.prev = function(speed) {\n\t\t$.proxy(this._overrides.to, this._core)(this.getPosition(false), speed);\n\t};\n\n\t/**\n\t * Slides to the specified item or page.\n\t * @public\n\t * @param {Number} position - The position of the item or page.\n\t * @param {Number} [speed] - The time in milliseconds for the transition.\n\t * @param {Boolean} [standard=false] - Whether to use the standard behaviour or not.\n\t */\n\tNavigation.prototype.to = function(position, speed, standard) {\n\t\tvar length;\n\n\t\tif (!standard && this._pages.length) {\n\t\t\tlength = this._pages.length;\n\t\t\t$.proxy(this._overrides.to, this._core)(this._pages[((position % length) + length) % length].start, speed);\n\t\t} else {\n\t\t\t$.proxy(this._overrides.to, this._core)(position, speed);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Navigation = Navigation;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Hash Plugin\n * @version 2.3.4\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\t'use strict';\n\n\t/**\n\t * Creates the hash plugin.\n\t * @class The Hash Plugin\n\t * @param {Owl} carousel - The Owl Carousel\n\t */\n\tvar Hash = function(carousel) {\n\t\t/**\n\t\t * Reference to the core.\n\t\t * @protected\n\t\t * @type {Owl}\n\t\t */\n\t\tthis._core = carousel;\n\n\t\t/**\n\t\t * Hash index for the items.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._hashes = {};\n\n\t\t/**\n\t\t * The carousel element.\n\t\t * @type {jQuery}\n\t\t */\n\t\tthis.$element = this._core.$element;\n\n\t\t/**\n\t\t * All event handlers.\n\t\t * @protected\n\t\t * @type {Object}\n\t\t */\n\t\tthis._handlers = {\n\t\t\t'initialized.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && this._core.settings.startPosition === 'URLHash') {\n\t\t\t\t\t$(window).trigger('hashchange.owl.navigation');\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'prepared.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace) {\n\t\t\t\t\tvar hash = $(e.content).find('[data-hash]').addBack('[data-hash]').attr('data-hash');\n\n\t\t\t\t\tif (!hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._hashes[hash] = e.content;\n\t\t\t\t}\n\t\t\t}, this),\n\t\t\t'changed.owl.carousel': $.proxy(function(e) {\n\t\t\t\tif (e.namespace && e.property.name === 'position') {\n\t\t\t\t\tvar current = this._core.items(this._core.relative(this._core.current())),\n\t\t\t\t\t\thash = $.map(this._hashes, function(item, hash) {\n\t\t\t\t\t\t\treturn item === current ? hash : null;\n\t\t\t\t\t\t}).join();\n\n\t\t\t\t\tif (!hash || window.location.hash.slice(1) === hash) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.location.hash = hash;\n\t\t\t\t}\n\t\t\t}, this)\n\t\t};\n\n\t\t// set default options\n\t\tthis._core.options = $.extend({}, Hash.Defaults, this._core.options);\n\n\t\t// register the event handlers\n\t\tthis.$element.on(this._handlers);\n\n\t\t// register event listener for hash navigation\n\t\t$(window).on('hashchange.owl.navigation', $.proxy(function(e) {\n\t\t\tvar hash = window.location.hash.substring(1),\n\t\t\t\titems = this._core.$stage.children(),\n\t\t\t\tposition = this._hashes[hash] && items.index(this._hashes[hash]);\n\n\t\t\tif (position === undefined || position === this._core.current()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._core.to(this._core.relative(position), false, true);\n\t\t}, this));\n\t};\n\n\t/**\n\t * Default options.\n\t * @public\n\t */\n\tHash.Defaults = {\n\t\tURLhashListener: false\n\t};\n\n\t/**\n\t * Destroys the plugin.\n\t * @public\n\t */\n\tHash.prototype.destroy = function() {\n\t\tvar handler, property;\n\n\t\t$(window).off('hashchange.owl.navigation');\n\n\t\tfor (handler in this._handlers) {\n\t\t\tthis._core.$element.off(handler, this._handlers[handler]);\n\t\t}\n\t\tfor (property in Object.getOwnPropertyNames(this)) {\n\t\t\ttypeof this[property] != 'function' && (this[property] = null);\n\t\t}\n\t};\n\n\t$.fn.owlCarousel.Constructor.Plugins.Hash = Hash;\n\n})(window.Zepto || window.jQuery, window, document);\n\n/**\n * Support Plugin\n *\n * @version 2.3.4\n * @author Vivid Planet Software GmbH\n * @author Artus Kolanowski\n * @author David Deutsch\n * @license The MIT License (MIT)\n */\n;(function($, window, document, undefined) {\n\n\tvar style = $('<support>').get(0).style,\n\t\tprefixes = 'Webkit Moz O ms'.split(' '),\n\t\tevents = {\n\t\t\ttransition: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\t\t\t\tMozTransition: 'transitionend',\n\t\t\t\t\tOTransition: 'oTransitionEnd',\n\t\t\t\t\ttransition: 'transitionend'\n\t\t\t\t}\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tend: {\n\t\t\t\t\tWebkitAnimation: 'webkitAnimationEnd',\n\t\t\t\t\tMozAnimation: 'animationend',\n\t\t\t\t\tOAnimation: 'oAnimationEnd',\n\t\t\t\t\tanimation: 'animationend'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttests = {\n\t\t\tcsstransforms: function() {\n\t\t\t\treturn !!test('transform');\n\t\t\t},\n\t\t\tcsstransforms3d: function() {\n\t\t\t\treturn !!test('perspective');\n\t\t\t},\n\t\t\tcsstransitions: function() {\n\t\t\t\treturn !!test('transition');\n\t\t\t},\n\t\t\tcssanimations: function() {\n\t\t\t\treturn !!test('animation');\n\t\t\t}\n\t\t};\n\n\tfunction test(property, prefixed) {\n\t\tvar result = false,\n\t\t\tupper = property.charAt(0).toUpperCase() + property.slice(1);\n\n\t\t$.each((property + ' ' + prefixes.join(upper + ' ') + upper).split(' '), function(i, property) {\n\t\t\tif (style[property] !== undefined) {\n\t\t\t\tresult = prefixed ? property : true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tfunction prefixed(property) {\n\t\treturn test(property, true);\n\t}\n\n\tif (tests.csstransitions()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transition = new String(prefixed('transition'))\n\t\t$.support.transition.end = events.transition.end[ $.support.transition ];\n\t}\n\n\tif (tests.cssanimations()) {\n\t\t/* jshint -W053 */\n\t\t$.support.animation = new String(prefixed('animation'))\n\t\t$.support.animation.end = events.animation.end[ $.support.animation ];\n\t}\n\n\tif (tests.csstransforms()) {\n\t\t/* jshint -W053 */\n\t\t$.support.transform = new String(prefixed('transform'));\n\t\t$.support.transform3d = tests.csstransforms3d();\n\t}\n\n})(window.Zepto || window.jQuery, window, document);\n","'use strict';\n\nvar currentLanguage = $('html').attr('lang');\nvar siteUrl = $('body').data('site-url');\nvar templateUrl = $('body').data('template-url');\n\n$(document).ready(function() {\n\n\tsiteInit.slider();\n\tsiteInit.modal();\n\tsiteInit.toggleClass();\n\tsiteInit.infiniteScroll();\n\n});\n\n$(window).on('load', function() {\n\t// Load function\n});\n\n$(window).scroll(function() {\n\t// Scroll function\n});\n\n$(window).resize(function() {\n\n\tif (window.matchMedia('(min-width: 992px)').matches) {\n\t\t// The viewport is at least 992 pixels wide\n\t}\n\n});\n\nvar siteInit = {\n\t// Slider\n\tslider: function() {\n\n\t\tvar $el = $('.js-slider');\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$el.owlCarousel({\n\t\t\tloop: true,\n\t\t\tdots: true,\n\t\t\tmargin: 0,\n\t\t\tcenter: false,\n\t\t\tautoHeight: false,\n\t\t\tstagePadding: 0,\n\t\t\tresponsiveClass: true,\n\t\t\tautoplayTimeout: 3000,\n\t\t\tresponsive: {\n\t\t\t\t0: {\n\t\t\t\t\tautoplay: true,\n\t\t\t\t\tnav: false,\n\t\t\t\t\titems: 1,\n\t\t\t\t\tdots: true\n\t\t\t\t},\n\t\t\t\t992: {\n\t\t\t\t\tautoplay: true,\n\t\t\t\t\tnav: true,\n\t\t\t\t\titems: 1,\n\t\t\t\t\tdots: false\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t},\n\n\t// Modal\n\tmodal: function() {\n\n\t\tvar $el = $('[href$=\".jpg\"], [href$=\".png\"], [href$=\".gif\"], [href$=\".jpeg\"], [href$=\".webp\"]');\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$el.fancybox();\n\n\t},\n\n\t// Infinite scroll\n\tinfiniteScroll: function() {\n\n\t\tvar $el = $('.js-infinite-container');\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$el.infiniteScroll({\n\t\t\tpath: '.js-next-page',\n\t\t\tappend: '.js-infinite-post',\n\t\t\thistory: false,\n\t\t\tscrollThreshold: 400,\n\t\t\thideNav: '.pagination',\n\t\t\tstatus: '.js-infinite-status'\n\t\t});\n\n\t},\n\n\t// Toggle class\n\ttoggleClass: function() {\n\n\t\tvar elName = '.js-toggle-class';\n\t\tvar $el = $(elName);\n\n\t\tif ($el.length == 0) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t$('body').on('click', elName, function(event) {\n\n\t\t\tevent.preventDefault();\n\t\t\tvar $elCliked = $(this);\n\t\t\tvar toggleClassName = 'is-active';\n\n\t\t\t// Add data-toggle-class-name=\"customclass\" to change the default class name\n\t\t\tif ($elCliked.attr('data-toggle-class-name')) {\n\n\t\t\t\ttoggleClassName = $elCliked.data('toggle-class-name');\n\n\t\t\t}\n\n\t\t\t// Add data-toggle-class-selector=\"selector1 selector2\" to toggle class on different tag\n\t\t\tif ($elCliked.attr('data-toggle-class-selector')) {\n\n\t\t\t\tvar toggleClassSelector = $elCliked.data('toggle-class-selector');\n\t\t\t\tvar obj = toggleClassSelector.split(' ');\n\n\t\t\t\t$.each(obj, function(index, value) {\n\n\t\t\t\t\t$('.' + value).toggleClass(toggleClassName);\n\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\t$elCliked.toggleClass(toggleClassName);\n\n\t\t\t}\n\n\t\t});\n\n\t}\n};\n"]}